<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<title>Change Log</title>
<link rel="stylesheet" href="armedbear.css" type="text/css">
</head>

<ul>

<li>
  <b>Apr 11 2010 - Version 0.23.0</b>
  <p>
  This release contains ABCL 0.19.1 along with support for svn and updated icons.  Java 1.5 is now required and 1.6 is suggested.
  <p>
  Subversion support has been added in this release and can be used with the svn* commands.  A new StatusMode has been added for version control status output buffers.  Please see the <a href="doc/vcs.html">version control</a> documentation for more information.
  <p>
  J's icons have been refreshed to the current Gnome icon set.  In addition, you may now change the size of the toolbar icons to either 16 or 24 (the default) by setting <a href="doc/preferences.html#ToolBar.iconSize">ToolBar.iconSize</a> in your prefs file.
  <p>
  When opening files with the location bar or using a shell buffer, the &lt;Tab&gt; key completes the filename.  The completion feature will now ignore any files that match the <a href="doc/preferences.html#filenameCompletionsExcludePattern">filenameCompletionsExcludePattern</a> regular expression.  The <a href="doc/commands.html#findInFiles">find in files</a> dialog has a new <em>default excludes</em> option that will skip files that match the <em>filenameCompletionsExcludePattern</em> regex which is very useful when searching across files that would have included the .svn metadata directories.
  <p>
  To quickly locate and edit the prefs file, a new <a href="doc/commands.html#editPrefs">editPrefs</a> command has been added.
</li>

<li>
  <b>Mar 24 2009 - Version 0.22.0</b>
  <p>
  First release in years!
  This release contains ABCL 0.13.0 along with many bug fixes and numerous small enhancements.
  <p>
  Improved lisp shell editor support for OpenMCL, AllegroCL, and CMUCL.
  Editor indentation fixes for java, cpp, lisp, python, ruby, perl, and html.
  Darcs is now supported and the p4 commands have had many bug fixes.
  <p>
  New commands:<br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#electricQuote">electricQuote</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#enlargeWindow">enlargeWindow</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#justOneSpace">justOneSpace</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#shrinkWindowIfLargerThanBuffer">shrinkWindowIfLargerThanBuffer</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#tempBufferQuit">tempBufferQuit</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#darcs">darcs</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#describe">describe</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#describeBindings">describeBindings</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#endMacro">endMacro</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#electricCloseParen">electricCloseParen</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#markSexp">markSexp</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#mouseCopyToInput">mouseCopyToInput</a><br>
  <a href="http://armedbear-j.sourceforge.net/doc/commands.html#startMacro">startMacro</a><br>
</li>

<li>
  <b>Sep 24 2004 4:45 PM - Version 0.21.0</b>
  <p>
  Some minor problems that prevented j from working correctly with the Java 1.5
  betas are fixed in this release.
  <p>
  It is now possible to use drag/drop in the sidebar buffer list to reorder the
  buffers, so that navigating between buffers using
  <a href="doc/commands.html#nextBuffer">nextBuffer</a> and
  <a href="doc/commands.html#prevBuffer">prevBuffer</a> (mapped by default to
  Alt Right and Alt Left, respectively) is more efficient. Thanks to Mike
  Rutter for providing the code to do this.
  <p>
  By request, the command
  <a href="doc/commands.html#wrapParagraphsInRegion">wrapParagraphsInRegion</a>
  has been added. It is mapped by default to Ctrl Shift F12 in plain text and
  mail composition buffers.
  <a href="doc/commands.html#wrapParagraphsInRegion">wrapParagraphsInRegion</a>
  walks through the region (or the whole buffer if no region is selected) and,
  in effect, calls <a href="doc/commands.html#wrapParagraph">wrapParagraph</a>
  on each paragraph.
  <p>
  The wrap commands should now do a better job of handling lines that break on
  the hyphen of a hyphenated word (like "wrap-paragraph"). If the paragraph is
  subsequently reformatted in such a way that the line break no longer falls on
  the hyphen in question, the parts of the hyphenated word are now put back
  together properly. In previous versions of j, you were likely to end up with
  "wrap- paragraph", with a bogus extra space after the hyphen.
  <p>
  The commands
  <a href="doc/commands.html#pageUpOtherWindow">pageUpOtherWindow</a> and
  <a href="doc/commands.html#pageDownOtherWindow">pageDownOtherWindow</a> have
  been added. They are mapped by default to Alt Page Down and Alt Page Up,
  respectively, in all modes. These commands are helpful in a split-window
  situation when you want to scroll the other window without switching to it.
  <p>
  The commmand
  <a href="doc/commands.html#findOccurrenceAtDotAndKillList">findOccurrenceAtDotAndKillList</a>
  has been added. It is mapped by default to Ctrl Enter in List Occurrences
  buffers. It works like
  <a href="doc/commands.html#findOccurrenceAtDot">findOccurrenceAtDot</a>, but
  in addition it closes the List Occurrences buffer.
  <p>
  The commands <a href="doc/commands.html#shellNextPrompt">shellNextPrompt</a>
  and <a href="doc/commands.html#shellPreviousPrompt">shellPreviousPrompt</a>
  have been added. They are mapped by default to Ctrl Alt N and Ctrl Alt P,
  respectively, in shell buffers and their derivatives (including Lisp shells),
  and they help you find the next or previous prompt, starting from the current
  location of the caret.
  <p>
  The command <a href="doc/commands.html#p4Log">p4Log</a> has been added. It
  runs the Perforce command "filelog -l" on the file associated with the
  current buffer.
  <p>
  The command <a href="doc/commands.html#p4Diff">p4Diff</a> now runs the
  Perforce command "p4 diff -f -du", instead of "p4 diff -du". This change
  means that <a href="doc/commands.html#p4Diff">p4Diff</a> will display
  potentially useful output even if the file associated with the current buffer
  has not, in Perforce's opinion, been officially opened for editing.
  <p>
  J's ssh-related code now recognizes "Response:" as a password prompt, in
  addition the to other password prompts it recognized already.
  <p>
  Compilation buffers are now supported on Windows NT 4. Thanks to Pete Kirkham
  for pointing out that this was possible.
  <p>
  In previous versions of j, there was an incorrect optimization in the display
  code which malfunctioned on very rare occasions and caused lines to disappear
  from the display, even though they were still present in the buffer (there
  was never any loss of data). This bug has been fixed by removing the
  optimization in question.
  <p>
  There are a number of new features and minor improvements in Lisp mode and
  in Lisp shells. Thanks to Sam Steingold for help with many of these.
  <p>
  This release includes version 0.0.4 of Armed Bear Common Lisp. ABCL 0.0.4
  passes 17778 out of 17942 tests in the GCL ANSI Common Lisp test suite, for a
  nominal compliance of 99.0859%. The test suite is still not complete,
  however, so ABCL's actual percentage of ANSI compliance, whatever that may
  mean, is undoubtedly lower. In any case, version 0.0.4 represents a
  substantial improvement over version 0.0.3, back when it was still called
  Armed Bear Lisp, which passed 12986 out of 14127 tests (91.92%).
  <p>
  ABCL includes a compiler, written in Lisp, that generates JVM bytecode from
  Lisp source. The compiler is not finished, and there are valid Lisp
  constructs that it doesn't know how to compile. In most situations, when the
  compiler encounters code that it can't compile correctly, it is smart enough
  to leave the code alone so that it will continue to work correctly with the
  interpreter. Compiled code and interpreted code can coexist happily in the
  same running instance of ABCL.
  <p>
  The 0.21.0 binary distribution contains a compiled version of the Lisp
  library code (i.e. a full set of .abcl and .cls files), as well as the Lisp
  source files for the library code that is implemented in Lisp. If you build j
  from source, using either configure/make or Ant, the Lisp library code will
  be compiled as part of the build. There is no longer any need to do
  COMPILE-SYSTEM manually.
  <p>
  ABCL 0.0.4 is better at some things than others. In particular, it's not very
  good at CLOS. ABCL's CLOS correctness is reasonable, but its CLOS performance
  is terrible (for one thing, the compiler doesn't even attempt to compile
  generic functions). This deficiency is due more to simple neglect than to any
  intrinsic limitation, and the CLOS implementation should improve in future
  releases.
  <p>
  You can start ABCL from within j by doing Alt X, "abcl", or by selecting "Run
  Lisp as Separate Process" from the Lisp menu. Note that the "Run Embedded
  Lisp" menu selection opens a Lisp shell using an instance of ABCL that runs
  in the editor process; it only makes sense to do this if you're planning to
  interact with the running instance of j, which is not normally the case. If
  you just want to experiment with ABCL, "Run Lisp as Separate Process" (or Alt
  X, "abcl") is your friend.
  <p>
  If you're truly adventurous, you can also start ABCL from within j by doing
  Alt X, "slime". J's version of slime is adapted from the "Superior Lisp
  Interaction Mode for Emacs", originally written by Eric Marsden, Luke Gorrie
  and Helmut Eller. Slime-for-j is less than a month old, so it is nowhere near
  as robust or featureful as slime-for-emacs, but in principle it offers more
  functionality than Alt X, "abcl". In particular, the tab key can be used for
  symbol completion, function argument lists are displayed in the status bar
  when you type a space, and Alt . should work to find function definitions (if
  you've built ABCL from source). In addition, the evaluation of forms and
  regions in Lisp source files makes an attempt to set *PACKAGE* to the right
  thing first. I don't think any of these features works 100% correctly yet,
  but even so, slime-for-j feels like an improvement over the basic Lisp shell
  functionality available in previous versions of j. For more information, see
  slime.lisp.
  <p>
  More (and more timely) details about recent changes in j and ABCL are
  available on the J Development Mailing List, the archives of which are
  <a href="http://sourceforge.net/mailarchive/forum.php?forum_id=9737">here</a>
  (or on
  <a href="http://news.gmane.org/thread.php?group=gmane.editors.j.devel">Gmane</a>).
  <br><br>
</li>

<li>
  <b>Oct 23 2003 10:46 AM - Version 0.20.2</b>
  <p>
  This release introduces a number of minor editor improvements and fixes a few
  minor bugs.
  <p>
  In addition, this release includes (at no extra charge) version 0.0.3 of
  Armed Bear Lisp. ABL now passes 12986 of the 14127 tests in the GCL ANSI
  Common Lisp test suite (91.92%), up from 7918 of 12842 tests (61.66%) at the
  end of June. The test suite doesn't cover everything, however, so the
  percentage of ANSI CL compliance (if that concept is meaningful at all) is
  really quite a bit lower. And as the saying goes, the last 1141 test failures
  are always the hardest ones to fix.
  <p>
  There is a bit more glue in this release to support using Lisp to script
  editor functionality. Both interface and implementation are still very much
  subject to change, but what's there now can be found in LispAPI.java and
  j.lisp, and there are a couple of real-world examples in the examples
  directory.
  <p>
  By request, starting with this release, antialiasing is applied to menus,
  toolbars, dialogs, etc., as well as to the text in the edit window.
  <p>
  To enable antialiasing, add this line to ~/.j/prefs:
  <pre>
      antialias = true</pre>
  <p>
  Antialiasing is off by default.
  <p>
  In previous versions, j has followed a policy of not relocating the caret to
  stay in the edit window if you did mousewheel- or scrollbar-based scrolling
  (or used <a href="doc/commands.html#windowUp">windowUp</a> or
  <a href="doc/commands.html#windowDown">windowDown</a>).
  <p>
  A problem with this approach is that if you scroll a few pages and
  decide you like where you've ended up, you can't just start typing or
  hit a cursor key, because that will take you summarily back to whence
  you came before you started scrolling; you need to click in the edit
  window first, and it's easy to forget to do this.
  <p>
  Despite this problem, this behavior was (I seem to recall) the standard
  behavior of most Windows-based editors at some point in the distant
  past when I paid more attention to Windows-based editors than I do
  today.
  <p>
  By request, this behavior is changed in this release.
  <p>
  Generally speaking, the caret is now forced to stay with you in the
  edit window when you scroll.
  <p>
  So, for example, if the caret scrolls off the top of the window, it
  gets reeled back in and placed in the leftmost column of the top line,
  where it stays while the text continues to scroll up, as long as you
  keep scrolling.
  <p>
  If you wander away in this manner and do want to return to your starting
  point, <a href="doc/commands.html#undo">undo</a> (Ctrl Z) is your friend.
  <p>
  There is one exception to this new behavior: if a selection is active
  in the edit window, scrolling does not move the caret.
  <p>
  If you decide you prefer the old behavior, you can have it back by adding
  this line to ~/.j/prefs:
  <pre>
      scrollCaret = false</pre>
  <p>
  By request, the command
  <a href="doc/commands.html#selectToMarker">selectToMarker</a> has been added.
  You can now drop a bookmark by doing (for example) Alt 1 at the location of
  interest, then go somewhere else in the same file and do Alt X,
  "selectToMarker 1", and the region between the caret and marker 1 (which is
  the same thing as bookmark 1) will be selected.
  <p>
  I didn't map "selectToMarker 1" to Ctrl Shift 1, because (for one thing) Ctrl
  Shift 9 is already spoken for in certain modes (it's mapped to
  <a href="doc/commands.html#insertParentheses">insertParentheses</a> in Java
  and Lisp modes, for example).
  <p>
  And I didn't map
  <a href="doc/commands.html#selectToMarker">selectToMarker</a> (by itself) to
  any key combination either, because no compelling mapping came to mind.
  Suggestions are welcome. You can always do
  <pre>
      (global-map-key "Alt F11" "selectToMarker")</pre>
  in ~/.j/init.lisp, if you find Alt F11 compelling (for example).
  <p>
  The commands
  <a href="doc/commands.html#dropTemporaryMarker">dropTemporaryMarker</a>,
  <a href="doc/commands.html#gotoTemporaryMarker">gotoTemporaryMarker</a>, and
  <a href="doc/commands.html#selectToTemporaryMarker">selectToTemporaryMarker</a>
  have been added, mapped by default to Alt \, Ctrl \, and Ctrl Shift \,
  respectively. These commands do what their names suggest and are like the
  similarly named bookmark commands, except that they act on a single, global
  temporary marker which is recycled for each use, and there is no prompting
  for confirmation when you try to re-use the marker.
  <p>
  Since the beginning of time,
  <a href="doc/commands.html#findInFiles">findInFiles</a> and
  <a href="doc/commands.html#replaceInFiles">replaceInFiles</a> have used the
  Java definition of a word (from a delimiter perspective) when the "Whole
  words only" checkbox was checked, which works well enough for Java, C and C++.
  <p>
  This behavior is suboptimal, however, if you're searching (say) Lisp
  files, where searching for the word "complete" with "Whole words only"
  checked would find a match in the string "ilisp-complete", which is
  clearly wrong.
  <p>
  In this respect, the behavior of
  <a href="doc/commands.html#findInFiles">findInFiles</a> was also not
  consistent with the behavior of <a href="doc/commands.html#find">find</a> in
  a single buffer, which used the method isIdentifierPart() from the mode of
  the buffer to determine whether a particular substring match was actually
  word-delimited.
  <p>
  This release makes an attempt to remedy this deficiency.
  <p>
  The findInFiles dialog now offers a "Mode" combo box if you check the
  "Whole words only" option.
  <p>
  The combo box should come up prefilled with a plausible mode, based on
  the contents of the "Files" textfield. If there are multiple entries
  in the "Files" textfield, the first one is used to set the default. If
  the contents of the textfield don't correspond to a known mode, Java
  mode is used as the default.
  <p>
  You can change the mode in the combo box to force the search to follow
  the word-delimiter rules of a different mode of your choosing, but this
  should not be necessary in most cases.
  <p>
  The search then follows the word-delimiter rules of the specified mode.
  In addition, the occurrences list uses the rules of the specified mode
  to control its highlighting of the found pattern (which was another
  inconsistency in previous versions).
  <p>
  Since the beginning of time, the command
  <a href="doc/commands.html#findMatchingChar">findMatchingChar</a> has been
  mapped by default to Ctrl M. This command finds the match for the
  parenthesis, brace, or bracket at (or near) the current location of the caret.
  <p>
  In previous versions, if what you were trying to match was a left
  delimiter ('(', '{', or '['), the caret would be placed to the left of
  the matching right delimiter (')', '}', or ']').
  <p>
  This is well and good, but it is inconsistent with the way matching
  delimiters are highlighted when the
  <a href="doc/preferences.html#highlightBrackets">highlightBrackets</a>
  preference is turned on: the right delimiter is highlighted when the caret is
  to the right of it, not to the left of it.
  <p>
  So, starting with this snapshot,
  <a href="doc/commands.html#findMatchingChar">findMatchingChar</a> puts the
  caret to the right of, rather than to the left of, the matching delimiter, if
  the matching delimiter is a right delimiter (')', '}', or ']').
  <p>
  Now, if you have the
  <a href="doc/preferences.html#highlightBrackets">highlightBrackets</a>
  preference turned on, both delimiters will be highlighted at both ends of the
  match operation.
  <p>
  I don't think this will cause any confusion once you get used to it,
  but it might take a little getting used to.
  <p>
  While I was thinking about this issue, it occurred to me that it might also
  be useful to provide a way to select the region from one delimiter to
  another, so I've added the command
  <a href="doc/commands.html#selectSyntax">selectSyntax</a>, which does just
  that.
  <p>
  <a href="doc/commands.html#selectSyntax">selectSyntax</a> is mapped by
  default to Ctrl Shift M, which makes a certain amount of sense from a
  mnemonic point of view, considering the use of Ctrl M for
  <a href="doc/commands.html#findMatchingChar">findMatchingChar</a> and the
  common application of Shift as a modifier meaning "select this". Sadly,
  however, this forces the previous tenant of Ctrl Shift M,
  <a href="doc/commands.html#showMessage">showMessage</a>, to move to Ctrl Alt
  M, which might even have made more sense to begin with, but that's what
  hindsight can do for you.
  <p>
  In Lisp mode, Ctrl Shift M is now mapped by default to
  <a href="doc/commands.html#lispSelectSyntax">lispSelectSyntax</a>, which has
  the added virtue that if a region is already selected, the selection is
  extended to the enclosing syntactic expression, making it useful (in some
  situations) to do Ctrl Shift M two (or more) times in a row.
  <p>
  By request, you can now disable the
  <a href="doc/commands.html#paste">paste</a> command's auto-detection and
  special handling of line blocks by adding this line to ~/.j/prefs:
  <pre>
      autoPasteLines = false</pre>
  or by adding this line to ~/.j/init.lisp:
  <pre>
      (setf (variable-value 'auto-paste-lines :global) nil)</pre>
  <p>
  By request, when you use the "here" dynamic alias as part of the
  <a href="doc/commands.html#compile">compile</a>
  command (e.g. "javac here"), the substituted string (to wit, the name of the
  file in the current buffer) is now enclosed in double quotes if it contains
  any embedded spaces.
  <p>
  By request, a top-level "Lisp" menu has been added, to make it easier (or
  possible) to figure out how to run Lisp from within j.
  <p>
  The new menu is invoked with the Alt L key combination, so the previous
  occupant of Alt L,
  <a href="doc/commands.html#listOccurrences">listOccurrences</a>, has been
  moved to Ctrl L.
  <p>
  Ctrl L, moreover, was previously assigned to
  <a href="doc/commands.html#listFiles">listFiles</a>, which is really
  <a href="doc/commands.html#listOccurrences">listOccurrences</a> for
  <a href="doc/commands.html#findInFiles">findInFiles</a>, so
  <a href="doc/commands.html#listFiles">listFiles</a> has been moved to Ctrl
  Shift L, which makes more sense in the big picture anyway (cf. Ctrl F,
  Ctrl Shift F, Ctrl R, Ctrl Shift R).
  <p>
  Ctrl Shift L, however, was previously assigned to
  <a href="doc/commands.html#sidebarListTags">sidebarListTags</a>, which all
  along would have been assigned to Ctrl Shift T, were it not for an odd bug in
  some ancient version of Java that prevented the Ctrl Shift T mapping from
  being recognized at all. That version of Java being no longer in the game,
  <a href="doc/commands.html#sidebarListTags">sidebarListTags</a> has now been
  moved to Ctrl Shift T, where it rightfully belonged from the beginning.
  <p>
  This is normally where I say, "All bugs reported to j's official bug tracker
  on SourceForge have been fixed for this release," but that's not quite true
  this time. There's one unfixed bug, involving incorrect indentation in C mode
  after a particular construct in a #define/#endif block.
  <p>
  More (and more timely) details about recent changes are available on the J
  Development Mailing List, the archives of which are
  <a href="http://sourceforge.net/mailarchive/forum.php?forum_id=9737">here</a>
  (or on
  <a href="http://news.gmane.org/thread.php?group=gmane.editors.j.devel">Gmane</a>).
  <br><br>
</li>

<li>
  <b>Jul 8 2003 9:48 AM - Version 0.20.1</b>
  <p>
  This release fixes several non-critical bugs in 0.20.0. All bugs reported to
  j's official bug tracker on SourceForge have now been fixed.
  <p>
  Starting with this release, BeanShell is no longer bundled with j, and
  init.bsh is no longer loaded at startup. Use
  <a href="doc/init.lisp.html">init.lisp</a> instead.
  <p>
  More details about recent changes are available on the J Development
  Mailing List, the archives of which are
  <a href="http://sourceforge.net/mailarchive/forum.php?forum_id=9737">here</a>
  (or on
  <a href="http://news.gmane.org/thread.php?group=gmane.editors.j.devel">Gmane</a>).
  <br><br>
</li>

<li>
  <b>Jun 26 2003 10:56 AM - Version 0.20.0</b>
  <p>
  Java 1.4 or later is now required.
  <p>
  This release officially introduces j's new built-in extension language, which
  has been lurking in the code since version 0.18.1. At that time, the language
  itself was an ad-hoc, bug-ridden and slow implementation of half of Common
  Lisp. Since then, it has gotten faster (by a factor of 2), and it's now up to
  61% of Common Lisp (it passes 7918 of the 12842 tests in the GCL ANSI test
  suite). I don't think it's particularly bug-ridden, but it's still very ad
  hoc, in terms of exactly what features have been implemented.
  <p>
  Initially, the only functionality that's officially supported is exactly the
  same functionality that has been supported since version 0.11.0 for BeanShell
  and init.bsh. More details are available in the
  <a href="doc/init.lisp.html">documentation</a>; there are also a couple of
  relevant example files in the examples directory of the distribution.
  <p>
  In the future, the plan is to extend the extension language to provide
  editor-specific functionality that's more or less in the spirit of Emacs Lisp
  (arguably, j is architecturally closer to
  <a href="http://www.stud.uni-karlsruhe.de/~unk6/hemlock/">Hemlock</a> than to
  Emacs, but that's not important now).
  <p>
  Future releases of j will no longer bundle BeanShell or load init.bsh, so if
  you're doing customizations in init.bsh, this would be a good time to move
  them into init.lisp. Converting uses of the officially supported API should
  be absolutely trivial. If you have trouble, or if you're using BeanShell
  beyond the scope of the official API and would like to convert your code, let
  me know and I'll try to help.
  <p>
  Note that j's Lisp can <a href="doc/java.html">call arbitrary Java code</a>,
  so in principle it should be possible to do anything in Lisp that you might
  have been doing in BeanShell.
  <p>
  Since Java 1.4 includes an XML parser, j no longer bundles &AElig;lfred. You
  can still <a href="doc/xmlmode.html">use an external XML parser</a> if you
  prefer.
  <p>
  The command
  <a href="doc/commands.html#xmlValidateBuffer">xmlValidateBuffer</a> has been
  added, which validates the contents of the current buffer against its DTD.
  Both <a href="doc/commands.html#xmlValidateBuffer">xmlValidateBuffer</a> and
  <a href="doc/commands.html#xmlParseBuffer">xmlParseBuffer</a> now use a
  transient output buffer to display errors and warnings. The transient output
  buffer works just like a compilation buffer in programming modes: the
  commands <a href="doc/commands.html#nextError">nextError</a>,
  <a href="doc/commands.html#previousError">previousError</a>, and
  <a href="doc/commands.html#showMessage">showMessage</a> are available to help
  you make sense of the situation there.
  <p>
  Some modes (including XML mode) now have a "Mode" menu, to make it easier to
  find mode-specific features, such as the ones described in the preceding
  paragraph.
  <p>
  Early on, j's support for customized key mappings involved writing out a
  keymap file (using
  <a href="doc/commands.html#writeGlobalKeyMap">writeGlobalKeyMap</a> or
  <a href="doc/commands.html#writeLocalKeyMap">writeLocalKeyMap</a>), editing
  it to taste and then pointing to it from ~/.j/prefs.
  <p>
  This approach works and is still supported, but it's unwieldy to have to do
  all that if you just want to change one or two key mappings.
  <p>
  The solution to that problem was to support ad hoc key mappings, first in
  init.bsh (which is deprecated as of the current release) and now in init.lisp.
  <p>
  This led to a new problem, however: if you're using custom keymaps, and
  also have some ad hoc mappings in init.lisp, then, when you edit a
  keymap, the reloading of that keymap is likely to discard some or all
  of the ad hoc mappings.
  <p>
  Starting with this release, by default, saving ~/.j/prefs (or the file
  containing a custom keymap that's pointed to in ~/.j/prefs) no longer
  automatically reloads the affected keymap(s) or makes any change to the key
  mappings that are in effect, so your ad hoc key mappings are (by default)
  preserved.
  <p>
  There's a new command,
  <a href="doc/commands.html#reloadKeyMaps">reloadKeyMaps</a>, that does what
  its name suggests: all the custom keymaps (or j's internal defaults, if there
  are no custom keymaps) are reloaded, and any ad hoc key mappings are
  discarded.
  <p>
  If you do use custom keymaps and don't care about ad hoc key
  mappings, you can add this line to ~/.j/prefs:
  <pre>
        autoReloadKeyMaps = true</pre>
  and things will work just like they used to: your keymaps will be
  reloaded automatically when you edit them (or when you edit ~/.j/prefs).
  <p>
  While I was at it, I added another new command,
  <a href="doc/commands.html#defaultKeyMaps">defaultKeyMaps</a>, that discards
  all custom key mappings (including ad hoc key mappings) and restores j's
  internal defaults.
  <p>
  The command <a href="doc/commands.html#apropos">apropos</a> has been added.
  It's not mapped to any keystroke by default, but it's available on the Help
  menu.
  <p>
  The preference <a href="doc/preferences.html#patchMode">patchMode</a> has
  been added. If you specify an extension such as ".orig" as the value for this
  preference, the specified extension is used to create the initial backup when
  a file is first edited (so, for example, "foo.java" gets backed up for the
  first time in "foo.java.orig"). The <a href="doc/commands.html#diff">diff</a>
  command, when invoked with no arguments, now looks for the .orig file
  corresponding to the file in the current buffer and diffs the current
  contents of the buffer against that file. You can reset this behavior by
  deleting all the .orig files.
  <p>
  Thanks for your support.
  <br><br>
</li>

<li>
  <b>May 28 2003 10:09 AM - Version 0.19.0</b>
  <p>
  Other things being equal, this will be the last release of j that runs with
  Java 1.3. For future releases, Java 1.4 or later will be required.
  <p>
  This release formally introduces j's built-in JPDA-based Java debugger.
  <p>
  The debugger has actually been lurking quietly in the code base for a long
  time as an undocumented feature. It is now documented in
  <a href="doc/jdb.html">doc/jdb.html</a> and
  <a href="doc/jdbcommands.html">doc/jdbcommands.html</a>. From within j, Alt
  X, "help jdb" (or Alt X, "help jdb.html") should get you started.
  <p>
  (Note that there are better debuggers than this one; the main advantage of
  this debugger is its integration with j. If you need a more powerful
  debugger, consider
  <a href="http://www.bluemarsh.com/java/jswat/index.html">JSwat</a>.)
  <p>
  In order for the debugger to work, tools.jar (which is part of the JDK) needs
  to be in j's CLASSPATH, which will not be the case if you just do "java -jar
  j.jar". See the installation section of
  <a href="doc/jdb.html">doc/jdb.html</a> for full details.
  <p>
  In other news, j now opens .diff and .patch files in diff mode by default.
  Patches embedded in mail messages are now syntax-highlighted appropriately.
  <p>
  The command <a href="doc/commands.html#diff">diff</a> has been added,
  available via Alt X. For useful output this command requires two filenames.
  One of them can be "%", which is a dynamic alias for the name of the file in
  the current buffer. For example, at the command prompt after Alt X:
  <pre>
        diff -ub % ~/backup</pre>
  This command line compares the file in the current buffer against its backup
  copy in the directory ~/backup. You need to supply the complete command line
  at the command prompt. If you don't explicitly specify any switches, j will
  run "diff -u"; diff mode works best with unified diffs.
  <p>
  The preference <a href="doc/preferences.html#restrictCaret">restrictCaret</a>
  now defaults to true, meaning that the caret's perambulations are restricted
  to the actual text on the line. If you prefer the virtual space concept,
  which was the old default, add this line to ~/.j/prefs:
  <pre>
        restrictCaret = false</pre>
  The command <a href="doc/commands.html#killWindow">killWindow</a> is now
  mapped by default to Ctrl Shift F10, which makes some sense when you consider
  that <a href="doc/commands.html#unsplitWindow">unsplitWindow</a> is mapped by
  default to Shift F10.
  <p>
  The command
  <a href="doc/commands.html#dirOpenFileAndKillDirectory">dirOpenFileAndKillDirectory</a>
  has been added. It is mapped by default to Ctrl Enter in directory buffers.
  It does what its name suggests.
  <p>
  The preference <a href="doc/preferences.html#confirmSend">confirmSend</a> is
  now true by default.
  <p>
  All bugs reported to j's official bug tracker on SourceForge have been fixed
  for this release, as well as quite a few that never made it that far.
  <p>
  Plus a larger-than-usual accumulation of code cleanups, subliminal
  enhancements, and minor adjustments to the user experience.
  <p>
  Thanks for your support.
  <br><br>
</li>

<li>
  <b>Mar 31 2003 11:53 AM - Version 0.18.1</b>
  <p>
  This release fixes a number of non-critical bugs. The worst of these caused a
  memory leak in certain situations when j kept a reference to a closed buffer
  for no good reason. Most of the others were either of very minor consequence
  or very hard to trigger.
  <p>
  Officially, there isn't much new functionality in this release. Syntax
  highlighting and indentation should work a bit better in Lisp mode. The
  command <b>backwardSexp</b>, mentioned in the documentation for 0.18.0, has
  now actually been implemented (and mapped to Ctrl Alt B in Lisp mode, as the
  aforementioned documentation promised).
  <p>
  Unofficially, the infrastructure for j's new extension language is present
  for the first time in this release, albeit a bit sub rosa. The language
  itself, at the moment, is an ad-hoc, bug-ridden and slow implementation of
  half of Common Lisp, but it does try to conform to the official ANSI
  specification. More information is available in the archives of the j
  development mailing list (for example

  <a href="http://sourceforge.net/mailarchive/forum.php?thread_id=1899168&forum_id=9737">here</a>).
  <p>
  Thanks for your support.
  <br><br>
</li>

<li>
  <b>Jan 8 2003 9:04 AM - Version 0.18.0</b>
  <p>
  By default, the caret now blinks.
  <p>
  You can make it stop by adding this line to ~/.j/prefs:
  <pre>
        blinkCaret = false</pre>
  <p>
  Since the beginning of time, the <b>openFile</b> command (mapped by default
  to Ctrl O) has provided filename completions when you type in part of the
  filename and press the Tab key.
  <p>
  In previous versions, you had to keep hitting the Tab key to cycle through
  all of the possibilities.
  <p>
  Starting with this release, this feature has a fancier UI, which is enabled
  by default.
  <p>
  There are two new preferences to control the new behavior (shown here with
  their default values):
  <pre>
        showCompletionList = true
        selectCompletion = true</pre>
  <p>
  You can have things the old way, with no completion list and no fancy UI, by
  adding this line to ~/.j/prefs:
  <pre>
        showCompletionList = false</pre>
  <p>
  When the completion list is enabled, and when <b>selectCompletion</b> is true
  (which is the default), the part of the filename that you didn't actually
  type (i.e., the part that's supplied by the completion facility) is selected
  in the location bar textfield, so that the next character you type (if you
  keep typing) replaces the completion, as if it never happened. (This is
  probably the behavior you want, if you like this sort of thing at all.)
  <p>
  Regardless of the value of <b>selectCompletion</b>, you can always use Escape
  to clear the completion (and remove the completion list), in case none of the
  possibilities presented to you is exactly what you had in mind.
  <p>
  The command <b>renumberRegion</b> has been added. It's not mapped to any key
  by default, but it's available via <b>executeCommand</b> (Alt X).
  <p>
  <b>renumberRegion</b> changes the first number in each line of the selected
  region so that the it is one more than the first number in the preceding
  line. By default, the smallest value in the entire region is used as the
  value for the first line. The order of the lines is not changed. Only the
  first number in each line is considered, and lines that don't contain a
  number at all are ignored.
  <p>
  For example, suppose you start with a region that looks like this:
  <pre>
        private static final int DEFUN       = 52;
        private static final int DEFVAR      = 6;
        private static final int DO          = 17;
        private static final int DOLIST      = 81; // Not 82!
        private static final int IF          = 9;
        private static final int LAMBDA      = 1;
        private static final int LET         = 3;</pre>
  <p>
  When invoked with no arguments, renumberRegions starts by looking at the
  first number in each line of the region to find the smallest value (which in
  this case is 1). The first number in the first line of the region (52) is
  replaced with this value (1), and the first number in each subsequent line is
  changed so that it is one more than the first number on the preceding line.
  So the region ends up looking like this:
  <pre>
        private static final int DEFUN       = 1;
        private static final int DEFVAR      = 2;
        private static final int DO          = 3;
        private static final int DOLIST      = 4; // Not 82!
        private static final int IF          = 5;
        private static final int LAMBDA      = 6;
        private static final int LET         = 7;</pre>
  <p>
  Note that the comment ("Not 82!") is unchanged, since 82 is not the first
  number on that particular line.
  <p>
  You can also explicitly specify what number to start with by providing a
  numeric argument with the command. For example, if you do Alt X,
  "renumberRegion 100", the region ends up looking like this:
  <pre>
        private static final int DEFUN       = 100;
        private static final int DEFVAR      = 101;
        private static final int DO          = 102;
        private static final int DOLIST      = 103; // Not 82!
        private static final int IF          = 104;
        private static final int LAMBDA      = 105;
        private static final int LET         = 106;</pre>
  <p>
  The code that does syntax highlighting in Lisp mode has been completely
  rewritten.
  <p>
  The default list of "keywords" (which in this context is a confusing term) in
  LispMode.keywords now supports ANSI Common Lisp, and ANSI Common Lisp only,
  rather than the previous hodgepodge. After all, no one in his right mind uses
  j to edit Emacs Lisp... ;)
  <p>
  Symbols representing official Common Lisp functions (e.g. "list") are now
  highlighted as keywords only when they are the first element of their
  containing form (and only when the containing form itself isn't quoted). So,
  for example, "list" is highlighted in "(list 1 2 3)", but not in "(member x
  list)", which is as it should be. (There are still some cases where things
  aren't quite perfect; "list" is still erroneously highlighted in "(let ((list
  x)) ...)", for example.)
  <p>
  There are four new syntactic elements (quoting here from Kodiak):
  <pre>
        LispMode.color.substitution             = 153 0 153
        LispMode.color.punctuation              = 102 102 102
        LispMode.color.parenthesis              = 102 102 102
        LispMode.color.secondaryKeyword         = 0 102 153</pre>
  <p>
  <b>substitution</b> is used for symbols preceded by "," or ",@" within a
  backquoted expression.
  <p>
  <b>punctuation</b> is used for backquote itself, and for "," and ",@".
  <p>
  <b>parenthesis</b> is used for parentheses.
  <p>
  <b>secondaryKeyword</b> is used for lambda-list keywords ("@optional",
  "@rest", etc.) and symbols that start with ':' (i.e. symbols in the keyword
  package).
  <p>
  I've updated Kodiak, AnokhaClassic and Freefloater to support the new
  syntactic elements. Sensible fallbacks are in place, so you shouldn't notice
  anything particularly amiss if you use a different theme, but the new
  syntactic elements won't be highlighted in the new way if you're using an old
  theme.
  <p>
  (The real point of <b>color.parenthesis</b>, BTW, is to help you overcome
  your fear of parentheses by choosing a color that makes them less
  conspicuous, and hence less fearsome.)
  <p>
  The command <b>hyperspec</b> has been added. It's mapped by default to Alt F1
  in Lisp mode.
  <p>
  <b>hyperspec</b> displays the Common Lisp HyperSpec documentation for the
  symbol at the current location of the caret.
  <p>
  The documentation is displayed in a second window, splitting the current
  window if necessary. This transient window can be dismissed using the command
  <b>escape</b>, mapped by default to the Escape key.
  <p>
  You can also invoke the <b>hyperspec</b> command with Alt X, giving the
  symbol name as an argument (e.g. Alt X, "hyperspec mapcar", or Alt X, "hs
  mapcar", "hs" being a built-in abbreviation for "hyperspec").
  <p>
  The Common Lisp HyperSpec is available for download here:
  <pre>
      <a href="http://www.lispworks.com/reference/HyperSpec/index.html">http://www.lispworks.com/reference/HyperSpec/index.html</a></pre>
  <p>
  or:
  <pre>
        apt-get install hyperspec</pre>
  <p>
  For the <b>hyperspec</b> command to work, you may need to add a line to your
  preferences file specifying the location of the HyperSpec root directory on
  your system:
  <pre>
        clhsRoot = /usr/share/doc/hyperspec</pre>
  <p>
  (This should not be necessary on a Debian system.)
  <p>
  Finally, all bugs reported to j's official bug tracker on SourceForge have
  been fixed (or otherwise dealt with) in this release.
  <br><br>
</li>

<li>
  <b>Nov 18 2002 4:47 PM - Version 0.17.2</b>
  <p>
  This release fixes three problems with 0.17.1.
  <p>
  To start with the worst of the three, if you were running Sun Java 1.4.1 fcs
  on either Windows or Linux, the version of j.jar in the 0.17.1 binary
  distribution would fail to load, although it did work with Sun 1.4.1_01 and
  many other versions of Java (I haven't tested them all). This was a build
  problem rather than a bug in the code.
  <p>
  For this release, I've verified that the version of j.jar in the binary
  distribution loads correctly (in my environment, at least) with Sun 1.4.1
  fcs, Sun 1.4.1_01, and Blackdown 1.4.1 beta on Linux, and with Sun 1.3.1_05,
  Sun 1.4.0_02, Sun 1.4.1 fcs, and Sun 1.4.1_01 on Windows 2000. Note that Java
  1.3 or better is required in any case; on platforms where Java 1.4.1 (or
  1.4.1_01) is available, that's what you should use.
  <p>
  The second problem was that <b>loadSession</b> was broken in both 0.17.0 and
  0.17.1. It should work again now.
  <p>
  Finally, on Unix, directory buffers parse the output of "ls -l" in order to
  provide additional information such as file permissions and user/group
  ownership. In at least one situation (on a German system running SuSE 8.1),
  "ls -l" was apparently using the "long-iso" time style by default, which
  confused j's parser and prevented directory buffers from working correctly.
  Starting with this release, the parser should be smart enough to handle this
  situation.
  <p>
  Thanks for your support.
  <br><br>
</li>

<li>
  <b>Nov 12 2002 7:39 AM - Version 0.17.1</b>
  <p>
  This release introduces custom toolbars, a <b>shellCommand</b> feature (on
  Linux only), and a number of minor improvements, including support for
  automatic indentation in Lisp mode. There are also fixes for a large number
  of bugs, most of them minor or rarely triggered or both.
  <p>
  By request, j now supports custom toolbars.
  <p>
  To customize your Java mode toolbar (for example), create an XML file that
  looks something like this:
  <pre>
        &lt;?xml version="1.0"?&gt;
        &lt;toolbar&gt;
            &lt;button label="New" icon="stock_new.png" command="newBuffer"/&gt;
            &lt;button label="Open" icon="stock_open.png" command="openFile"/&gt;
            &lt;button label="Save" icon="stock_save.png" command="save"/&gt;
            &lt;button label="Close" icon="stock_cancel.png" command="killBuffer"/&gt;
            &lt;separator/&gt;
            &lt;button label="Undo" icon="stock_undo.png" command="undo"/&gt;
            &lt;button label="Redo" icon="stock_redo.png" command="redo"/&gt;
            &lt;separator/&gt;
            &lt;button label="Cut" icon="stock_cut.png" command="killRegion"/&gt;
            &lt;button label="Copy" icon="stock_copy.png" command="copyRegion"/&gt;
            &lt;button label="Paste" icon="stock_paste.png" command="paste"/&gt;
            &lt;separator/&gt;
            &lt;button label="Find" icon="stock_search.png" command="find"/&gt;
            &lt;button label="Replace" icon="stock_search_and_replace.png" command="replace"/&gt;
            &lt;separator/&gt;
            &lt;button label="Directory" icon="stock_index.png" command="dir"/&gt;
            &lt;button label="Home" icon="stock_home.png" command="dirHomeDir"/&gt;
            &lt;button label="Inbox" icon="mail.png" command="inbox"/&gt;
            &lt;separator/&gt;
            &lt;button label="Compile" icon="stock_refresh.png" command="compile javac here"/&gt;
            &lt;separator/&gt;
            &lt;button label="Exit" icon="stock_exit.png" command="quit"/&gt;
        &lt;/toolbar&gt;
    </pre>
  <p>
  You can give this file any filename you want. For the purposes of this
  example, let's say it's "/home/peter/tb.xml".
  <p>
  Then add a line like this to ~/.j/prefs:
  <pre>
        JavaMode.toolBar = /home/peter/tb.xml</pre>
  <p>
  And you're done.
  <p>
  Compared to the default Java mode toolbar, the custom toolbar defined above
  has one additional button for "Compile". This button invokes j's "compile"
  command with the argument(s) "javac here" to compile the file that's open in
  the current buffer ("here" being a dynamic alias for the current file).
  <p>
  If the icon filename is a relative path (or a simple filename with no
  directory prefix at all), it's assumed to be relative to (or in)
  src/org/armedbear/j/images. You can also specify an absolute pathname
  for the icon, so you don't have to keep the icons for your custom
  toolbar in j's source tree.
  <p>
  By request, the command <b>shellCommand</b>, not mapped by default but
  available via Alt X, has been added, on Linux and similar platforms only
  (i.e. not on Windows).
  <p>
  <b>shellCommand</b> prompts for a command and then executes that command
  using /bin/sh. The output of the command (if any) is presented in a
  transient output buffer.
  <p>
  So, for example, you can do Alt X, "shellCommand ls -l" to get a directory
  listing of the current directory, or Alt X, "p4 opened" to see what files
  you have checked out from Perforce.
  <p>
  Note that you can append the shell command itself to the string you feed to
  Alt X, as in Alt X, "shellCommand ls -l". If you just do Alt X,
  "shellCommand", by itself, j will prompt you for the command to run.
  <p>
  The shell command you specify is executed in the editor's current directory,
  which is normally the parent directory of the file that's open in the
  current buffer, or the user's home directory if the current file is remote
  or if there is no file associated with the current buffer.
  <p>
  You can do real damage with an errant <b>shellCommand</b>, so caution is
  advised. It's much safer to perform delicate operations in a shell buffer
  (or even a real xterm), where the light is better and you can see what
  you're doing.
  <p>
  The property <b>reorderBuffers</b>, which controls reordering of buffers for
  the sidebar buffer list, was a boolean in previous versions of j. By
  request, it is now an integer, to support additional functionality.
  <p>
  If <b>reorderBuffers</b> is 0, no reordering is performed; buffers are left
  in the order in which they were originally opened. (In previous versions,
  this behavior was specified by a value of false.)
  <p>
  If <b>reorderBuffers</b> is 1, buffers opened (or activated) by
  <b>openFile</b> (and similar commands) are placed after the current buffer in
  the list. (In previous versions, this behavior was specified by a value of
  true.)
  <p>
  If <b>reorderBuffers</b> is 2, reordering is also performed when you use the
  sidebar buffer list to switch to a different buffer. (This behavior is new in
  this release.)
  <p>
  Buffers are never reordered when you use <b>nextBuffer</b> or
  <b>prevBuffer</b> to switch between buffers.
  <p>
  If the property <b>sortBufferList</b> is true, <b>reorderBuffers</b> is
  ignored.
  <p>
  The idea of buffer reordering is to keep the buffers that you're actively
  using close to one another in the buffer list, so you have some hope of
  navigating usefully among them with <b>nextBuffer</b> and <b>prevBuffer</b>.
  <p>
  Lisp mode now supports automatic indentation using the commands <b>tab</b>,
  mapped by default to the Tab key, and <b>newlineAndIndent</b>, mapped by
  default to Enter. It's not perfect, but it's better than nothing.
  <p>
  The Lisp mode tagger now skips over #|...|# comments, as it should.
  <p>
  The C and C++ taggers (and formatters) are no longer quite as likely to be
  confused by preprocessor continuation lines.
  <p>
  <b>iList</b>, an indispensable command that is mapped by default to Ctrl F6
  in C and C++ modes, now puts up an hourglass to reassure the user while it
  considers the situation.
  <p>
  <b>wrapParagraph</b>, mapped by default to F12 in mail composition buffers
  (and elsewhere too), now understands quoted text in mail messages, i.e. lines
  that begin with "&gt; " or "&gt; &gt; " or "&gt; &gt; &gt; ", etc. This means
  you can now use F12 to reformat quoted sections (or excerpts therefrom) in
  mail messages.
  <p>
  <b>describeKey</b>, mapped by default to Alt K, now describes ad hoc key
  mappings correctly.
  <p>
  This release also contains an unusually large number of bug fixes, mostly for
  bugs that were quite unlikely to occur in any event. The worst one was a
  problem with undo that made it impossible to undo the replay of a recorded
  macro that used the up or down cursor keys. This bug is now fixed, along with
  a number of others that you were even less likely to hit.
  <p>
  More details about recent changes in j are available on the J Development
  Mailing List, the archives of which are
  <a href="http://sourceforge.net/mailarchive/forum.php?forum_id=9737">here</a>.
  <br><br>
</li>

<li>
  <b>Sep 23 2002 9:14 PM - Version 0.17.0</b>
  <p>
  This release introduces persistent registers for storing text, an
  <b>alignStrings</b> command, new navigational behavior related to
  <b>findInFiles</b>, and a number of other minor improvements.
  <p>
  Starting with this release, j requires Java 1.3 or later. Java 1.4.1 is
  highly recommended if it's available for your platform.
  <p>
  Serious editors like vi, emacs and jEdit all support the concept of
  registers, which are basically named receptacles for storing text.
  <p>
  This release adds this functionality to j.
  <p>
  Unlike the other editors mentioned, j's registers persist across sessions.
  <p>
  There are five new commands: <b>saveToRegister</b>, <b>insertRegister</b>,
  <b>editRegister</b>, <b>clearRegister</b> and <b>listRegisters</b>.
  <p>
  These commands do what their names suggest. They're not mapped to any
  keystrokes by default, but they're available via <b>executeCommand</b> (Alt
  X).
  <p>
  The way all of this works is that you highlight a selection and then do (for
  example) Alt X, "saveToRegister a". The name of the register (in this
  example) is "a". "saveToRegister a" copies the selected region to register a.
  <p>
  Register names must be lower-case letters (a-z). That's "be", not "be
  composed of", so you get 26 registers.
  <p>
  Once you've put something in register a, you can paste it somewhere by doing
  Alt X, "insertRegister a".
  <p>
  Alt X, "editRegister a" opens a buffer so you can edit the contents of
  register a.
  <p>
  Alt X, "clearRegister a" deletes the contents of register a, leaving it
  empty again.
  <p>
  Using registers tends to be awkward without having these commands mapped to
  keystrokes. I'll be happy to provide default mappings for these commands as
  soon as someone suggests a scheme which is reasonably mnemonic and not too
  badly in conflict with anything else.
  <p>
  Since that may never happen, abbreviations are provided in this release for
  the more commonly used register commands: you can use <b>sr</b> for
  <b>saveToRegister</b>, <b>ir</b> for <b>insertRegister</b>, and <b>lr</b>
  for <b>listRegisters</b>.
  <p>
  So, for example, you can save the currently selected region to register x by
  doing Alt X, "sr x", and later paste it somewhere else with Alt X, "ir x".
  <p>
  If, like me, you can't remember from one day to the next what's in your
  registers, <b>listRegisters</b> (<b>lr</b> for short) is your friend.
  <p>
  <b>lr</b> is a bit like <b>listOccurrences</b> or <b>listMatchingTags</b>.
  In the <b>lr</b> output buffer, Enter (or Ctrl Shift G) opens a buffer so
  you can edit the contents of the corresponding register. Ctrl Enter inserts
  the contents of the current register at the location of the caret in the
  other window, provided that a second window is in fact open in the same
  frame (which is likely to be the case). Delete (that is, the Delete key)
  deletes the contents of the current register (i.e. the register at the
  location of the caret in the <b>lr</b> output buffer).
  <p>
  The command <b>alignStrings</b> is also new in this release. Like the
  register commands, it's not mapped to any keystroke by default, but it's
  available via <b>executeCommand</b> (Alt X).
  <p>
  <b>alignStrings</b> prompts for a regular expression and aligns the first
  occurrence of the specified regular expression in each line of the selected
  region.
  <p>
  For example, suppose you start with a region that looks like this:
  <pre><tt>
        private static final int STATE_VARIABLE = STATE_LAST + 1;
        private static final int STATE_HERE_DOCUMENT = STATE_LAST + 2;
        private static final int STATE_POD = STATE_LAST + 3;
        private static final int STATE_REGEXP_DELIMITER = STATE_LAST + 4;
        private static final int STATE_REGEXP = STATE_LAST + 5;
        private static final int STATE_SUBST = STATE_LAST + 6;</tt></pre>
  <p>
  If you specify "=" as the regular expression, <b>alignStrings</b> will make
  the region prettier by aligning the "=" in each line, like this:
  <pre><tt>
        private static final int STATE_VARIABLE         = STATE_LAST + 1;
        private static final int STATE_HERE_DOCUMENT    = STATE_LAST + 2;
        private static final int STATE_POD              = STATE_LAST + 3;
        private static final int STATE_REGEXP_DELIMITER = STATE_LAST + 4;
        private static final int STATE_REGEXP           = STATE_LAST + 5;
        private static final int STATE_SUBST            = STATE_LAST + 6;</tt></pre>
  <p>
  <b>alignStrings</b> ignores lines that don't contain the specified regular
  expression, so with a little care you can even use it to reformat
  regions that contain embedded comment lines (for example).
  <p>
  For a while now, <b>findInFiles</b> has worked by sending its output to a transient
  output buffer that gets displayed in the other window of the current frame
  (splitting the current window if necessary).
  <p>
  Starting with this release, some new behavior has been added to facilitate
  navigation in this situation.
  <p>
  The new behavior only comes into play if:
  <p>
  1. the last search in the current editor was <b>findInFiles</b>
  <p>
  2. the <b>findInFiles</b> output buffer is currently displayed in the other
  window of the current frame
  <p>
  If these conditions are met, j now tries to make the location of the caret
  in the <b>findInFiles</b> output buffer follow along with the commands <b>findNext</b>
  (mapped by default to Ctrl G and F3) and <b>findPrev</b> (mapped by default to Ctrl
  H and Shift F3) when these commands are carried out in the editable buffer
  in the other window.
  <p>
  Currently the algorithm to do this is not very smart, so things will very
  likely get out of sync if you make significant changes to the editable
  buffer as you go along. This deficiency is basically harmless, since that
  was the old behavior at all times.
  <p>
  In addition (and this is the real point), once you get to the end (or
  beginning) of the current buffer with <b>findNext</b> or <b>findPrev</b>,
  the next invocation of <b>findNext</b> or <b>findPrev</b>, instead of
  failing the search, will continue on with the next (or previous) occurrence
  in the <b>findInFiles</b> output list, which will be in a different file.
  (Note that this may not in fact be an actual occurrence of the string in
  question, by the time you get there, if the file in question has been
  modified since the <b>findInFiles</b> output list was generated.)
  <p>
  This is extremely useful if you're looking for occurrences of a particular
  string in a big set of files in order to make changes that are more
  complicated than can be accomplished by a simple multifile
  search-and-replace operation.
  <p>
  This new behavior happens automatically (if the aforementioned conditions
  are met), and the only way to turn it off (and force <b>findNext</b> and
  <b>findPrev</b> to fail at the end or beginning of the current buffer) is to
  use Escape to get rid of the <b>findInFiles</b> output buffer. This is not
  such a big deal, since you can always get the output buffer back with Ctrl L.
  <p>
  Note that this trick only happens when both the editable buffer you're doing
  <b>findNext</b> or <b>findPrev</b> in and the <b>findInFiles</b> output
  buffer (in the other window) are in plain view, and only when
  <b>findInFiles</b> is the current search (i.e. when you haven't done any
  other search since doing <b>findInFiles</b>).
  <p>
  You can now use the Meta key in j's keymaps. Thanks to Thomas Stromberg for
  submitting a patch to enable this functionality.
  <p>
  Files are now saved in place on all non-Windows platforms. The main
  consequence of this change is that file permissions and ownership are now
  preserved correctly when you save a file on MacOS X (which was not the case
  with prior versions of j).
  <p>
  J now recognizes MacOS X as a Unix platform, so your directory buffers
  should now appear by default in "ls -l" format.
  <p>
  Some folks have reported odd display problems with MacOS X 10.2. If you
  encounter this sort of thing, a possible workaround is to disable hardware
  acceleration when starting j:
  <pre>
          java -Dcom.apple.hwaccel=false -jar j.jar</pre>
  <p>
  The support for displaying embedded images in mail messages and web pages
  has been improved. Scrolling is much less exciting now.
  <p>
  In previous versions, automatic indentation in PHP mode was badly broken
  unless you happened to have opened some other file in Java mode first. This
  bug has been fixed.
  <p>
  In addition, a number of relatively minor bugs have also been fixed, many of
  them having to do with automatic indentation (or the highlighting of
  matching braces) under adverse circumstances.
  <p>
  Finally, the toolbar icons have been updated for this release, using a new
  set from the GNOME 2 Icon Project.
  <p>
  More details about recent changes in j are available on the J Development
  Mailing List, the archives of which are
  <a href="http://sourceforge.net/mailarchive/forum.php?forum_id=9737">here</a>.
  <br><br>
</li>

<li>
  <b>Sep 4 2002 7:36 AM - Version 0.16.4</b>
  <p>
  Reading mail has a different feel in this release. By default, messages are
  now opened in a split window.
  <p>
  In mailbox mode, Enter is now mapped to
  <b>mailboxReadMessageOtherWindow</b>, which (as its name suggests) displays
  the message in another window, splitting the current window if necessary.
  This second window is roughly analogous to what some mail clients call a
  preview pane.
  <p>
  By default, the original window is split in half, which may not be exactly
  ideal. You can adjust things by dragging the window divider up or down, and
  j will remember the position of the window divider and restore it correctly
  the next time <b>mailboxReadMessageOtherWindow</b> splits the window, so
  your preview pane will continue to be whatever size you've set, even across
  sessions.
  <p>
  This remembering of the divider position only applies to the preview pane
  and <b>mailboxReadMessageOtherWindow</b>. Other commands that split the
  window continue to split it in half, and manual adjustments to the divider
  position in other split-window situations are not remembered.
  <p>
  You can use the command <b>escape</b>, mapped by default to the Escape key,
  to dismiss the preview pane and restore a full-height view of the mailbox.
  <p>
  (The command <b>mailboxReadMessage</b>, which was mapped by default to Enter
  in mailbox mode prior to this release, is now mapped to Ctrl Enter, so if
  you prefer a full-height message buffer, Ctrl Enter is your friend.)
  <p>
  The command <b>sortByThread</b>, introduced in version 0.16.2, was badly
  named. Threads are not a way of sorting mailboxes, exactly; they're a way of
  grouping messages. The sibling messages in a thread can (in theory) still be
  sorted in various other ways (by sender, by date sent, by size, etc.).
  <p>
  So the command <b>sortByThread</b> has been replaced by the command
  <b>toggleGroupByThread</b>, which does what its name suggests. The View menu
  in mailbox mode has been updated accordingly.
  <p>
  The command <b>sortByDateSent</b> has also been removed. Currently j doesn't
  support any sort order other than date sent, so there's really nothing for
  <b>sortByDateSent</b> to do.
  <p>
  To sum up, <b>sortByThread</b> (in previous versions) has been replaced by
  checking the "Group Messages By Thread" checkbox; <b>sortByDateSent</b> (in
  previous versions) has been replaced by unchecking the "Group Messages By
  Thread" checkbox. <b>toggleGroupByThread</b> is the command behind the
  aforementioned checkbox; it's not mapped to any keystroke by default but you
  can invoke it via Alt X.
  <p>
  By request, this release introduces automatic header beautification in
  message mode.
  <p>
  This means that by default, message headers now appear with the header names
  right-justified, and in most cases the header values are wrapped at 74
  columns. ("In most cases" means the wrapping happens deliberately with the
  address lists for "To" and "Cc", which are most likely to have problems with
  line length; the subject, date and "From" header are normally short enough
  to begin with.)
  <p>
  Headers are beautified by default. If you like your headers raw, add this
  line to ~/.j/prefs:
  <pre>
        beautifyHeaders = false</pre>
  <p>
  If you turn on raw mode (Shift R, <b>messageToggleRaw</b>) or full header
  mode ('h', <b>messageToggleHeaders</b>), you'll see the raw headers even if
  <b>beautifyHeaders</b> is true.
  <p>
  By request, <b>messageViewAttachment</b> is now mapped by default to Enter,
  as well as 'v', in message mode. <b>messageViewAttachment</b> views the
  attachment on the line containing the caret.
  <p>
  By request, this release adds support for signature files. On Unix,
  ~/.signature is picked up by default. On non-Unix platforms, or if you'd
  prefer a different file, you can add a line like this to ~/.j/prefs or
  C:\.j\prefs:
  <pre>
        signature = /home/peter/my_funny_signature</pre>
  <p>
  In web mode, the command <b>copyLink</b> has been added, available via Alt
  X. <b>copyLink</b> copies the link (href) at the current location of the
  caret to j's kill ring and to the system clipboard, so you can paste it
  after "wget " in a shell buffer.
  <p>
  In JavaScript mode, <b>findTagAtDot</b> now ignores the arity of the
  expression at dot. You really can't trust arity in JavaScript mode.
  <p>
  In directory buffers, the sidebar tree no longer indulges in gratuitous
  repaints when you scroll around in the buffer.
  <p>
  By request, in Java mode, j now tries to keep the selected tag in the
  sidebar tree somewhat centered vertically (that is, not at the very
  beginning or very end of the visible part of the list), so you can always
  see some of the other tags around it.
  <br><br>
</li>

<li>
  <b>Aug 21 2002 7:12 AM - Version 0.16.3</b>
  <p>
  This release introduces a drafts folder and fixes a number of minor bugs.
  <p>
  For a long time, if you exited j while you were in the midst of composing a
  mail message, the composition buffer containing the message you were working
  on would be restored as part of the saved session when j started up again.
  This happened automatically because there was an actual file backing the
  message, so the buffer was restored just like any other file-backed buffer.
  J knew the buffer should be a mail composition buffer because the file
  backing it was in a special directory (~/.j/mail/unsent).
  <p>
  So postponed messages weren't a total disaster. But if you made the mistake
  of closing the composition buffer after you saved it, there was no obvious
  or documented way to re-open the saved message again later so you could
  finish it and send it on its way.
  <p>
  Starting with the current release, you can simply enter the system alias
  "drafts" in the location bar, and you'll get a mailbox view of the drafts
  folder. (If you're looking at some other mailbox, you can also get to the
  drafts folder by clicking on "drafts" under "Local Folders" in the sidebar
  tree.)
  <p>
  In the drafts folder, as in any other mailbox, <b>mailboxReadMessage</b>,
  mapped by default to Enter, opens the message on the line containing the
  caret. In the drafts folder this gets you a mail composition buffer which
  lets you continue working on the message in question and eventually send
  it off.
  <p>
  The drafts folder supports <b>mailboxDelete</b> (mapped by default to 'd'),
  <b>mailboxUndelete</b> (mapped by default to 'u') and <b>mailboxExpunge</b>
  (mapped by default to '$'). When you eventually send a message that has at
  some point been saved as a draft, the draft of the message in question is
  automatically deleted from the drafts folder.
  <p>
  Finally, the location of the drafts folder has changed. It's now
  ~/.j/mail/local/drafts, rather than ~/.j/mail/unsent. 0.16.3 runs a bit of
  code at startup to move your unsent messages to the new place and remove the
  obsolete ~/.j/mail/unsent directory. If you have unsent messages that are
  important to you, you might want to back up ~/.j/mail/unsent before running
  0.16.3, just in case.
  <p>
  This release also fixes a number of minor bugs unrelated to mail.
  <p>
  In previous versions, with Java 1.4.1 on Linux, if you did Alt B to set
  focus to the buffer list (so you could use the keyboard to scroll around in
  the list, maybe close some buffers, etc.), when you subsequently hit Escape
  to return to the edit window, focus was lost.
  <p>
  This bug is now fixed, and the code behind Escape, which in previous
  versions contained an elaborate hack that seemed necessary at the time, has
  been simplified considerably. I've tested the new code with the latest
  versions of IBM 1.3.1, Blackdown 1.3.1, Sun 1.4.0, Sun 1.4.1-beta and
  Blackdown 1.4.1 beta; all seems to be well.
  <p>
  In addition, if you do Alt B and use the Delete key to close a buffer that's
  currently displayed in an edit window, the edit window now repaints
  immediately, as it should. (In previous versions it tended not to repaint at
  all.)
  <p>
  In Java mode in 0.16.2, if there were multiple interface names following
  "implements", all but the last were incorrectly added to the tag list as
  fields. Fixed.
  <p>
  The Java tagger in 0.16.2 reported the visibility of public, private, or
  protected methods incorrectly if the method in question immediately followed
  a field declaration with an initializer, e.g.
  <pre>
        private static Stack markers = new Stack();

        public void pushPosition() {}</pre>
  <p>
  In this situation pushPosition() would be incorrectly reported to have
  package (rather than public) visibility. Fixed.
  <p>
  In previous versions, <b>cvsCommit</b> (actually <b>finish</b> in a CVS
  checkin buffer) didn't refresh the display properly when the CVS checkin
  buffer went away if the window wasn't split at the time. Fixed.
  <p>
  Keywords are now configurable in BeanShell mode, as in all other modes. (In
  previous recent versions keywords weren't highlighted at all in BeanShell
  mode.)
  <br><br>
</li>

<li>
  <b>Aug 14 2002 5:22 PM - Version 0.16.2</b>
  <p>
  This release introduces three new commands in C and C++ modes: <b>iList</b>,
  <b>checkPath</b> and <b>listIncludes</b>.
  <p>
  Since the beginning of time, j has supported the concept of an include path
  for C and C++ modes. The idea is, you add lines like the following to
  ~/.j/prefs:
  <pre>
        CMode.includePath   = ../include:\
                              /usr/include:\
                              /usr/lib/gcc-lib/i386-linux/2.95.4/include

        CppMode.includePath = /usr/include:\
                              /usr/lib/gcc-lib/i386-linux/2.95.4/include:\
                              /usr/include/g++-3</pre>
  <p>
  Then, when you're working on a C file (for example), you can enter
  "stdarg.h" in the location bar, without any path prefix at all, and j will
  look in the C mode include path and find the file you're looking for, which
  is /usr/lib/gcc-lib/i386-linux/2.95.4/include/stdarg.h.
  <p>
  (Note that you need to use the platform-specific path separator character,
  which is a colon for Unix and a semicolon for Windows, when specifying the
  include path.)
  <p>
  If your include path is set up correctly, you can also put your caret
  anywhere at all on the line:
  <pre>
        #include &lt;stdarg.h&gt;</pre>
  <p>
  and use <b>gotoFile</b> (Ctrl Shift G) to open stdarg.h in the aforementioned
  location, with no actual typing whatsoever.
  <p>
  The new commands <b>checkPath</b> and <b>listIncludes</b> help you verify
  that you have your include path set up correctly.
  <p>
  The command <b>checkPath</b>, not mapped by default but available via
  <b>executeCommand</b> (Alt X, "checkPath"), looks at all the lines in the
  current buffer that start with "#include" and reports which included files
  can't be found in your include path (or in the current directory, if the
  filename is enclosed in quotes rather than in angle brackets).
  <b>checkPath</b> also recursively checks all the included files that it can
  find, and reports which (if any) of the files included by those files can't
  be found.
  <p>
  <b>listIncludes</b> (Alt X, "listIncludes") is similar to <b>checkPath</b>,
  but it lists all the included files, not just the ones that can't be found.
  <p>
  <b>iList</b>, mapped by default to Ctrl F6 in C and C++ modes, operates on
  the identifier at the current location of the caret. It creates a List
  Occurrences output buffer showing all occurrences of the identifier in
  question in the current buffer AND in any included files, in the order in
  which they occur.
  <p>
  So, to take an example from the Linux kernel source, suppose your C mode
  include path is set up as in the example above and you're looking at this
  line in sched.c:
  <pre>
        #define MIN_TIMESLICE               ( 10 * HZ / 1000)</pre>
  <p>
  And you wonder what "HZ" is. If you put your caret on "HZ" and hit Ctrl F6,
  you'll get a List Occcurrences buffer that starts like this:
  <pre>
        Pattern: "HZ"
        Options: case sensitive, whole words only
        File: /usr/src/linux-2.4.19-pre10-ac2-A4/include/linux/sched.h
        4:#include &lt;asm/param.h&gt;	/* for HZ */
        File: /usr/src/linux-2.4.19-pre10-ac2-A4/include/asm-i386/param.h
        4:#ifndef HZ
        5:#define HZ 100</pre>
  <p>
  From which you can see that HZ is 100, as defined on line 5 of param.h.
  <p>
  There are two new commands in mailbox mode, <b>sortByDateSent</b> and
  <b>sortByThread</b>. These commmands are not mapped to any keystrokes by
  default, but they are available on the View menu or via Alt X.
  <p>
  By default, mailboxes come up sorted in order of date sent, as they always
  have. <b>sortByThread</b> gets you a threaded view. (Bear in mind that
  <b>sortByThread</b> just changes the view; it doesn't actually modify the
  underlying data in any way.) If you're looking at a threaded view,
  <b>sortByDateSent</b> will get you back to a flat list in order of date sent.
  <p>
  By default, j now saves a local copy of each IMAP message that you read. If
  you reread the message later, j will get it from the cache instead of
  pulling the same bits over the network again. This is particularly useful if
  you have a slow network connection.
  <p>
  Each message is saved in a file named after its UID, in a directory specific
  to the mailbox in question, under ~/.j/mail/imap/cache.
  <p>
  Deleted messages are automatically removed from the cache as a side effect
  of the <b>mailboxExpunge</b> command, which is mapped by default to '$' in
  mailbox mode. The current implementation has no concept of expiration or
  aging of undeleted messages and imposes no limit on utilization of disk
  space.
  <p>
  IMAP message caching can be disabled by adding this line to ~/.j/prefs:
  <pre>
        imapUseLocalCache = false</pre>
  <br><br>
</li>

<li>
  <b>Jul 30 2002 6:59 AM - Version 0.16.1</b>
  <p>
  By request, this release adds basic support for named sessions.
  <p>
  J has always saved information about your editing session, so that by
  default, when you restart j, things come back more or less as you left them:
  the same buffers will be open (except for remote and transient buffers), and
  the current location in each buffer will be the same.
  <p>
  The commands <b>saveSession</b> and <b>loadSession</b>, new in this release,
  add support for named sessions.
  <p>
  <b>saveSession</b> saves information about the current editing session in a
  named session file. If no named session is active yet, you will be prompted
  for a name for the current session; once you've specified a name,
  <b>saveSession</b> will use that session file without further prompting.
  <p>
  <b>loadSession</b> loads a named session that you have previously saved,
  which then becomes the active named session as far as <b>saveSession</b> is
  concerned. All currently open buffers are closed before the new session is
  loaded.
  <p>
  The "Name:" textfield, in the dialog that comes up when you do <b>loadSession</b>
  or <b>saveSession</b>, supports both history and completion; if you hit Tab
  when the textfield is empty you'll cycle through all the named session files
  in your collection.
  <p>
  If a named session is active, you can save the current session under a new
  name by using <b>executeCommand</b> to invoke <b>saveSession</b> with the
  new name as an argument (e.g. Alt X, "saveSession foo"). If you do this,
  subsequent saves will go to the new session file ("foo") by default.
  <p>
  When a named session is active, the session name appears in the title bar of
  the top-level window, enclosed in brackets.
  <p>
  By default, the information in a named session file is only updated when you
  explicitly invoke <b>saveSession</b>. This allows you to exercise better
  control over the contents of named session files. If you'd like named
  session information to be updated automatically, add this line to ~/.j/prefs
  or C:\.j\prefs:
  <pre>
        autosaveNamedSessions = true</pre>
  You can use "-session" on the command line to start j with a specific named
  session:
  <pre>
        j -session foo</pre>
  or
  <pre>
        java -jar j.jar -session foo</pre>
  When you start j without specifying a named session on the command line, the
  previous session is restored, but no named session is active until you do
  <b>saveSession</b> or <b>loadSession</b>.
  <p>
  In the current implementation, only the buffer list is saved in the named
  session file. This means that command history (among other things) is global
  across named sessions. It would be nice to store command history in the
  named session files too, but I'd like to make sure the basic functionality
  is solid first. The folks who requested this feature were mainly interested
  in the buffer list.
  <p>
  Documentation about named sessions has been added to the help system (F1,
  scroll down to "Sessions" and hit Enter).
  <p>
  Of course, if you don't care about named sessions, you can ignore all of
  this and j will behave exactly as it always has.
  <p>
  Starting with this release, <b>findTag</b> (mapped by default to Ctrl T in
  programming modes) and <b>findTagAtDot</b> (mapped by default to Alt . in
  programming modes) use a smart output buffer (similar to a List Occurrences
  buffer) instead of a dialog box to resolve ambiguities. You can use the
  cursor keys to scroll around in the List Tags buffer, and if you hit Enter
  on the line corresponding to the method you're interested in, you'll go
  directly to its source in the other window. Keyboard focus stays in the List
  Tags buffer, but the List Tags buffer will go away if you hit Escape.
  <p>
  There are a couple of additional minor features in List Tags mode (as
  opposed to List Occurrences mode). First, the up and down cursor keys are
  mapped to <b>tagUp</b> and <b>tagDown</b>, respectively, so navigation using
  the up and down cursor keys always lands on interesting lines. Second, Ctrl
  Enter (as opposed to Just Plain Enter) is mapped by default to
  <b>jumpToTagAndKillList</b>, which does what its name suggests; to wit,
  you'll go directly to the source of the method in question and the List Tags
  buffer will go away, leaving the edit window unsplit. You can use Ctrl Enter
  if you're sure you've found the tag you want in the list; if you're not
  sure, you can use Enter, possibly more than once, to audition the various
  candidates, followed by Escape when you've found what you're looking for.
  <p>
  With previous versions of j and Java 1.4.1-beta on Linux, focus would
  frequently (but not always) go astray after you dismissed a dialog box. This
  problem is fixed in this release, and j now seems to work fine with
  1.4.1-beta.
  <br><br>
</li>

<li>
  <b>Jul 15 2002 9:16 AM - Version 0.16.0</b>
  <p>
  First a word of warning: as things stand, j won't work correctly if it's
  built with jikes 1.16 (which was released last week). I haven't had a chance
  to look into the problem in detail, but jikes 1.15 (26 Sept 2001) has always
  worked fine for me, and I've been told that javac from Sun 1.4.0_01 and
  javac from Blackdown 1.3.1_02b work fine too. The binaries for this release
  were built with jikes 1.15 (as usual).
  <p>
  This release introduces Ruby mode (contributed by Jens Luedicke), support
  for custom keyword lists, and new options for highlighting braces, brackets
  and parentheses.
  <p>
  Ruby mode supports all of the features you've come to expect in a mode:
  syntax highlighting, automatic indentation with the Tab key, and a tag list
  in the sidebar. Feel free to
  <a href="http://sourceforge.net/tracker/?func=add&amp;group_id=55057&amp;atid=475785">complain</a>
  if you encounter syntax that isn't handled correctly; please include a code
  sample that illustrates the problem.
  <p>
  By request, this release adds support for custom keyword lists for the
  various modes.
  <p>
  This feature is mainly useful for languages like Lisp and Scheme that have a
  variety of dialects, where you might want to use a custom keyword list that
  contains the keywords of the particular dialect you're using.
  <p>
  To use a custom keyword list, first prepare the list itself. It should be an
  ordinary text file with one keyword per line. For an example of the format,
  take a look at src/org/armedbear/j/JavaMode.keywords (there is such a file
  for each mode, containing the default keyword list for that mode).
  <p>
  After you have prepared your custom keyword list, all you have to do is add
  a line like this to ~/.j/prefs (or C:\.j\prefs), pointing to the file you
  want to use:
  <pre>
        LispMode.keywords = /home/peter/lispkeywords</pre>
  <p>
  In response to Feature Request 577186, you can now set things up so that,
  when your caret is on (or just past) a brace, bracket, or parenthesis, j
  will highlight the matching brace, bracket, or parenthesis (if possible).
  <p>
  To enable this feature, add this line to ~/.j/prefs:
  <pre>
        highlightMatchingBracket = true</pre>
  <p>
  And you may need to add a line like this to your theme (or ~/.j/prefs):
  <pre>
        color.matchingBracketBackground = 255 204 102</pre>
  <p>
  If you'd like both of the brackets, braces or parentheses to be highlighted
  (instead of just the one at the far end), add this line to ~/.j/prefs:
  <pre>
        highlightBrackets = true</pre>
  <p>
  J now recognizes that files beginning with "&lt;?php" (or just "&lt;?")
  should be opened by default in PHP mode.
  <p>
  In PHP mode, syntax highlighting and automatic indentation work much better
  now in the vicinity of multi-line quoted strings.
  <p>
  J's menu mnemonics work correctly now with Java 1.4.1-beta.
  <p>
  Finally, as usual, all bugs reported to j's official bug tracker have been
  fixed (or otherwise dealt with) for this release.
  <p>
  Thanks for your support.
  <br><br>
</li>

<li>
  <b>Jul 2 2002 9:04 AM - Version 0.15.3</b>
  <p>
  This release provides better support for reading and writing files using
  non-default character encodings, plus a few minor improvements and bugfixes.
  <p>
  The default character encoding is controlled by the <b>defaultEncoding</b>
  preference:
  <pre>
        defaultEncoding = ISO-8859-1</pre>
  In previous versions of j, there was no ad-hoc way to open a file with a
  specific non-default encoding. Starting with this release, you can use the
  "-e" switch to specify the encoding when you're opening a file in the
  location bar, e.g.:
  <pre>
        /home/peter/greek.txt -e iso-8859-7</pre>
  <p>
  The encoding must be supported by the version of Java that you're using. The
  encoding name is not case-sensitive. Commonly supported encodings include
  "IS08859_1" and "ISO-8859-1" (two names for the same thing), and "UTF8" and
  "UTF-8" (likewise).
  <p>
  Java recognizes both canonical names and aliases for many encodings. To make
  things more interesting, there are significant variations in this area among
  the different versions of Java. More information from the perspective of
  Java 1.4 is available
  <a href="http://java.sun.com/j2se/1.4/docs/guide/intl/encoding.doc.html">here</a>.
  <p>
  The "-e" mechanism, which is currently available in the location bar but not
  on the command line when starting j, is not likely to be the last word in UI
  design for this particular feature. But you never know...
  <p>
  Once the text of a file is loaded into a buffer, it's in Unicode. By
  default, if you modify the buffer and save it, the encoding of the
  original file is used for the save.
  <p>
  You can change the save encoding with the new command <b>setEncoding</b>,
  available on the File menu or via Alt X. So, for example, you could do Alt
  X, "setEncoding utf-8" if you wanted to save greek.txt in UTF-8 instead of
  ISO-8859-7.
  <p>
  If you open a file using a non-default encoding, or if you later use
  <b>setEncoding</b> to specify a non-default encoding, j will make an effort
  to remember the encoding you used for the file and use that encoding again
  the next time you open the same file, unless you explicitly specify a
  different encoding with the -e switch on that occasion.
  <p>
  In XML mode, j now chooses the encoding to use when loading a file based on
  the encoding declaration in the file itself. The encoding declaration is an
  optional part of the XML declaration, which itself is also optional, and
  which, if it exists at all, must be at the very beginning of the file. If
  there's no encoding declaration, UTF-8 is assumed, as required by the
  Section 4.3.3 of the official XML 1.0 W3C Recommendation. This is a change
  in j's behavior compared to prior versions, which not only paid no attention
  to the encoding declaration, but defaulted to the user's default encoding,
  which itself defaulted to ISO-8859-1 (and still does).
  <p>
  The name of the encoding that's in effect for the current buffer is shown in
  the Properties dialog (Alt P), in the "File" box.
  <p>
  One casualty of all this is the archaic command <b>toggleSaveAsUnicode</b>,
  which is obsolete and has been removed, since you can now do (for example)
  Alt X, "setEncoding UTF-16", which is clearer and more flexible.
  <p>
  By request, there is now an option to sort the sidebar tree alphabetically
  in Java mode. Only the fields and methods are sorted; the "extends" and
  "implements" lines and the classes themselves are still presented in the
  order in which they appear in the buffer.
  <p>
  The new option is available on the right-button context menu in the tree
  pane. It's global (i.e. whichever way you set it, it works the same way for
  all Java mode buffers), and it persists from one session to the next, until
  you specifically change it again. (In these respects it works the same as
  the "Arrange by type" option which is also available on the aforementioned
  right-button context menu.)
  <p>
  By request, the behavior of <b>incrementalFind</b> has changed again. Now,
  in the incremental find textfield, backspace always removes the last
  character from the search pattern and then finds the first occurrence of the
  new, shorter pattern, starting from the starting point of the original
  search. In addition, you can use whatever key(s) you have mapped to
  <b>findPrev</b> to find the previous occurrence of the current pattern.
  <b>findPrev</b> is mapped by default to Shift F3 and Ctrl H.
  <p>
  As before, you can use whatever key(s) you have mapped to <b>findNext</b>
  (or to <b>incrementalFind</b> itself) to find the next occurrence of the
  current pattern. <b>findNext</b> is mapped by default to F3 and Ctrl G.
  <p>
  By request, <b>pastePrimarySelection</b> is now mapped globally to Mouse-2
  by default on Unix if you're using Java 1.4 (which is required for primary
  selection support in any case). I've also removed all of the default mode-specific
    mappings for Mouse-2 in buffers that can accept a paste, so the global
  mapping won't be overridden (by default, at least) in any situation where it
  would be missed. The net effect of all this is that on Unix, if you're using
  Java 1.4, X-style copy/paste is now the default behavior.
  <p>
  By request, <b>xmlElectricSlash</b>, mapped by default to '/' in XML mode,
  now automatically re-indents the line after completing the end tag, provided
  the property <b>autoIndent</b> is true for the buffer in question (which it
  is by default).
  <p>
  By request, window information is now correctly saved and restored even if
  the main window is maximized, provided you are running Java 1.4 (there's no
  way to do this properly with earlier versions of Java).
  <p>
  For a long time, j has provided a certain amount of support for showing the
  request and response headers associated with HTTP buffers. In previous
  versions, this involved a preference (<b>httpShowHeaders</b>) and a command
  (<b>httpToggleHeaders</b>). If you wanted to see the headers, they were
  prepended to the HTML source of the HTTP buffer in question. Because of that
  approach, the formatting was a bit sketchy, there was no way to see the
  headers associated with an image buffer (for example), and it wasn't easy to
  remember how to set things up.
  <p>
  In this release all of this has changed. The <b>httpShowHeaders</b>
  preference and the <b>httpToggleHeaders</b> command have been replaced by
  the <b>httpShowHeaders</b> command, which is available in any HTTP buffer,
  including image buffers.
  <p>
  The <b>httpShowHeaders</b> command shows the request and response headers in
  a separate transient output buffer. No setup is required, no muss, no fuss.
  <p>
  In addition, if j followed redirection to get where it got to, as it does,
  if necessary, when the <b>enableWeb</b> preference is true, all of the
  request and response headers are shown, so you can see the full chain of
  redirections.
  <p>
  <b>httpShowHeaders</b> is not mapped to a keystroke by default, but you can
  do Alt X and type it in.
  <p>
  Starting with this release, logging is on by default. This shouldn't make
  any difference under normal circumstances, since only errors are logged, but
  it can be very helpful in tracking down problems. If you're reporting a bug,
  you might want to look at the log file (~/.j/log or C:\.j\log) to see if
  there's any useful information there. If so, you can attach the log file to
  the bug report.
  <p>
  Logging is configurable; for full details, see the documentation (F1,
  "Logging").
  <p>
  Finally, all bugs reported to j's official bug tracker have been fixed
  (or otherwise dealt with) in this release.
  <p>
  Thanks for your support.
  <br><br>
</li>

<li>
  <b>Jun 12 2002 8:43 AM - Version 0.15.2</b>
  <p>
  This release fixes a serious bug which led to an assertion failure and
  caused j to hang, under most circumstances, if you tried to open a file via
  HTTP (say "http://armedbear.org/index.html", just for one example).
  <p>
  This bug has been around for a while (since 0.13.0 at least), and it has the
  distinction of being the first bug reported to j's new
  <a href="http://sourceforge.net/tracker/?func=add&amp;group_id=55057&amp;atid=475785">bug tracker</a>
  on SourceForge. It is fixed now, and you should once again be
  able to open "http://armedbear.org/" or "http://slashdot.org/" or
  "http://www.cnn.com/" without immediately regretting it.
  <p>
  In other news, the behavior of <b>incrementalFind</b> has changed in this
  release.
  <p>
  In earlier releases, the <b>incrementalFind</b> textfield rejected any
  characters you might type that changed the search pattern so there was no
  match.
  <p>
  So, for example, if the pattern was "fo", and there was a match for that in
  the buffer, and if you then typed 'x' (making "fox"), and there was no "fox"
  in the buffer, the textField would refuse to accept the 'x'.
  <p>
  The problem with this approach was that if you typed fast and didn't pay
  close attention, the textfield would reject a few characters and then find
  one that it could accept, leading to a match on a string you never intended
  to look for.
  <p>
  So, to make the contrived example above even more far-fetched, maybe you're
  looking for "foxfire"; the textfield rejected the 'x', so there's no
  possible match for "foxfire" in the buffer, but if you don't notice that and
  keep typing, maybe when you type 'r' you'll get a match on "for", which is
  confusing and not at all what you wanted.
  <p>
  In the current release, this behavior has changed. J no longer rejects any
  characters you type. If there's no match, so be it; a message to that effect
  is displayed inconsipicuously in the status bar, the typed character appears
  in the textfield and life goes on. At some point you notice there's no
  match. The last-matched substring will still be selected in the buffer, the
  string in the textfield will be whatever you actually typed, and the
  inconspicuous message in the status bar will tell you the search failed. You
  can backspace back through the pattern that didn't work, and eventually that
  will backtrack through the buffer like it always has done.
  <p>
  I think this behavior is an improvement, and it's a bit closer to what
  other editors do.
  <br><br>
</li>

<li>
  <b>Jun 9 2002 7:05 PM - Version 0.15.1</b>
  <p>
  A new mode, a stupid mouse trick, a number of minor enhancements and some
  bugfixes.
  <p>
  CSS mode is the new mode, for all your Cascading Style Sheets.
  <p>
  By request, for those of you who like that sort of thing, this release
  introduces drag/drop of text within a buffer, using the mouse. And from one
  buffer to another, for that matter.
  <p>
  In fact, on Windows, you can drag text from j and drop it into other
  consenting applications, or vice versa.
  <p>
  Straight drag (no keys down) is a move; if the Ctrl key is down, it's a
  copy. You can press (or release) the Ctrl key while you're dragging; the
  mouse cursor will change to reflect the change of operation.
  <p>
  All drag/drop operations are fully undoable and redoable.
  <p>
  To drag text from one buffer to another, both buffers must be visible, so
  you'll need to do <b>splitWindow</b> (F10) or possibly <b>newFrame</b> (Ctrl
  Shift N) and jockey things around a bit first.
  <p>
  I haven't implemented an autoscroller yet, so for now you can only drag text
  to a location that's currently visible within the destination window.
  Drag/drop is not yet supported for column selections.
  <p>
  If you just can't abide stupid mouse tricks, you can turn off the drag/drop
  feature by adding this line to ~/.j/prefs:
  <pre>
        enableDragText = false</pre>
  <p>
  By request, Tcl mode now supports different syntax highlighting for braces
  and brackets. Taking Kodiak as an example:
  <pre>
        TclMode.color.brace   = 153 0 51
        TclMode.style.brace   = 1
        TclMode.color.bracket = 204 102 0
        TclMode.style.bracket = 1</pre>
  <p>
  By request, in XML mode the tree in the sidebar now displays all of the
  attributes, rather than just the first one, as well as the element name.
  Often there will be just one or two attributes, and they will show up in the
  tree without scrolling. Sometimes there will be too many attributes and the
  line will be too long, but you can scroll horizontally if you care, or just
  ignore the extra attributes; they don't eat much.
  <p>
  By request, <b>selectAll</b>, mapped by default to Ctrl A, now calls
  <b>pushPosition</b> before selecting all the text in the buffer. The point
  of this is that after you've had your way with all of the text in the
  buffer, you can use <b>popPosition</b>, mapped by default to Shift F5, to
  return to where you were before you did <b>selectAll</b>.
  <p>
  By request, the jump commands (<b>jumpToLine</b>, which is mapped by default
  to Ctrl J, <b>jumpToColumn</b>, and <b>jumpToOffset</b>) now support
  arithmetic expressions as well as simple numbers. So you can enter, for
  example, "143+37" instead of "180", which might be useful if you're trying
  to find an error at line 37 of procedure foo and procedure foo starts at
  line 143. You can also enter an offset from the current line number: if
  you're at line 50 and enter "+12" you'll get to line 62.
  <p>
  By request, the Find dialog has a new checkbox, "Search from start of
  document". If you check this box, the search begins at (you guessed it!) the
  start of the document. Otherwise, the search begins at the current location
  of the caret (like it always has).
  <p>
  By request, the date/time string inserted by the <b>stamp</b> command, which
  is mapped by default to Shift F2, can now be customized by adding a line
  like this to ~/.j/prefs:
  <pre>
        stampFormat = "EEE, dd MMM yyyy HH:mm:ss"</pre>
  You can do Alt X, "help stamp" and follow the links to get documentation on
  the format of the template string; there's enough flexibility there to kill
  a horse.
  <p>
  In previous recent versions of j, on Windows only, and only with versions of
  Java prior to 1.4.0, the Confirm Replacement dialog performed (or skipped)
  two replacements instead of one if you hit 'Y' (or 'N'). This bug,
  introduced a while back with the changes that were made to support Java
  1.4.0, is now fixed.
  <p>
  In previous versions of j, if you used control shift left click to make a
  column selection, then switched away from the buffer containing the column
  selection and switched back again, the column selection was magically (and
  incorrectly) transformed into an ordinary selection. This bug is now fixed.
  <p>
  J's MIME parser now handles multipart messages correctly even if one of the
  parts is empty, as is often the case with messages generated by the W32/Klez
  virus.
  <br><br>
</li>

<li>
  <b>May 20 2002 8:22 AM - Version 0.15.0</b>
  <p>
  Additional CVS support, three new modes, and a number of minor improvements.
  <p>
  J's CVS support is now fully documented; use F1 and look for "CVS Support".
  I've been using j's CVS support every day for months, so it's well tested in
  my environment (Linux), but your environment may vary...
  <p>
  By request, modes have been added for Verilog, VHDL, and Tcl/Tk. In each
  case, syntax highlighting seems to work well, there's a rudimentary tag list
  in the sidebar, and conveniences like <b>commentRegion</b> (F11),
  <b>uncommentRegion</b> (Shift F11), and <b>wrapComment</b> (F12) are
  provided.
  <p>
  Tcl mode fully supports automatic indentation (hitting Tab indents the
  current line correctly, the indentation should be correct on the next
  line after you hit Enter, and '{' and '}' are electric).
  <p>
  Verilog mode makes some effort towards automatic indentation, but it's far
  from 100%.
  <p>
  In VHDL mode, for the moment, at least, the Tab key is mapped to
  <b>insertTab</b>, which is a way of giving up; if the indentation is wrong,
  you're better off using <b>insertTab</b> to correct it manually. Enter is
  mapped to <b>newlineAndIndent</b>, but manual intervention will frequently
  be required.
  <p>
  There is obviously room for improvement here. I don't use Verilog or VHDL
  (or, for that matter, Tcl/Tk) in real life myself, so please let me know
  when you find bugs or if you have suggestions to improve the behavior of
  these modes. Samples of Verilog, VHDL, or Tcl/Tk code that illustrate the
  issue you're describing are worth a thousand words.
  <p>
  By request, a new confirmation dialog is now presented when you try to close
  a buffer that has unsaved changes. No big deal if you're new to j, but
  compared to the way things worked in previous releases, the positive/negative
  options have been reversed. Now, "Yes" means, "Yes, save my changes and then
  close the buffer", "No" means, "No, don't save my changes, but go ahead and
  close the buffer anyway", and "Cancel" means, "Don't do anything; I need to
  think about this some more." In previous releases, there was no "Cancel",
  "Yes" meant what "No" means now, and "No" meant what "Cancel" means now. The
  advantage of the new approach is that you can save the buffer in question
  directly from the confirmation dialog, skipping a couple of steps that were
  necessary with the old approach. But be careful, lest old habits or a quick
  trigger finger lead you astray.
  <p>
  By default, j now uses the "Monospaced" font in its textfields. If you don't
  like this, you can change it by adding the following lines (or variants
  thereof) to ~/.j/prefs or C:\.j\prefs:
  <pre>
        textFieldFontName = Dialog
        textFieldFontSize = 12</pre>
  If you don't specify a value for <b>textFieldFontSize</b>, the value of
  <b>dialogFontSize</b> is used, and if you don't specify a value for
  <b>dialogFontSize</b> either, it's 11.
  <p>
  Starting with the current release, the keys for j's preferences are
  case-insensitive, so the following lines work too:
  <pre>
        textfieldfontname = Dialog
        textfieldfontsize = 12</pre>
  <p>
  For a long time, the <b>expand</b> command, mapped by default to Alt Space,
  has saved me a lot of typing. The idea is, you type the first few characters
  of a long word that appears somewhere in the current buffer, hit Alt Space,
  and the characters you typed are magically expanded into the word you want.
  If j gets it wrong on the first try, you can keep hitting Alt Space to cycle
  through all the possible expansions, or hit Escape at any point to get back
  to just the characters you actually typed. Another one of my favorite
  features.
  <p>
  Starting with the current release, all of the textfields in j's dialogs
  support expansion with Alt Space too. (This also applies to the textfields
  in the location bar, except for <b>incrementalFind</b>, which is a bit of a
  special case in many respects.) The candidates for the expansion come from
  the text in the current buffer. Hitting Escape with an expansion in progress
  cancels the expansion; hitting Escape a second time closes the dialog.
  <p>
  If you have experimental features turned on, the commands <b>find</b> and
  <b>replace</b> now support multiline regular expressions. So, for example,
  you can search for "Alt\s+Space", and find what you're looking for even if
  it spans two lines. You can also replace "Alt Space" with "Alt\nSpace", if
  you should so desire. Because of the way j handles things internally, "\n"
  should always be used as the line separator string, even on platforms where
  that is not normally the case; the correct platform-specific line separator
  will be used when the file is written out. (You can use the Properties
  dialog, mapped by default to Alt P, to change the line separator for a
  particular buffer.) Multiline pattern support is an experimental feature for
  now; it will graduate to the mainstream after a bit more testing and use. If
  you try it out, please report any anomalies.
  <p>
  For the last several releases, Java mode has featured tooltips that try to
  find and report the declaration of the identifier under the mouse cursor. It
  turns out that this feature is a bit of a performance problem in certain
  environments, so Java mode tooltips are now disabled by default. To
  re-enable them, add this line to ~/.j/prefs:
  <pre>
      JavaMode.enableToolTips = true</pre>
  <p>
  By request, those brave souls who use j as their mail client can now add the
  following line to ~/.j/prefs:
  <pre>
        confirmSend = true</pre>
  If you do this, you'll get a confirmation dialog when you send a mail
  message. The confirmation dialog lets you change the "From" and "Bcc"
  addresses of the outgoing message on the fly, and you can also specify which
  SMTP server to use. This is useful for folks with multiple identities and/or
  network connections.
  <p>
  J now uses version 1.2b5 of the BeanShell package.
  <p>
  Plus the usual menagerie of minor bugfixes, imperceptible enhancements, and
  long-overdue documentation updates.
  <br><br>
</li>

<li>
  <b>Apr 21 2002 6:50 PM - Version 0.14.3</b>
  <p>
  This release offers a preview of j's new CVS support and fixes a
  long-standing (and long-unreported) bug that prevented the editing session
  from being saved and restored correctly under certain circumstances.
  <p>
  Starting with this release, CVS revision information for checked-out files is
  now displayed in the status bar, to the right of the mode name, like this:
  <pre>
        CVS 1.34</pre>
  or
  <pre>
        CVS 1.34 M</pre>
  or
  <pre>
        CVS A</pre>
  "1.34" is the revision; it's followed by an 'M' if the file modification
  time of the local file is different from the checkout time, which is often
  an indication that the local file has been modified since it was checked
  out. If there's an 'A' following "CVS", but no revision number, it means the
  file has been added to CVS but not yet committed.
  <p>
  In addition, there are a couple of new commands related to CVS:
  <b>cvsDiff</b> and <b>cvsDiffDir</b>. These commands only work on files that
  CVS knows about, of course, but if you're working on such a file, you can
  use <b>cvsDiff</b> to get a diff output buffer showing the changes between
  the checked-in version and your local copy. <b>cvsDiffDir</b> is similar,
  but it generates a diff output buffer for all the files in the current
  directory, not just the current buffer. Once you're in the diff output
  buffer, you can scroll around and use <b>diffGotoFile</b>, mapped by default
  to Enter or Ctrl Shift G or left button double click or middle button single
  click, to jump to the location in the source corresponding to the line
  you're on in the diff output buffer. One of my favorite features.
  <p>
  <b>cvsDiff</b> and <b>cvsDiffDir</b> are not mapped to any keystrokes by
  default, but you can use <b>executeCommand</b>, mapped by default to Alt X,
  and then type in the name of the command ("cvsd", then hit Tab once or
  twice; completion is your friend).
  <p>
  There's more CVS support waiting in the wings, but I'd like to see if
  <b>cvsDiff</b> and <b>cvsDiffDir</b> work as expected for a broader audience
  before proceeding. If you find these commands useful, please
  <a href="mailto:peter@armedbear.org">let me know</a>, and please let me know
  if you think they <i>might</i> be useful but for some reason you can't get
  them to work right. I've used these commands extensively myself, and they
  work for me, but we always need to be careful of the inmates running the
  asylum.
  <p>
  Almost from the beginning of time, j has saved session information on exit,
  including the size and position of the main window, the list of open
  buffers, your current location in each buffer, and which buffer you were
  working on when you quit (among other things), the idea being that the next
  time you start j, the previous situation will be restored so you can pick up
  where you left off. (By design, only buffers corresponding to local files
  are restored, and only if the local files in question still exist when the
  new session starts up; things like remote buffers and mailboxes are
  deliberately not restored, to avoid weirdness in case your connectivity has
  changed in the interim.)
  <p>
  And for a long time all of this worked just fine.
  <p>
  Then one day I got the idea that it would work even better if j made a
  backup of the session information each time it was saved, just in case. So I
  wrote the code to do that, and while I was at it, I changed things to write
  the session information to a temporary file first, then delete the existing
  session file and rename the temporary file to replace it, which is also
  perfectly reasonable.
  <p>
  The new code first appeared in 0.11.0, back in October of last year, and it
  worked fine for me and for lots of other folks, and until last week nobody
  complained about it at all. Then I received a surprising enhancement request:
  "Could you make j remember the position and size of its main window from one
  session to the next?" Hmmm...
  <p>
  After a certain amount of investigation, it turned out that the problem was
  that the temporary file for the session information was written to
  ~/.j/temp, which is j's private directory for temporary files. And that
  would have been fine, except that the session-saving code did nothing to
  make sure that this directory actually existed. Now, a fair amount of other
  code uses ~/.j/temp, and all of that code did check to make sure it existed
  (and created it if it didn't), but it turns out that most of that code deals
  with fairly esoteric things like remote buffers and mail, things that most j
  users don't get around to right away, if at all. So a lot of folks won't
  have a ~/.j/temp directory, and a lot of folks will lose their session
  information.
  <p>
  Sorry about that.
  <p>
  Anyway, this bug is now fixed, and there are undoubtedly a number of morals
  that could be drawn from this sad tale.
  <p>
  Thanks for your support.
  <br><br>
</li>

<li>
  <b>Apr 18 2002 7:39 AM - Version 0.14.2</b>
  <p>
  This release improves j's source path functionality, particularly in Java
  mode, and fixes a number of minor bugs.
  <p>
  For a long time j has supported the concept of a source path, which lets you
  open files without having to specify their full paths. For example, you
  might add a line like this to ~/.j/prefs:
  <pre>
        sourcePath=/usr/src/linux/kernel</pre>
  Then you can just type
  <pre>
        sched.c</pre>
  to open /usr/src/linux/kernel/sched.c, regardless of what the current
  directory is. This works in the location bar and also on the command line
  when first starting j. There is also a separate include path, which j uses
  to find .h files in C and C++ modes.
  <p>
  In the current release, this concept has been extended to support mode-specific
  and relative source paths.
  <p>
  For example, suppose you have these lines in ~/.j/prefs:
  <pre>
        CMode.sourcePath  = /usr/src/linux-2.4.18-rc1-preempt-K3/kernel:\
                            /usr/src/linux-2.4.18-rc1-preempt-K3/mm
        CMode.includePath = ../include:/usr/include</pre>
  Now, if you just type
  <pre>
        sched.c</pre>
  you'll get /usr/src/linux-2.4.18-rc1-preempt-K3/kernel/sched.c. Once you're
  there, you can move your caret to line 15:
  <pre>
        #include &lt;linux/mm.h&gt;</pre>
  With your caret anywhere on this line, you can use <b>gotoFile</b>, mapped
  by default to Ctrl Shift G, to open the referenced header file, and you'll
  get the one in /usr/src/linux-2.4.18-rc1-preempt-K3/include, following the
  relative path ../include, which precedes /usr/include in the C mode include
  path. So you'll get the mm.h in the kernel source you're actually working
  on, rather than the one in /usr/include (just in case it matters).
  <p>
  In the general case, J tries pretty hard to find the file you want. In the
  present implementation, it looks in the current directory first, then in the
  list of open buffers, then in the source path of the current buffer (which
  is normally the mode-specific source path of the mode of the current
  buffer), then in the mode-specific source path of the default mode of the
  file you're looking for (e.g. Java mode if you're trying to open
  AbstractMode.java), and finally in the global (i.e. non-mode-specific)
  source path.
  <p>
  In Java mode, j now goes even further with the <b>source</b> command, which
  is new in this release. The <b>source</b> command tries to help you find the
  source of any Java class referenced in the current buffer.
  <p>
  Since at least some of the Java classes referenced in any Java buffer are
  likely to be part of the Java runtime library, you should have the Java
  runtime library source installed somewhere (it's normally provided with the
  JDK in either src.zip or src.jar), and you should tell j where it is by
  adding a line like this to ~/.j/prefs:
  <pre>
        jdkSourcePath = /home/peter/sun/j2sdk1.4.0/src</pre>
  Once you have things set up correctly, you should be able to put your caret
  on the name of any Java class (say, "String", for example), and hit Ctrl F1
  (which is the default mapping of <b>source</b> in Java mode), and get the
  source of the class in question (in this case, java.lang.String). J finds
  the source of the referenced class by examining the "import" statements at
  the top of the current buffer and by navigating within the current package
  relative to the root of its source tree. You can also do, for example, Alt
  X, "source String", if that's more convenient than finding an instance of
  "String" to do Ctrl F1 on.
  <p>
  In addition, <b>gotoFile</b>, mapped by default to Ctrl Shift G in all
  modes, should work on the "import" statements themselves. You don't have to
  be right on the class name, either; anywhere on the line should work.
  <p>
  By request, the commands <b>nextTag</b> and <b>previousTag</b> have been
  added. These commands do what their names suggest, providing yet another way
  of moving around in a buffer. They're not mapped to any keystrokes by
  default, but ~/.j/init.bsh is your friend.
  <p>
  For Unix platforms, the code behind <b>save</b> (Ctrl S) has been changed to
  preserve both permissions and ownership of the file being saved.
  <p>
  This release also fixes a number of minor bugs involving indentation and/or
  syntax highlighting in Java, Perl, and PHP modes.
  <br><br>
</li>

<li>
  <b>Mar 14 2002 3:38 AM - Version 0.14.1</b>
  <p>
  This release fixes three major bugs in 0.14.0.
  <p>
  Undo was broken for <b>indentRegion</b> in some situations, leading to an
  assertion failure that caused j to hang. Now fixed.
  <p>
  Undo and redo were not write-locking the buffer while they did their work,
  which caused trouble in certain situations if the operation took a long time
  and the idle thread tried to format the same buffer while the undo or redo
  was still in progress. Now fixed.
  <p>
  These bugs were introduced in 0.14.0 by a rewrite of the undo/redo code to
  provide a better infrastructure for the change mark feature.
  <p>
  There was also an unrelated bug in the PHP formatter (from the beginning of
  time, I believe) that kept it from doing the right syntax highlighting for
  "//" comments. Now fixed.
  <p>
  Finally, jikes 1.14 had some trouble with ImapMailbox.java. The problem was
  not really in the code, since both javac and jikes 1.15 compiled it without
  complaint, but I renamed a couple of variables and now jikes 1.14 is happy
  too.
  <p>
  On the subject of jikes, the version that is currently in Debian unstable,
  "Version 1.15b(CVS)", compiles j without complaint, and the resulting binary
  does run, but certain classes encounter verification errors at runtime, at
  least with Java 1.4, and not everything will work right. Don't build j with
  this version of jikes! The official release of 1.15, available
  <a href="http://oss.software.ibm.com/developerworks/opensource/jikes/">here</a>,
  should work fine (and now, as mentioned, jikes 1.14 should work fine too).
  <br><br>
</li>

<li>
  <b>Mar 13 2002 6:48 AM - Version 0.14.0</b>
  <p>
  This release introduces change marks, and, in Java mode, replaces the
  sidebar tag list with a class tree representing the current buffer.
  <p>
  By default, change marks are now displayed to the left of all changed lines.
  Change marks come in two colors, one ("color.change") for changes you've
  just made, the other ("color.savedChange") for changes that were made in the
  current editing session, but before the buffer was last saved. When you save
  the buffer, the buffer's change marks will all change to the saved change
  color, since your changes are now saved. (Got it?)
  <p>
  Change marks are themeable, and the maintained themes (Kodiak, Freefloater,
  AnokhaClassic and Dark) have been updated to support them.
  <p>
  Two new commands, <b>nextChange</b> and <b>previousChange</b>, mapped by
  default to Ctrl Alt N and Ctrl Alt P, respectively, and available on the Go
  menu, will help you find areas where changes have been made, so you can
  admire the change marks.
  <p>
  In most cases, change marks are smart enough to recognize when a sequence of
  changes to a line brings the line back to its original state (for example,
  if you type a character and then immediately hit Backspace). At the moment,
  however, this particular light stays under the bushel, so to speak, so the
  buffer may still show up as modified in the buffer list when in fact it
  contains no changed lines. This deficiency, as well as others, will be
  corrected in a future release (if all goes well).
  <p>
  If you don't like change marks, you can turn them off by adding this line to
  ~/.j/prefs:
  <pre>
        showChangeMarks = false</pre>
  <p>
  While working on the change mark code, I needed a way to check my work, so I
  added the command <b>changes</b>, not mapped by default but available via
  Execute Command (Alt X). The <b>changes</b> command runs diff to generate a
  listing of the unsaved changes in the current buffer and presents the
  listing in a formatted output buffer. You can move around in the output
  buffer and use <b>diffGotoFile</b>, mapped by default to Enter, to jump to
  the location of a particular change. Note that since <b>changes</b> uses
  diff, diff must be installed and in your path, which is more likely to be
  true on Unix than Windows, but if diff is available, <b>changes</b> works on
  Windows as well as on Unix.
  <p>
  In Java mode, the sidebar tag list is now a tree. By default, the tree is
  arranged by type, with sections for fields, constructors, methods, and (if
  applicable) nested classes. If this is too much arrangement for you, you can
  click your right mouse button in the tree pane and uncheck the "Arrange by
  type" checkbox, in which case you'll still get a tree, but without the
  aforementioned sections.
  <p>
  In previous versions, j was not really meticulous about honoring the
  <b>restrictCaret</b> preference. If <b>restrictCaret</b> is true, the idea
  is that the caret is never placed beyond the end of the actual text on a
  line (the actual text, of course, might be whitespace).
  <p>
  The problem in previous versions was that when you used
  <b>newlineAndIndent</b>, mapped by default to Enter in programming modes, or
  <b>tab</b> on an empty line to get the proper indentation, j placed the
  caret where it needed to go, but did not, at that very moment, insert the
  necessary whitespace to the left of it. This had the advantage that if you
  then moved away without actually typing anything on that particular line, no
  stray whitespace was added to the buffer. But strictly speaking it was the
  wrong thing to do if <b>restrictCaret</b> was true, and as a practical
  matter the subsequent behavior of <b>backspace</b> was not always ideal.
  <p>
  This behavior has been corrected in the current release. Now, both
  <b>newlineAndIndent</b> and <b>tab</b> insert the required whitespace right
  away if <b>restrictCaret</b> is true, as they should.
  <p>
  To prevent the whitespace creep that this change might otherwise lead to,
  you can configure j to remove trailing whitespace, defined as spaces and tab
  characters at the end of a line of text, whenever a buffer is saved, by
  adding this line to ~/.j/prefs:
  <pre>
        removeTrailingWhitespace = true</pre>
  If <b>removeTrailingWhitespace</b> is true, the act of saving a buffer will
  in fact make changes to the buffer if any trailing whitespace is actually
  removed. When this happens, it will be reflected in the change marks, if you
  have change marks turned on, and the change itself (like other changes) may
  be undone (Ctrl Z) and subsequently redone (Ctrl Y) at your sole discretion.
  <br><br>
</li>

<li>
  <b>Feb 20 2002 7:28 AM - Version 0.13.1</b>
  <p>
  Python mode now supports automatic (or at least semi-automatic) indentation.
  <p>
  To accomplish this, <b>tab</b> is now mapped by default to Tab, and
  <b>newlineAndIndent</b> is now mapped by default to Enter. <b>insertTab</b>,
  which does what you might think the Tab key ought to do, is now mapped by
  default to Ctrl Tab. And finally, for reasons to be explained shortly,
  <b>slideOut</b> is now mapped to Shift Tab (as well as to Alt [, which has
  always been its default global mapping).
  <p>
  Python indentation, I've learned, is not an exact science: the correct
  indentation of a given line cannot always be derived from an inspection of
  the preceding lines.
  <p>
  Like the other editors I've looked at, j tends to overindent Python code. A
  typical example:
  <pre>
      def shuffle(size):
          "Generate a random permutation of 0...(size - 1)."
          shuffle = range(size)
          for i in range(1, size+1):
              j = random.randrange(i)
              holder = shuffle[i - 1]
              shuffle[i - 1] = shuffle[j]
              shuffle[j] = holder
          return shuffle</pre>
  J gets everything right in this example except the last line, which it wants
  to place directly under the previous line instead of one notch to the left
  as the author intended.
  <p>
  Hence the default mapping in Python mode of Shift Tab to <b>slideOut</b>, a
  command which forcibly moves the current line (or selected region if there
  is one) one notch to the left.
  <p>
  So the workflow is that you use Tab and/or Enter to apply j's idea of proper
  indentation to the current line, and then you use Shift Tab to move the line
  to the left manually if you need to make a correction. You probably won't
  need to move the line to the right very often, but if you do, <b>slideIn</b>,
  mapped by default to Alt ] in all modes, is your friend.
  <p>
  In Python mode, triple-quoted strings (and lines continued with a '\' in the
  midst of a single-quoted string) are no longer quite as likely to confuse j's
  syntax highlighting.
  <p>
  By request, the line numbers introduced in version 0.13.0 can now be
  displayed in a font (and/or size) different from the normal display font.
  You can control this by adding lines like these to ~/.j/prefs:
  <pre>
        gutterFontName = Monospaced
        gutterFontSize = 10</pre>
  By default, the gutter font name and size are the same as the display font
  name and size.
  <p>
  In addition, the gutter (the area containing the line numbers) now has a
  vertical border to separate it visually from the actual text in the buffer.
  You can specify the color of this border by specifying suitable RGB values
  in ~/.j/prefs:
  <pre>
        color.gutterBorder = 153 153 153</pre>
  There's no way to turn the border off, exactly, but if you set
  <b>color.gutterBorder</b> to the same color as <b>color.background</b>,
  you won't hardly notice it.
  <p>
  And as a reminder, to get any of this to happen you need to turn line
  numbering on:
  <pre>
        showLineNumbers = true</pre>
  <p>
  J's preferences architecture has been overhauled slightly. The net outcome
  is that settings in ~/.j/prefs now override settings of the same properties
  in your theme. In previous versions of j, the theme was loaded last,
  overriding the settings in ~/.j/prefs. The new approach is arguably more
  convenient, since you can specify a stock theme and just make a couple of
  corrections in ~/.j/prefs, rather than having to make modifications to the
  theme itself.
  <p>
  <b>detabRegion</b> and <b>entabRegion</b> are now undoable (and redoable).
  <p>
  Cleaned up and documented the old command <b>decodeRegion</b>, which base-64
  decodes the selected region (or the line containing the caret if no region
  is selected). If the resulting output is text, it is displayed in a new
  buffer; otherwise, you are prompted for a filename and the output is saved
  in the specified file. <b>decodeRegion</b> is not mapped to a keystroke by
  default, but it's available from the Execute Command dialog box (Alt X).
  <b>decodeRegion</b> was introduced a long time ago when j was just learning
  how to handle mail messages with binary attachments, but it's still useful
  on occasion on its own hook.
  <p>
  Fixed a bug that prevented user-specified <b>files</b> preference settings
  from being recognized in any mode. As in, for example:
  <pre>
        PHPMode.files = ".+\\.php|.+\\.phtml|.+\\.php[34]"</pre>
  These settings should work correctly now.
  <p>
  Version 0.13.0 introduced a NullPointerException in <b>messageToggleRaw</b>.
  Now fixed.
  <p>
  Version 0.13.0 also introduced a NullPointerException when undoing an action
  whose undo information was saved with SimpleEdit.FILE. (Fortunately the only
  documented command in 0.13.0 that used this approach was <b>sortLines</b>.)
  Also now fixed.
  <p>
  In the source, <b>Debug.assert()</b> has been renamed to
  <b>Debug.assertTrue()</b>, since "assert" is now a reserved word.
  <br><br>
</li>

<li>
  <b>Feb 12 2002 10:26 AM - Version 0.13.0</b>
  <p>
  A couple of new features (by request) and a major bugfix.
  <p>
  First the major bugfix. An attempt to optimize the formatting code in
  version 0.12.4 led to an ArrayOutOfBoundsException in HTML mode under
  certain circumstances (in particular if the file contained a &lt;script&gt;
  tag). It was pretty much game over if you hit this bug. Now fixed.
  <p>
  The first new feature is Python mode, used by default for .py files. Syntax
  highlighting and a tag list in the sidebar are supported.
  <p>
  The second new feature is the optional display of line numbers in the edit
  window. To turn on line numbering, add the following line to ~/.j/prefs or
  C:\.j\prefs:
  <pre>
        showLineNumbers = true</pre>
  <b>showLineNumbers</b> is false by default.
  <p>
  Even if you've added the aforementioned line to your preferences file, line
  numbers are only displayed in ordinary editing buffers (and not, for
  example, in directory buffers or mailboxes). If you want, you can override
  this inhibition on a mode-specific basis:
  <pre>
        MailboxMode.showLineNumbers = true</pre>
  <p>
  Starting with this release, <b>showLineNumbers</b> also controls whether
  line numbers are included when you print a buffer (using <b>print</b>,
  mapped by default to Ctrl P and available on the File menu). The old
  property that used to control this, <b>printLineNumbers</b>, has been removed.
  <p>
  Added the property <b>color.lineNumber</b>, which you can use to customize
  the color of the line numbers displayed in the edit window. The supported
  themes (Freefloater, AnokhaClassic, Dark, and Kodiak) have been updated
  accordingly.
  <p>
  In Directory mode, <b>dirBack</b> is now mapped by default to 'b' (lower
  case B), and <b>dirForward</b> is now mapped by default to 'f' (lower case
  F). As a consequence of this change, <b>dirBrowseFile</b> is no longer mapped
  to 'b'. <b>dirBrowseFile</b> is still mapped to Ctrl Shift B, however, which
  is consistent with the mapping of the corresponding command in other modes.
  <br><br>
</li>

<li>
  <b>Feb 7 2002 8:29 AM - Version 0.12.4</b>
  <p>
  Minor improvements and bugfixes.
  <p>
  Added <b>xmlElectricSlash</b>, mapped by default to '/' in XML mode, which
  autocompletes the end tag (if possible) when you type "&lt;/".
  <p>
  Added <b>xmlInsertMatchingEndTag</b>, mapped by default to Ctrl E in XML
  mode, which inserts the whole end tag, so you don't have to type "&lt;/"
  first. (On my keyboard, Ctrl E is a keystroke or so shorter than "&lt;/".)
  <p>
  (Generally, I think <b>xmlInsertMatchingEndTag</b> is more useful, since it
  does no harm if there's no start tag to match, but <b>xmlElectricSlash</b>
  is a good fallback if you've already started to type the end tag.)
  <p>
  Added <b>mailboxFlag</b> and <b>messageFlag</b>, mapped by default to 'F'
  (upper case F) in mailboxes and message buffers, respectively. These
  commands toggle the "important" flag for the message in question (which, in
  a mailbox, is the message on the line containing the caret). If the
  "important" flag is set, the message gets a '!' in the leftmost column of
  the mailbox message index.
  <p>
  Added the mailbox limit pattern "~F", matching messages that have been
  flagged by these new commands, for use with <b>mailboxLimit</b> and
  <b>mailboxTagPattern</b>.
  <p>
  The new approach to FTP saves introduced in 0.12.0, while normally safer
  than saving the destination file in place, does not always preserve all the
  attributes (permissions, ownership, etc.) of the destination file. Now, if
  you want, you can have the old approach back by adding this line to
  ~/.j/prefs or C:\.j\prefs:
  <pre>
        saveInPlace = true</pre>
  If <b>saveInPlace</b> is true, FTP saves are written directly to the
  destination file. This approach is better at preserving the file's
  attributes, but it has the disadvantage that the file is likely to be lost
  or truncated if a network problem prevents successful completion of the
  save. <b>saveInPlace</b> is false by default and applies only to FTP saves.
  <p>
  In version 0.12.3, <b>findInFiles</b> and <b>replaceInFiles</b> underwent a
  bit of reorganization, mostly cosmetic in nature, which included, among
  other things, a "Replace with:" status line near the top of the output
  buffer to report the replacement text for <b>replaceInFiles</b>.
  Unfortunately, the new status line was also displayed, incorrectly, for
  <b>findInFiles</b>, as follows:
  <pre>
        Replace with: "null"</pre>
  Which was a bit disconcerting if you took it at face value, although the
  bug was just in the status display and the unasked-for replacement was never
  actually attempted. This is now fixed.
  <p>
  It should now be possible to invoke <b>openFile</b> successfully from the
  File menu or toolbar as well as with Ctrl O (its default mapping). There was
  never a problem with Ctrl 0, but using the menu or toolbar did not always
  (ever?) set focus to the location bar correctly.
  <br><br>
</li>

<li>
  <b>Jan 29 2002 8:42 AM - Version 0.12.3</b>
  <p>
  This release introduces support for syntax highlighting of HTML content in
  PHP mode. It should work right out of the box if you're using a supported
  theme (Freefloater, AnokhaClassic, Dark, or Kodiak) or no theme at all
  (which is equivalent to Kodiak).
  <p>
  For a long time, j has supported preferences that let you adjust the ascent,
  descent and leading of the edit window display font:
  <pre>
        adjustAscent = -3
        adjustDescent = -2
        adjustLeading = -1</pre>
  You might want to specify negative adjustments, within reason, to squeeze
  more lines of text into a fixed amount of vertical space. A certain amount
  of trial and error is usually needed to get this right; adjustments that
  would otherwise make the adjusted parameter negative are silently ignored.
  <p>
  These preferences were introduced because blind acceptance of the font
  metrics reported by Java has not invariably led to a great-looking display,
  even apart from differences of individual taste in such matters.
  <p>
  These adjustments are still supported in the current release, but now j
  tries a bit harder to arrive at reasonable pre-adjustment defaults. The
  result of this is that you may need to change your adjustment values if
  you've set them up for a previous version of j.
  <p>
  In addition, there are a couple of other preferences that may prove useful
  in the same area:
  <pre>
        enableItalics = false
        emulateBold = true</pre>
  Setting <b>enableItalics</b> to false disables use of the italic font even
  if it is specified by the theme you're using, which saves you the trouble of
  modifying the theme itself. Setting <b>emulateBold</b> to true makes j
  emulate a bold font by doing a paint trick with the plain font. (You should
  only set <b>emulateBold</b> to true if you're using a font that lacks a
  built-in bold variant.)
  <p>
  Added <b>findFirstOccurrence</b>, mapped by default to Ctrl Alt up arrow in
  all modes. As its name suggests, <b>findFirstOccurrence</b> finds the first
  occurrence in the current buffer of the word at the current location of the
  caret. In the case of a file-scope variable or C/C++ #define, the first
  occurrence is the one you want to look at when you're wondering what the
  thing in question is. <b>undo</b>, mapped by default to Ctrl Z, will take
  you back where you came from after you've had a look.
  <p>
  <b>electricEquals</b>, which was mapped by default to '=' in HTML and XML
  modes, has been replaced by <b>htmlElectricEquals</b> in HTML mode and by
  <b>xmlElectricEquals</b> in XML mode. You probably won't notice the change
  unless you're using custom keymaps, in which case you should update them
  with the new command names.
  <p>
  In XML mode, the change in 0.12.0 that appended the name and value of the
  first attribute to the name of the element in the sidebar tree broke
  <b>copyXPath</b>. This is now fixed.
  <br><br>
</li>

<li>
  <b>Jan 22 2002 6:58 AM - Version 0.12.2</b>
  <p>
  This release fixes a couple of minor but annoying bugs introduced in 0.12.1.
  <p>
  The <b>help</b> command (F1) was broken in 0.12.1. Help worked fine if you
  started off by asking about a specific command (e.g. Alt X, "help
  cyclePaste"), but F1 (or just Alt X, "help") led to a NullPointerException,
  which was no help at all. This bug is now fixed.
  <p>
  A change in 0.12.1 broke indentation in Java mode (and its derivatives)
  after "else if", when there were no curly braces around the following code.
  Also now fixed.
  <p>
  Plus a couple of XML mode indentation fixes, unrelated to 0.12.1 per se.
  <br><br>
</li>

<li>
  <b>Jan 16 2002 11:48 AM - Version 0.12.1</b>
  <p>
  One new feature (vertical rule) and a number of bug fixes and minor
  improvements.
  <p>
  Some folks like to have a vertical line displayed inconspicuously at some
  specific column in the edit buffer as a hint to help them maintain a right
  margin for their code, out of deference to colleagues who might happen to
  be display-width-challenged for whatever reason. J now supports this
  feature. To enable it, put a line like this in ~/.j/prefs:
  <pre>
        verticalRule=80</pre>
  The vertical rule will be displayed to the right of the column specified by
  the <b>verticalRule</b> property. If <b>verticalRule</b> is zero (which is
  the default), no vertical rule will be displayed. You can use
  <b>color.verticalRule</b> in your theme to specify a color for your vertical
  rule. When enabled, the vertical rule is displayed in editable buffers only
  (and not, for example, when you're reading a man page or working in a
  directory buffer).
  <p>
  Command lookup for <b>executeCommand</b> (Alt X), <b>whereIs</b>, and
  <b>help</b> is now case-insensitive. So you can do, for example, Alt X "help
  ccgroup", in all lower case, instead of Alt X "help ccGroup", with a capital
  'G', which used to be required.
  <p>
  Syntax highlighting in Perl mode has been made a bit more accurate. Search
  patterns (e.g. "/foo/"), as well as substitution and translation constructs
  ("s/foo/bar/", "tr/A-Z/a-z/", etc.), now have their delimiting slashes,
  together with the "s" or "tr" (or "m" or "y"), highlighted like a function
  name. The text between the slashes is now highlighted like a quoted string.
  <p>
  In Perl mode, j is no longer quite as likely to mistake a naked '#' in the
  midst of a substitution or search pattern for the beginning of a comment,
  screwing up the syntax highlighting and, in many cases, the indentation of
  the next line.
  <p>
  In C mode, j is now less likely to be confused by a macro that looks like a
  function call, when there is no semicolon at the end of the line. As in:
  <pre>
        ZEND_GET_MODULE(foo)</pre>
  In previous versions, this sort of thing would screw up the indentation of
  the following line(s).
  <p>
  The code reorganization in version 0.12.0 introduced a bug in the Properties
  dialog (Alt P) which caused the mode combo box to default to "Autoconf" in
  all cases, with the unfortunate consequence that if you hit Enter without
  making any changes in the dialog, the current buffer would end up in
  Autoconf mode, probably not what you had in mind. This bug is now fixed.
  <p>
  In previous versions, <b>compile</b> and <b>recompile</b> called
  <b>saveAll</b> before launching the compiler, to make sure the source that
  got compiled contained the changes you just made. This caused slightly odd
  behavior in the case of untitled and remote buffers, which wouldn't normally
  be compiled in any case. Starting with this version, <b>compile</b> and
  <b>recompile</b> save only local, ostensibly compilable buffers before
  launching the compiler.
  <p>
  Fixed a bug in the Java tagger that caused a NullPointerException if an
  inner class definition was immediately followed by a semicolon.
  <p>
  Fixed a formatting problem in mail composition buffers initiated by
  <b>messageReplyToGroup</b> when there are too many addressees to fit on a
  single line.
  <p>
  J now uses the latest versions of the gnu-regexp and BeanShell packages
  (1.1.4 and 1.2b3, respectively).
  <br><br>
</li>

<li>
  <b>Jan 9 2002 5:52 AM - Version 0.12.0</b>
  <p>
  This release adds one brand new feature, plus a substantial cleanup of the
  FTP code to make saves more reliable, and a great deal of general
  refactoring and reorganization, for the good of the code.
  <p>
  The brand new feature is PHP mode, which is used by default for files with
  extensions of .php, .php3 and .php4. Syntax highlighting for intermingled
  HTML content is not yet supported.
  <p>
  In recent versions of j, FTP saves were written directly to the target file
  on the server. If all goes well, this approach preserves the permissions
  and ownership of the target file, but if something goes astray, the target
  file is likely to be truncated or lost.
  <p>
  Starting with this release, FTP saves are written initially to a temporary
  file on the server. If that succeeds, the temporary file is then renamed to
  replace the real target file. Finally, the SITE CHMOD command is used to
  restore the permissions of the original file.
  <p>
  This approach works well with the servers I've tested. The target file is
  much less likely to be damaged if a network problem interrupts the save, and
  file permissions are still preserved. Word on the street, however, is that
  not all FTP servers support the SITE CHMOD command, and even those that do
  can be configured to ignore it, so it may not be possible in every situation
  to restore the permissions of the original file. Complain to your network
  administrator.
  <p>
  Generally speaking, FTP loads and saves are carried out asynchronously, in a
  background thread. In most cases, the background operation in progress for a
  particular buffer can be cancelled by pressing Escape while you're in the
  buffer in question. You can also switch away to a different buffer and
  continue your work while a long-winded operation runs its course.
  <p>
  While working on the FTP save code, I was surprised and chagrined to
  discover that j's autosave recovery feature had no support for remote files.
  This embarrassing deficiency has now been corrected.
  <p>
  If j (or the computer) crashes when there are unsaved changes to a remote
  file, when you restart j you will be asked if you want to recover the file
  in question. If you say yes, the file is saved locally under the directory
  ~/.j/recover, with a filename constructed from the remote host name, plus
  '/', plus the full path of the file on the remote host. (On Windows, of
  course, ~/.j is C:\.j, in most cases.)
  <p>
  So, for example, if you were editing /home/peter/.emacs on annie (one of my
  favorite test files), it would be recovered as:
  <pre>
        ~/.j/recover/annie/home/peter/.emacs</pre>
  The full pathname of the recovered file is reported to the user in an
  informative dialog at the time of recovery.
  <p>
  Files in the ~/.j/recover tree are never deleted by j, unless the user
  specifically deletes them in a directory or shell buffer. (rm -rf is your
  friend.)
  <p>
  The ~/.j/recover tree is used only for remote files; local files are
  recovered in place, as before.
  <p>
  In XML mode, the name and value of the first attribute, as well as the
  element name, are now shown in the sidebar tree. This makes for a much more
  informative display, at least in the case of build.xml.
  <p>
  There are now preferences to control the name and size of the dialog font
  (which is used for menus, toolbars, and sidebar components as well as
  dialogs), with the following defaults (you can change them in ~/.j/prefs):
  <pre>
        dialogFontName=Dialog
        dialogFontSize=11</pre>
  <p>
  In mailboxes, message buffers and mail composition buffers, there is now a
  rudimentary folder tree in the lower pane of the sidebar, showing the
  folders (mailboxes) that are active in the current session. Not much
  functionality there yet, but work continues... ;)
  <p>
  Not to mention a number of minor bug fixes, and small improvements too
  numerous to enumerate.
  <p>
  Thanks for your support!
  <br><br>
</li>

<li>
  <b>Nov 27 2001 6:10 PM - Version 0.11.2</b>
  <p>
  This release introduces a couple of handy features specific to Java 1.4,
  together with some minor mail-related improvements, and fixes a number of
  bugs.
  <p>
  The addition of features specific to Java 1.4 does not mean that Java 1.4 is
  required to run j; the j.jar in the 0.11.2 binary distribution works fine
  with Java 1.3. (For that matter, it works in an emergency with Java 1.2, but
  you should really be using 1.3, at a minimum.)
  <p>
  Wheel mouse support has been added, if you're running Java 1.4. It should
  just work.
  <p>
  Support for the primary X selection has been added, if you're running Java
  1.4 on a Unix platform. When a selection is highlighted in j, you can now
  transfer it to an xterm (for example) with a middle-button click.
  Conversely, you can use <b>pastePrimarySelection</b> to paste highlighted
  text from an xterm into j.
  <p>
  <b>pastePrimarySelection</b> is not mapped to any key by default. If you'd
  like to try it out, you might want to add these lines to ~/.j/init.bsh:
  <pre>
        // Map pastePrimarySelection to middle-button single click,
        // just like in an xterm.
        globalMapKey("Mouse-2", "pastePrimarySelection");
        mapKeyForMode("Mouse-2", "pastePrimarySelection", "Java");</pre>
  <b>pastePrimarySelection</b> is mouse-aware, but you can't really use
  <b>executeCommand</b> (Alt X) to invoke it, since the transfer of focus to
  the location bar when you type in the name of the command will actually
  change the primary selection and lead to unexpected results.
  <p>
  If you build j from source, the addition of features that require Java 1.4
  has muddied your waters a bit. As an experiment, the current release is
  built using <a href="http://ant.apache.org/">Ant</a>, rather than the
  old configure/make system; you'll notice that build.properties and build.xml
  have appeared in the root directory of the source tree (and elsewhere too,
  in the case of build.xml).
  <p>
  With Ant, the general procedure is to change into the root directory of the
  unpacked source distribution, edit build.properties there to suit your
  situation, and then do:
  <pre>
        ant all</pre>
  possibly followed by:
  <pre>
        su
        ant install</pre>
  if you don't mind j installing itself in /usr/local/bin. (You probably don't
  want to do that on Windows.) Even if you elect to skip the install step, you
  should end up with a runnable j.jar (as in "java -jar j.jar"), and a
  reasonable wrapper script (either j or j.bat, depending on your platform),
  which, of course, you are free to hack on if you want.
  <p>
  If you're not planning to use Java 1.4, you can leave jdk14 unset in
  build.properties; the one source file that requires 1.4
  (MouseWheelListener.java) just won't get built in that case, which is fine.
  <p>
  If you do want to use 1.4 and you don't care about earlier versions of Java,
  the simplest thing to do is to point both jdk and jdk14 at your Java 1.4
  JDK. In this case, the resulting j.jar will not work with earlier versions
  of Java.
  <p>
  You can also point jdk at your Java 1.3 JDK and jdk14 at your Java 1.4 JDK,
  and, in theory, the resulting j.jar will work with either 1.3 or 1.4; the
  distribution binaries are built this way. This works correctly with
  <a href="http://oss.software.ibm.com/developerworks/opensource/jikes/">jikes</a>
  on Linux, but not on Windows; on Windows, jikes seems to insist on
  rebuilding .class files with the 1.4-specific classpath, even though they're
  already newer than the corresponding .java files. There are certainly ways
  to work around this, but I didn't find one that I really liked. And I
  haven't tested any of this with javac; I'm too old to wait that long. Feel
  free to send patches or suggestions.
  <p>
  The old configure/make build system still works, but if you don't specify a
  1.4 JDK when running configure, you'll get an error when compiling
  MouseWheelListener.java. This error can safely be ignored; if it annoys
  you, you can delete MouseWheelListener.java.
  <p>
  The bottom line is that building j is still a bit of an adventure. It should
  become less so over time, if all goes well.
  <p>
  In other news, <b>wrapComment</b> is now mapped by default to F12 in
  Properties mode, as well as in Java and Perl modes. A comment in Properties
  mode is a line beginning with "# ". For all those multiline comments in
  your build.properties file... ;)
  <p>
  When you're in a mailbox, you can now use the location bar to set or change
  a limit pattern (as an alternative to the normal mechanism involving
  <b>mailboxLimit</b> and <b>mailboxUnlimit</b>); just append the limit
  pattern to the location itself. Conversely, the limit pattern that's
  currently in force is now displayed in the location bar when you're in the
  mailbox.
  <p>
  Added <b>ccGroup</b>, not mapped by default but available via Alt X in mail
  composition buffers when you're replying to a message. <b>ccGroup</b> adds
  all of the recipients of the original message to the "Cc:" header of your
  reply, just as if you had initiated the reply with
  <b>messageReplyToGroup</b> instead of <b>messageReplyToSender</b>. Much
  easier than starting over.
  <p>
  In mail composition buffers, with the default key mappings, you can now use
  Tab and Shift Tab to navigate among the fields in the header area of the
  message.
  <p>
  In previous versions, j was not handling multiline "Bcc:" headers correctly
  in outgoing mail messages (the additional lines were, in effect, appended to
  the immediately preceding header, which was probably not what you wanted, to
  say the least). This bug has been fixed.
  <p>
  Fixed a bug introduced in 0.11.1 that prevented j from loading an HTML
  message if it contained a &lt;meta&gt; tag that specified a character set
  different from the one specified in the message's Content-Type header. In
  this situation, which is a bit off in the weeds in any case, the
  &lt;meta&gt; tag is now ignored.
  <p>
  The latest version (1.15) of jikes has a known bug (#2256) that causes a
  VerifyError at runtime upon invocation of a private constructor of an inner
  class. Previous versions of j did in fact include several inner classes with
  private constructors and thus ran into this bug. This has now been fixed.
  <p>
  With previous versions of j, if you invoked <b>playbackMacro</b>, mapped by
  default to F8, while recording a macro with <b>recordMacro</b>, mapped by
  default to F7, subsequent invocation of the recorded macro would result in a
  stack overflow. This bug has been fixed. <b>playbackMacro</b> is now ignored
  (with an appropriate warning) when you're recording a macro.
  <br><br>
</li>

<li>
  <b>Nov 13 2001 5:58 PM - Version 0.11.1</b>
  <p>
  Bug fixes and performance improvements, with just a couple of minor
  enhancements.
  <p>
  By request, you can now specify a true path, rather than just a single
  directory, for <b>jdkDocPath</b>:
  <pre>
        jdkDocPath=/home/peter/sun/jdk1.3.1/docs:/usr/share/doc/junit-doc/doc</pre>
  You can then use <b>jdkHelp</b>, mapped by default to Alt F1 in Java mode,
  to get API documentation for JUnit (in the current example) as well as for
  the JDK itself.
  <p>
  For a long time j has supported several preferences related to font metrics,
  to allow you to customize the appearance (really the line spacing) of the
  text in the edit window. In previous versions of j, the only place you could
  set these preferences was in ~/.j/prefs, which was not particularly
  convenient if you used different versions of Java, since each version of
  Java seems to need its own specific settings in this area, which forced you
  to edit ~/.j/prefs whenever you used a different version.
  <p>
  Now you can set these (and other) preferences conditionally in ~/.j/init.bsh.
  <p>
  For example:
  <pre>
        String javaVersion = System.getProperty("java.version");
        if (javaVersion.startsWith("1.4"))
        {
            setGlobalProperty("adjustAscent", "-3");
            setGlobalProperty("adjustDescent", "-6");
        }
        else if (javaVersion.startsWith("1.3.0"))
        {
            setGlobalProperty("adjustAscent", "-2");
        }</pre>
  <p>
  This example uses a new official API:
  <pre>
        void setGlobalProperty(String key, String value)</pre>
  <p>
  You can use setGlobalProperty() to set any property, even if the value is
  not a string. The string you specify for the value ("1234", "true", etc.)
  will be converted internally to the appropriate type.
  <p>
  For a long time j has automatically opened Unicode files and handled them
  correctly, but only if they contained no non-ISO-8859-1 characters. This
  ridiculous limitation, which was never intended in the first place, has been
  removed, and starting with this release j should handle Unicode files
  correctly no matter what characters they contain. You don't need to do
  anything special to open a Unicode file; j will recognize the byte order
  mark and do the right thing.
  <p>
  <b>findInFiles</b> and <b>replaceInFiles</b> now silently refuse to process
  binary files. There was never any real support for binary files in the code
  behind these commands, so skipping them is not only safer but more honest as
  well. Speaking of Unicode, there's a known bug here: <b>findInFiles</b> and
  <b>replaceInFiles</b> misidentify Unicode files as binary and skip them too.
  This bug will be fixed in a future release (or, to put it more honestly,
  it's not fixed in this release).
  <p>
  <b>escape</b>, mapped by default to Escape, now cancels the running
  <b>findInFiles</b> process, if there is one. In previous versions,
  <b>escape</b> closed the <b>findInFiles</b> output window, but the process
  itself continued to run. Now, <b>escape</b> kills the process, but leaves
  the output window open, which is more likely to be what you want to do. Once
  the process has been killed, a second <b>escape</b> will close the output
  window. If you really want to leave the process running but get rid of the
  output window, you can use <b>unsplitWindow</b> (Shift F10), or just click
  on the close button at the right end of the location bar.
  <p>
  The recent change from using a dialog box to using an output buffer for
  <b>findInFiles</b> introduced a memory leak which had particularly bad
  consequences if the pattern being searched for occurred in many files. This
  has now been fixed, and it's once again possible to search the Linux source
  tree for occurrences of "switch" without running out of memory.
  <p>
  If you specify
  <pre>
        sortBufferList=true</pre>
  in ~/.j/prefs, the buffer list is now sorted in case-insensitive
  alphabetical order. In previous versions, the sort was case-sensitive, for
  no good reason.
  <p>
  The <b>dirSortDirectoriesFirst</b> preference is now true by default, so
  directories appear grouped together at the top of directory buffers, by
  default, rather than interspersed among the ordinary files.
  <p>
  <b>mailboxGetNewMessages</b> now respects, rather than clears, the limit
  pattern that's in effect for the mailbox in question.
  <p>
  In most cases, the sidebar is now refreshed by the idle thread, instead of
  by the normal event dispatching code. This should improve overall
  performance and responsiveness a bit.
  <p>
  Plus fixes for a number of other bugs too subtle to describe here.
  <br><br>
</li>

<li>
  <b>Oct 29 2001 9:43 AM - Version 0.11.0</b>
  <p>
  This release officially introduces and documents compilation buffers, which
  have been in tne code as an undocumented feature for a long time.
  Compilation buffers allow you to run compilers within j and provide commands
  to help you locate and correct compilation errors. The supported compilers
  include javac, jikes, gcc, and Microsoft C/C++. The full story is in the
  documentation ("Compilation Buffers"). Note that on Windows, compilation
  buffers require either Windows 2000 or Windows XP; Win9x won't do.
  <p>
  With the best of intentions, and thinking it would be no more than a minor
  janitorial project, after 0.10.2 was released I took out the hard-coded
  handling of mouse events in Dispatcher.java. For the most part, mouse events
  are now dispatched through the normal key map mechanism. This is really the
  right way to do it, and it opens up the possibility of letting the user
  re-map mouse events, which is clearly a good thing.
  <p>
  But there was also a consequence I hadn't foreseen: if you're using custom
  key maps, you won't have any mouse mappings at all until you edit your
  custom key maps and add the default mouse mappings back in.
  <p>
  To mitigate this inconvenience, j now supports an alternate mechanism for
  adding or removing key mappings. The new mechanism has a couple of
  advantages. For one thing, you no longer have to create or maintain an
  entire custom key map if you just want to remap one or two keys. In
  addition, the new mechanism is based on the default key mappings, so when
  new commands are added to the default mappings in subsequent releases of j,
  you'll pick them up automatically.
  <p>
  To implement this new mechanism, j now bundles a substantial subset of the
  <a href="http://www.beanshell.org">BeanShell</a> scripting engine. On
  startup, j executes the BeanShell script ~/.j/init.bsh (or, on Windows,
  C:\.j\init.bsh), if it exists. Commands are provided to add and remove key
  mappings, either globally or for a particular mode. Once again, the full
  story is in the documentation ("init.bsh").
  <p>
  As mentioned, you can now map commands to mouse events. There are some
  restrictions, however. For one thing, mouse event combinations involving the
  Alt key are not supported by Java: the Alt key uses the same modifier bit as
  Mouse-2, and things just go downhill from there. But something like this
  should work (using the new init.bsh syntax):
  <pre>
        mapKeyForMode("Ctrl Mouse-3", "jdkHelp", "Java");</pre>
  In addition, most commands in j don't know about mouse events and won't move
  the caret to the location of the mouse click before performing the actual
  work of the command. There are some exceptions to this: <b>selectWord</b>,
  for example, is mouse-aware, and commands whose names begin with "mouse"
  (e.g. <b>mouseFindTag</b>) are mouse-aware. The documentation will gradually
  get updated, and it should be obvious from the source if you're in doubt.
  Please complain if you would like a particular command made mouse-aware so
  you can map it to a mouse event.
  <p>
  Another new feature in this release is <b>jdkHelp</b>, mapped by default to
  Alt F1 in Java mode.
  <p>
  <b>jdkHelp</b> displays, in a split window, the JDK documentation for the
  class whose name is at the current location of the caret or mouse click. So,
  for example, you can put the caret on "String", hit Alt F1 and get the
  documentation for java.lang.String. As an alternative, you can use
  <b>executeCommand</b> to specify the class name explicitly: "jdkHelp
  String", for example.
  <p>
  <b>jdkHelp</b> examines the import statements at the top of your .java file
  to figure out the canonical name of the class in question, so if you're not
  in Java mode or if the class you're interested in is not imported in the
  current buffer, you'll need to specify the canonical name yourself: "jdkHelp
  javax.swing.JFrame".
  <p>
  When the JDK help window is open, it can be dismissed (and the window
  unsplit if applicable) by pressing Escape (the default mapping for the
  command <b>escape</b>, which also does many other useful things, but only
  one of them at a time).
  <p>
  To make <b>jdkHelp</b> work, you need to add a line like this to C:\.j\prefs
  to tell j where your JDK documentation is installed:
  <pre>
        jdkDocPath=C:\\jdk1.3\\docs</pre>
  <b>jdkHelp</b> is mouse-aware, but has no default mouse mapping. You can add
  one if you like by putting a line like this in ~/.j/init.bsh or
  C:\.j\init.bsh:
  <pre>
        mapKeyForMode("Ctrl Mouse-3", "jdkHelp", "Java");</pre>
  (That particular line maps <b>jdkHelp</b> to control right button single
  click in Java mode.)
  <p>
  The issues with Java 1.4 beta 2 involving the Tab key and displayed
  mnemonics in dialog boxes have been fixed. I had mistakenly supposed that
  these problems were caused by bugs in 1.4; in reality, they were caused by
  improvements in 1.4.
  <p>
  In previous versions, j was wrong about the time zone offset on the two days
  each year when the time changed from daylight time to standard time or vice
  versa. This bug is now fixed, a day late for most residents of the United
  States.
  <p>
  Plus, as usual, a number of other bug fixes and adjustments too minor to
  mention.
  <br><br>
</li>

<li>
  <b>Oct 10 2001 6:20 PM - Version 0.10.2</b>
  <p>
  J now seems to work reasonably well with Sun's Java 1.4 beta 2 on both Linux
  and Windows. On Linux, there is one remaining problem because of a
  <a href="http://developer.java.sun.com/developer/bugParade/bugs/4499991.html">known bug</a>
  in the 1.4 beta: monospaced italic fonts aren't really monospaced.
  The workaround is to change line 52 in the JDK's font.properties
  file from:
  <pre>
        monospaced.italic.0=-b&amp;h-lucidatypewriter-medium-i-normal-sans-*-%d-*-*-m-*-iso8859-1</pre>
  to:
  <pre>
        monospaced.italic.0=-b&amp;h-lucidatypewriter-medium-r-normal-sans-*-%d-*-*-m-*-iso8859-1</pre>
  <p>
  This change gets italics to work with j, but it may have bad effects on
  other applications, so proceed with caution. According to Sun, the bug
  will be fixed in beta 3.
  <p>
  Partly because of this bug, and partly as a convenience for folks who would
  rather not use an italic font for syntax highlighting even if one is
  specified by the current theme, you can now disable the use of italic fonts
  entirely by adding the following line to ~/.j/prefs:
  <pre>
        enableItalics=false</pre>
  <p>
  There are a couple of other minor problems with 1.4. The Tab key does not
  seem to work for keyboard navigation in dialog boxes. That might not be too
  bad if one could fall back on displayed mnemonics, but unfortunately there
  seems to be another bug that keeps the mnemonic letter from being underlined
  properly in a JLabel, so you don't really know what the mnemonic is.
  Fortunately j has very few dialogs where this really is an issue.
  <p>
  In any case, I've been using j with 1.4 beta 2 on Linux for most of my
  development work recently without any serious problems.
  <p>
  The command <b>listBindings</b> has been added. It's not mapped to any key
  by default, but it's available on the Help menu ("Key Bindings"). It
  displays a list of the key bindings that are in effect in the current
  buffer. And yes, the command names are left-button-clickable. (If they're
  not, set your docPath.)
  <p>
  <b>openFile</b> can now be used to open POP and IMAP mailboxes as well as
  normal files. <b>openMailbox</b> is retained, for the moment, and is the
  only way to open a local mailbox in Mailbox mode (which is not, strictly
  speaking, a supported operation).
  <p>
  You can also specify POP and IMAP mailboxes on the command line just like
  files when starting j, using aliases or not:
  <pre>
        $ j inbox</pre>
  or
  <pre>
        $ j {peter@annie}inbox</pre>
  <p>
  Aliases are now supported for POP and IMAP mailboxes as well as normal
  files. The "alias foo here" syntax works with POP and IMAP mailboxes too.
  <p>
  J itself now defines three system aliases which may not be changed: "prefs"
  is an alias for j's preferences file (as it has been, in effect, for a long
  time), "aliases" is an alias for the file that contains the aliases
  themselves, and "inbox" is an alias for the user's default inbox, if any, as
  specified in ~/.j/prefs.
  <p>
  Work is in progress to bring about better consistency between mailboxes and
  directory buffers, which are, after all, similar things. To that end,
  <b>dirSetFilter</b> has been renamed <b>dirLimit</b>, <b>dirUnlimit</b> has
  been added, and <b>dirMarkFile</b> has been renamed <b>dirTagFile</b>.
  <b>dirOpenFile</b> is now mapped by default to Enter and Ctrl Shift G,
  <b>dirBrowseFile</b> is now mapped by default to 'b' and Ctrl Shift B,
  <b>dirLimit</b> is mapped by default to 'l', <b>dirUnlimit</b> is mapped by
  default to 'L', and <b>dirTagFile</b> is mapped by default to 't'.
  <p>
  In addition, if you enter a blank string in the <b>mailboxLimit</b> input
  dialog, any limit pattern that was previously in force for the mailbox in
  question is removed, which is the way <b>dirLimit</b> (ne
  <b>dirSetFilter</b>) has always worked.
  <p>
  Like I said, this is work in progress: I haven't done anything about the 'd'
  or Delete key mappings yet.
  <p>
  And, as usual, a lot of bugfixes, a few performance tweaks, and some minor
  adjustments to the user experience.
  <br><br>
</li>

<li>
  <b>Oct 2 2001 7:51 PM - Version 0.10.1</b>
  <p>
  One new feature and a number of minor adjustments and bug fixes.
  <p>
  First of all, the change to a new built-in theme in version 0.10.0 broke
  themes such as Freefloater that did not specify colors or styles for certain
  syntactic elements, relying instead on the built-in defaults. Those defaults
  changed in 0.10.0, and the results weren't pretty. The moral of this story
  is that you should specify color and style values in your theme for all
  syntactic elements. Freefloater, in particular, has now been fixed, and the
  documentation has been updated to indicate that there are no default values
  for colors and styles.
  <p>
  The new feature in this release is aliases, which are supported by
  <b>openFile</b> and <b>executeCommand</b>.
  <p>
  You can use <b>executeCommand</b> (mapped by default to Alt X) to define an
  alias:
  <pre>
        alias bookmarks=/home/peter/.mozilla/peter/g2ngy1hj.slt/bookmarks.html</pre>
  <p>
  Then, you can just type "bookmarks" in the location bar's textfield instead
  of the full name of the file.
  <p>
  If you want to define an alias for the current file (i.e. the file
  associated with the buffer that's currently active), you can use "here" as a
  shortcut:
  <pre>
        alias bookmarks here</pre>
  <p>
  You can also define aliases to be used with <b>executeCommand</b>:
  <pre>
        alias pf=man perlfunc</pre>
  <p>
  If you're not really a command-line type of person, you can bring up a
  dialog box to set or change the value of an alias by invoking <b>alias</b>
  with no arguments.
  <p>
  Full details may be found in the documentation (Alt X, "help alias", follow
  the link).
  <p>
  <b>gotoFile</b> (Ctrl Shift G) and <b>browseFileAtDot</b> (Ctrl Shift B) now
  require whitespace before terminating a filename beginning with "http://",
  to avoid truncating URLs with appended queries. Trailing punctuation is also
  stripped. This makes it much more likely that you can just put your caret on
  the filename and go, without having to select the exact string first.
  <p>
  In Web mode, character entities are now recognized in attribute values.
  <p>
  The vertical movement commands (<b>up</b>, <b>down</b>, <b>pageUp</b>,
  <b>pageDown</b>, etc.) now honor the <b>restrictCaret</b> preference
  introduced in 0.10.0.
  <p>
  In previous versions, <b>indentLine</b>, <b>indentRegion</b>, and
  <b>indentLineOrRegion</b> have left lines unchanged as long as the non-whitespace
  text on the line starts in the correct column. You can now change
  this behavior by adding the following line to ~/.j/prefs:
  <pre>
        indentLineFixWhitespace=true</pre>
  If <b>indentLineFixWhitespace</b> is <b>true</b>, the indentation commands
  will also make sure that the whitespace at the start of the line consists of
  the optimal mix of tab and space characters, depending on the settings of
  the <b>useTabs</b>, <b>tabWidth</b> and <b>indentSize</b> properties for the
  current buffer. <b>indentLineFixWhitespace</b> is <b>false</b> by default,
  which keeps whitespace-only changes to a minimum.
  <p>
  <b>print</b> is now mapped to Ctrl P.
  <p>
  <b>executeCommand</b> (mapped by default to Alt X) now displays an error
  message instead of failing silently if you try to execute a misspelled or
  otherwise unknown command.
  <p>
  The code that tries to adjust j's initial window placement on Linux has been
  greatly simplified. It seems to work at least as well as it ever did, but
  maybe that's just in my environment. Let me know if you encounter any
  anomalies.
  <p>
  J should now be able to find its help files with less help from the user, so
  F1 is more likely to work right out of the box (so to speak). Worst case,
  you can still add a line to ~/.j/prefs (or C:\.j\prefs) to specify where the
  documentation directory is located:
  <pre>
        docPath=/home/peter/j-0.10.0/doc</pre>
  or
  <pre>
        docPath=C:\\armedbear\\j\\doc</pre>
</li>

<li>
  <b>Sep 23 2001 5:30 PM - Version 0.10.0</b>
  <p>
  if you've been using j right along, one of the first things you'll notice
  with this release is that your previous editing session is not restored.
  This should only happen once. The way in which sessions are saved and
  restored has changed, in preparation for future functionality (named
  sessions). Sessions saved with the new version of j should be restored
  correctly the next time j is started. I apologize for any inconvenience this
  may cause.
  <p>
  Another noticeable change, in response to a number of complaints from the
  field, is that the built-in theme, which is what you get if you don't
  specify a theme in ~/.j/prefs, is now derived from Kodiak rather than from
  AnokhaClassic. If you actually prefer the old built-in theme, you can have
  it back again by specifying AnokhaClassic in ~/.j/prefs:
  <pre>
        theme=AnokhaClassic</pre>
  <p>
  On the subject of appearance, the new built-in theme, like Kodiak (which is
  basically the same thing), uses bold and italic fonts. Not all fonts come in
  a bold version (Lucida Console on Windows comes to mind). If your favorite
  font has this problem, you can add the following line to ~/.j/prefs:
  <pre>
        emulateBold=true</pre>
  If you set <b>emulateBold</b> to true, j will emulate a bold font by doing a
  paint trick with the plain font. You should only set <b>emulateBold</b> to
  true if you're actually using a font that needs this special treatment.
  <p>
  This version also introduces some behavioral changes. In the old days,
  <b>openFile</b> brought up a minimal dialog box. More recently,
  <b>openFile</b> has used the location bar for user input. Starting with this
  release, <b>executeCommand</b>, <b>findTag</b> and <b>incrementalFind</b>
  also get their input from the location bar. All of these commands still
  support completion (with Tab and Shift Tab) and history (with the up and
  down arrow keys, or Ctrl P and Ctrl N) just like they used to when they used
  a dialog box. All commands that use the location bar for input can be
  cancelled by pressing Escape.
  <p>
  Starting with this release, j can display its own help files. This means
  <b>help</b>, mapped by default to F1, brings up j's documentation within j
  itself, without invoking an external browser. One less mouth to feed, and
  another excuse to use a bold font.
  <p>
  As in previous versions, j makes an attempt to guess where your
  documentation is installed, but in most cases you will need to add a line to
  ~/.j/prefs (or C:\.j\prefs) to specify where the documentation is:
  <pre>
        docPath=/home/peter/j-0.10.0/doc</pre>
  or
  <pre>
        docPath=C:\\armedbear\\j\\doc</pre>
  (Note that on Windows double backslashes are necessary; your <b>docPath</b>
  may vary.)
  <p>
  By request, column selection is now supported. You can select a column by
  putting the caret at one corner of the column in question and control shift
  left clicking with the mouse at the opposite corner. When a column is
  selected, <b>killRegion</b>, mapped by default to Ctrl X, <b>copyRegion</b>,
  mapped by default to Ctrl C, and <b>delete</b>, mapped by default to Delete,
  act on the selected column. <b>copyRegion</b> and <b>killRegion</b> save a
  copy of the column which can subsequently be retrieved (and inserted in the
  buffer) using <b>pasteColumn</b>. See "Columns" in the documentation for
  details.
  <p>
  Column selection is one area where the user experience still needs tuning.
  There's no way to use the keyboard to select a column, for example, and
  there's no good reason why you should have to use <b>pasteColumn</b> instead
  of just <b>paste</b>. But it's a start, and tomorrow is another day...
  <p>
  <b>findInFiles</b> now provides a "List occurrences" option, which does what
  its name suggests.
  <p>
  The output of <b>findInfiles</b>, whether or not "List occurrences" is
  specified, is now sent to an output buffer, splitting the current window if
  necessary, rather than to a dialog box as in previous versions.
  <p>
  The <b>findInFiles</b> output buffer works like the <b>listOccurrences</b>
  output buffer. You can move around in the output buffer and hit Enter (or
  Ctrl Shift G, <b>findOccurrenceAtDot</b>) to go to the source file location
  that corresponds to the line the caret is on in the output buffer.
  <b>escape</b>, mapped by default to Escape, closes the output buffer (and
  unsplits the window); <b>listFiles</b>, mapped by default to Ctrl L, gets it
  back again.
  <p>
  Left button double click and middle button single click are now mapped to
  <b>findOccurrenceAtDot</b> in List Occurrences buffers (including
  <b>findInFiles</b> output buffers).
  <p>
  By default, <b>home</b> and <b>end</b> no longer move the caret to the
  beginning or end of the buffer when invoked repeatedly in quick sequence,
  but if you like that sort of thing, you can still have it by adding these
  lines to ~/.j/prefs:
  <pre>
        extendHome=true
        extendEnd=true</pre>
  <p>
  Added <b>imageFit</b> and <b>imageRestore</b>, mapped by default to 'f' and
  'r', respectively, in image buffers. <b>imageFit</b> scales the image to fit
  the current display window, preserving the aspect ratio of the original;
  <b>imageRestore</b> restores the image to its original size.
  <p>
  <b>imageToggleFullScreen</b> has been removed. It never really worked right.
  <p>
  <b>revertBuffer</b> should work correctly now in image buffers.
  <p>
  Added Scheme mode, for all your .scm files. Lisp mode should also work a bit
  better now. In shell buffers, <b>closeParen</b> is now mapped by default to
  ')', which is very useful if you're running a Lisp or Scheme session in your
  shell buffer.
  <p>
  If you would like the caret to be restricted to the actual text on the line
  (including leading and trailing whitespace), add this line to ~/.j/prefs:
  <pre>
        restrictCaret=true</pre>
  If <b>restrictCaret</b> is true, <b>right</b>, at the end of the line,
  advances the caret to column 1 of the following line.
  <p>
  Finally, if you would prefer the buffer list to be kept in case-sensitive
  alphabetical order, you can have your way by adding this line to ~/.j/prefs:
  <pre>
        sortBufferList=true</pre>
  Plus way more than the usual number of minor bugfixes, quite a few changes
  too minor to mention, and two or three new undocumented features for the
  bold and inquisitive.
  <br><br>
</li>

<li>
  <b>Jul 19 2001 4:37 PM - Version 0.9.3</b>
  <br><br>
  Bug fixes and one minor feature.
  <br><br>
  The minor feature is <b>doShellCommandOnRegion</b>, not mapped to any key by
  default but available from the Execute Command dialog.
  <b>doShellCommandOnRegion</b> prompts for a shell command (typically a
  filter, like "sort", for example, or "tr A-Z a-z") and runs the command you
  specify with the contents of the selected region as input. When the command
  finishes, the selected region is replaced with the output of the command.
  Using "sort" as the shell command, for example, is equivalent to j's
  built-in command <b>sortLines</b>.
  <br><br>
  <b>doShellCommandOnRegion</b> is an experimental feature, not enabled by
  default. To use experimental features, add this line to ~/.j/prefs:
  <pre>
        enableExperimentalFeatures=true</pre>
  If you want to use <b>doShellCommandOnRegion</b> on Windows, you need to
  have the <a href="http://sources.redhat.com/cygwin">Cygwin</a> tools
  installed, and sh.exe must be in your path.
  <br><br>
  J works a bit better now with Sun's Java 1.4 beta, although on Linux, at
  least, there are still extra repaints in a number of situations. While I was
  adding special-case code for 1.4, I removed a bunch of special-case code for
  earlier Java versions (1.2.2 and before). Please let me know if I
  inadvertently broke something in your favorite environment.
  <br><br>
  In any case, Java 1.3 is recommended now for both Linux and Windows. In
  recent days <a href="http://www.blackdown.org">Blackdown</a> has released
  1.3.1 and
  <a href="http://www.ibm.com/developerworks/java/jdk/linux130/">IBM</a> has
  released a new build (cx130-20010626) of 1.3.0 for Linux. The IBM release
  fixes the control key problem in their previous release. Onwards!
  <br><br>
  Accented letters (like the '' in "Mrz") are now handled correctly by the
  parser in directory buffers.
  <br><br>
  Perl mode indentation now handles backslash escapes correctly (or at least
  better than before), regardless of whether or not they're in quoted strings.
  <br><br>
  (It might be worth mentioning parenthetically that Perl mode gets confused
  right away by quoted strings that span multiple lines. Fixing this is a big
  deal, so in the meantime you might want to avoid multiline quoted strings in
  your Perl code. Sorry for the inconvenience!)
  <br><br>
  Fixed XML mode indentation to recognize start and end tags more precisely,
  avoiding stairstep over-indentation in certain situations.
  <br><br>
  <b>describeKey</b> now works correctly when invoked with its default key
  mapping (Alt K), rather than returning prematurely with the unhelpful
  message, "null is not mapped".
  <br><br>
  Location bar activity is now cancelled cleanly if you change your mind and
  click in the edit window or sidebar with the mouse.
  <br><br>
  It should now be easier to cancel long operations in POP and IMAP mailboxes,
  operations like opening the mailbox in the first place or retrieving new
  messages. You can cancel these operations by pressing the Escape key or by
  clicking on the Stop button in the toolbar, and with this release it's more
  likely to work.
  <br><br>
  Continuation lines in the address lists ("To:", "Cc:", "Bcc:") of outgoing
  mail messages are now handled correctly.
  <br><br>
  Tracked down an initially hard-to-reproduce bug that caused truly weird
  behavior if you switched away from a mailbox that contained a marked region
  and then switched back to it again (the mailbox was repainted with the
  contents of an entirely different buffer). This bug is now fixed.
  <br><br>
  J now uses the latest version (1.1.3a) of the gnu-regexp package.
  <br><br>
</li>

<li>
  <b>Jul 4 2001 7:20 PM - Version 0.9.2</b>
  <br><br>
  Bug fixes only.
  <br><br>
  In version 0.9.1, if you ran j without a toolbar, a NullPointerException
  would occur if you edited and saved your preferences file. Fixed.
  <br><br>
  In previous versions, if you used the View menu to toggle the toolbar either
  on or off while you were in the process of editing your preferences file,
  the toolbar might get toggled back to its previous state when you saved the
  file, depending on a number of incidental circumstances. Fixed.
  <br><br>
  J does a better job now of scrolling the display horizontally to bring the
  caret into view when it has moved past the right edge of the edit window. In
  previous versions, this did not always work correctly when the characters on
  the line in question varied in width, as might be the case if your theme
  uses a bold or italic font. (J still doesn't fully support proportional
  fonts, but we seem to be moving in that direction.)
  <br><br>
  And a few other adjustments too minor to mention.
  <br><br>
</li>

<li>
  <b>Jun 24 2001 11:59 AM - Version 0.9.1</b>
  <br><br>
  By request, this release introduces <b>print</b>, not mapped by default but
  available on the File menu. <b>print</b> does what its name suggests, i.e.
  it prints stuff on your printer. If you've selected a block of lines, only
  the selected lines are printed; otherwise, you get the whole buffer. A
  minimal confirmation dialog is presented in case you didn't really mean it.
  <br><br>
  Removed all default key mappings that involve the numeric keypad. All of the
  commands involved have other default mappings, so it's only a small loss,
  and now you should be able to type all the numbers correctly with the
  numeric keypad when NumLock is on. The displaced commands are killRegion,
  copyRegion, paste and undo. If you're looking for their other mappings,
  <b>whereIs</b> is your friend (on the Help menu).
  <br><br>
  Added <b>mailboxTagPattern</b>, which tags messages in a mailbox that match
  a specified pattern. <b>mailboxTagPattern</b> is mapped by default to Ctrl T
  in Mailbox mode. It supports the same set of patterns supported by
  <b>mailboxLimit</b>.
  <br><br>
  Added date matching ("~d date1-date2") to the set of special patterns
  supported by <b>mailboxLimit</b> and <b>mailboxTagPattern</b>. Full
  documentation is provided in the entries for these commands in
  doc/commands.html (Alt X, "help mailboxLimit").
  <br><br>
  Incoming messages that have been deleted without ever having been read are
  no longer counted as new or unread.
  <br><br>
  When there are new undeleted messages in a mailbox, the mailbox's icon in
  the sidebar buffer list changes to reflect that fact, and the number of new
  undeleted messages is reported in parentheses after the mailbox name.
  <br><br>
  When you delete a message with <b>mailboxDelete</b>, mapped by default to
  'd' in Mailbox mode, the caret is automatically advanced to the next line.
  By default, the caret is also advanced when you use <b>mailboxUndelete</b>,
  mapped by default to 'u'. By request, this behavior is now configurable in
  the undelete case. If you add this line to ~/.j/prefs:
  <pre>
        undeleteAdvanceDot=false</pre>
  the caret will not be advanced to the next line when you undelete a message.
  <br><br>
  By request, you can now add a line like this to ~/.j/prefs:
  <pre>
        eom=" [EOM]"</pre>
  If such a line is present, j will automatically append the specified string
  (in the current example, " [EOM") to the subject line of an outgoing mail
  message if the body of the message is empty and there are no attachments.
  <br><br>
  By request, <b>send</b> in mail composition buffers is now mapped by default
  to Ctrl Enter.
  <br><br>
  By request, added <b>foldRegion</b>, not mapped by default but available
  from the Execute Command dialog (Alt X). <b>foldRegion</b> does what its
  name suggests.
  <br><br>
  Folding has graduated (it's June, after all) and is no longer an
  experimental feature.
  <br><br>
  In XML mode, attribute names and attribute values now get separate syntax
  highlighting. The attribute name uses XmlMode.color.attribute, as before,
  but the attribute value uses XmlMode.color.string, which is probably not the
  same as XmlMode.color.attribute, depending on your theme.
  <br><br>
  In addition, the '=' between the attribute name and the attribute value is
  now highlighted separately too. It uses XmlMode.color.equals, which defaults
  to XmlMode.color.delimiter (which is mainly used for the angle brackets
  around the tags) if it's not explcitly set.
  <br><br>
  AnokhaClassic, Kodiak, and Freefloater, in the j themes directory, have been
  updated to support the new XML syntax highlighting features.
  <br><br>
  Shell buffers now strip ls colorization escape sequences, for a more
  sensible display.
  <br><br>
  This version of j works tolerably (but by no means well) with Sun's recently
  released beta of Java 1.4. There's much more work to do, both for me and for
  Sun. Previous versions of j don't even get out of the bag with the Java 1.4
  beta.
  <br><br>
  If you do try j with Java 1.4, there appears to be an odd interaction with
  the Sawfish window manager (I'm running version 0.38) on Linux. When I run j
  with 1.4, if I subsequently run it with, say, Sun 1.3.1, j has serious paint
  and window placement problems until I restart X (just restarting Sawfish is
  not enough). The same problem does NOT occur, by contrast, when I run
  Enlightenment as my window manager. It may just be my setup, however; both
  Sawfish and Enlightenment, not to mention j, are almost pathologically
  configurable.
  <br><br>
  Plus many bug fixes, a few cosmetic changes of questionable merit, and the
  usual complement of unnoticed regressions.
  <br><br>
  Thanks for your support!
  <br><br>
</li>

<li>
  <b>May 6 2001 6:43 PM - Version 0.9.0</b>
  <br><br>
  This release introduces folding. For now, folding is an experimental
  feature, available only in Java, C, C++ and Perl modes.
  <br><br>
  To use experimental features, you need to add this line to ~/.j/prefs:
  <pre>
        enableExperimentalFeatures=true</pre>
  Once the details are fully worked out, folding will graduate from
  experimental status and will be made available in other modes, too.
  <br><br>
  Folding lets you temporarily hide areas of the buffer to create an outline
  view. The hidden areas are still present in the buffer, and they are still
  visible (so to speak) to operations such as <b>find</b>, <b>replace</b>,
  <b>findTag</b>, <b>jumpToLine</b>, etc. If such an operation takes you to a
  folded area, the fold is expanded automatically.
  <br><br>
  The command <b>fold</b>, mapped by default to Ctrl [ (control left bracket),
  creates a fold at the current location of the caret (more or less). A '+'
  appears in the left margin of the edit window to indicate the fold. Clicking
  with any mouse button on the '+' will expand the fold, or you can move the
  caret to the line in question and use the command <b>unfold</b>, mapped by
  default to Ctrl ] (control right bracket).
  <br><br>
  J tries to be smart about folding. Or, to put it another way, j's current
  implementation of folding is deliberately sloppy. For example, <b>unfold</b>
  always unfolds the next fold (where "next" means "further down in the
  buffer"), if there is one, even if it's not particularly near the current
  location of the caret.
  <br><br>
  If you have a working middle mouse button, clicking it in the whitespace to
  the left of the text on any line will most likely either fold or unfold
  something, depending on the exact situation. Try it out. (I've never been
  able to get the middle mouse button to work in j under Windows, but maybe
  you can.)
  <br><br>
  The saving grace to all this sloppiness is that both fold and unfold are
  fully undoable (and, for that matter, redoable), so if you try something and
  don't like the result, <b>undo</b>, mapped by default to Ctrl Z, is your
  friend (and <b>redo</b>, mapped by default to Ctrl Y, is your uncle).
  <br><br>
  The command <b>foldMethods</b>, not mapped by default but available from the
  Execute Command dialog box (Alt X), folds all the methods (or functions) in
  the current buffer, giving you a kind of top-level outline view.
  <br><br>
  The command <b>unfoldAll</b>, also not mapped by default but available from
  the Execute Command dialog box (Alt X), unfolds all the folds in the current
  buffer, restoring things to a reasonably normal state.
  <br><br>
  These four commands (<b>fold</b>, <b>unfold</b>, <b>foldMethods</b> and
  <b>unfoldAll</b>), together with the aforementioned middle-button mouse
  trickery, should be considered just a first attempt to support folding in j.
  As you can probably tell, I'm not entirely sure how this feature should
  work. I've had several requests for it, however, so I'm hoping that those of
  you that like this sort of thing and have precise ideas about it will send
  me <a href="mailto:peter@armedbear.org">mail</a> with specific suggestions.
  I believe the code that does the actual folding and unfolding is pretty
  solid, so it's really just a question of deciding what commands should be
  provided to expose the functionality and figuring out exactly how those
  commands should work.
  <br><br>
  In other news, j now does a better job of handling mail with character
  encodings other than ISO-8859-1 or US-ASCII. The Russian spam that
  occasionally shows up on the Linux kernel list is displayed correctly now,
  for example, and <b>bounceMessage</b> seems to work correctly with it, too.
  <br><br>
  The Save As and Save Copy dialogs now provide a default filename in the
  textfield of the dialog box. In addition, you can now specify a directory as
  the target, in which case the file is saved in that directory with its
  current name.
  <br><br>
  J now uses the latest version (1.1.2) of the gnu-regexp package.
  <br><br>
</li>

<li>
  <b>Apr 21 2001 9:25 PM - Version 0.8.3</b>
  <br><br>
  This is a bug fix release with a little bit of new functionality.
  <br><br>
  First off, though, some information about a bug that's not fixed. With Java
  1.2, on what seems to be a small number of machines, the display is not
  painted correctly (sometimes text gets overlaid by other text, sometimes the
  whitespace between words disappears). This problem has been reported on both
  Windows and Solaris. In the cases I've investigated, upgrading to Java 1.3
  has made the problem go away. Internally, what seems to be happening is that
  with Java 1.2, getStringBounds() in java.awt.Font does not always return the
  correct width if the string in question is all whitespace. This breaks the
  code introduced in 0.8.0 to support proportional fonts. I'd rather not make
  the code any trickier than it is by trying to work around this problem,
  particularly since I can't reproduce the bad behavior on any of my machines.
  To sum up, if things don't look right with Java 1.2, try Java 1.3.
  <br><br>
  The command <b>whereIs</b> has been added. It's not mapped by default, but
  it's available on the Help menu. <b>whereIs</b> tells you what key(s) a
  given command is mapped to, in case you forget.
  <br><br>
  <b>describeKey</b>, mapped by default to Alt K, works better now with
  keystrokes that don't have modifiers, like 'd' in Mailbox mode, and with
  keystrokes that aren't mapped at all.
  <br><br>
  In Java mode, extended classes and implemented interfaces are now listed in
  the sidebar tag list, at the top of the class in question. In addition, the
  tag list for an interface should be accurate now even if a method
  declaration contains a "throws" clause, and the correct icon is used for
  interfaces in the tag list.
  <br><br>
  The Java mode formatter (which is also used for C and C++) now recognizes
  keywords correctly even if they are followed by an opening parenthesis with
  no intervening whitespace (as in "if(foo)").
  <br><br>
  J now uses the correct content type ("image/png", for example) for image
  files attached to an outgoing mail message if the file's extension is .png,
  .jpeg, .jpg, or .gif.
  <br><br>
  RFC2047 decoding of mail headers is much improved.
  <br><br>
  Images attached to (or embedded in) incoming mail messages are now handled
  correctly even if two or more images have the same filename.
  <br><br>
  POP3 mailboxes now get saved in the background under most circumstances,
  which makes it a bit quicker to close them (or close j).
  <br><br>
  <b>sendMailExpand</b>, which was mapped by default to Alt Space and Alt /
  and provided completion of mail addresses in mail composition buffers, is
  now obsolete. Its functionality has been folded into <b>expand</b>, which is
  mapped by default to Alt Space and Alt / in all modes. If you have a
  mode-specific keymap for Send Mail mode, you should remove any mapping you
  have for <b>sendMailExpand</b>, and possibly add one for <b>expand</b>.
  <br><br>
  The magic address book now promotes mail addresses to the head of the list
  when they are actually used in an outgoing message, so completion with
  <b>expand</b> in the header area of mail composition buffers will tend to
  come up with the address you really want a lot sooner.
  <br><br>
  The Reply button on the toolbar in message mode is now hooked up correctly.
  <br><br>
  In previous versions, if you tried to set an integer property (like
  <b>fontSize</b>) in ~/.j/prefs, j would get confused if there was trailing
  whitespace on the line. This is now fixed.
  <br><br>
  In previous versions, <b>unsplitWindow</b> would cause j to hang if the
  sidebar was not visible. This is now fixed.
  <br><br>
  In previous versions, saving any change to ~/.j/prefs caused the toolbar to
  reappear even if it was unchecked on the View menu. This is now fixed.
  <br><br>
  The menu and toolbar are now reset correctly when you use the mouse to
  switch from one window to the other in a split-window situation.
  <br><br>
  HTML mode no longer supports a tagger. The original intention was to provide
  a list of embedded JavaScript functions (if any), but the implementation,
  which just used the Java tagger, was seriously deficient, so the
  functionality has been removed until it can be implemented correctly.
  <br><br>
  J now uses version 1.1.1 of the gnu-regexp package. In the meantime, version
  1.1.2 has been released; we'll probably move to that next time.
  <br><br>
  Specifying just "prefs" (without the quotes) when opening a file, either in
  the location bar or on the command line, should now correctly open j's
  preferences file (~/.j/prefs). If you want to open some other file called
  "prefs" in the current directory, specify "./prefs" (or use the full path).
  In previous versions this behavior was not entirely consistent.
  <br><br>
</li>

<li>
  <b>Mar 12 2001 8:27 PM - Version 0.8.2</b>
  <br><br>
  This release introduces new icons for the sidebar tag list and fixes a few
  more bugs.
  <br><br>
  Mikol has provided new icons for the sidebar tag list, replacing the old
  ones that were on loan from the XML mode tree. In Java mode, the new icons
  have visibility indicators to distinguish public, private and protected
  fields and methods. The absence of a visibility indicator indicates default
  (package) access.
  <br><br>
  In Java mode, the sidebar tag list now handles interfaces and abstract and
  native functions correctly.
  <br><br>
  Fixed some breakage in j's handling of keyboard focus that crept in when
  split window support was introduced. The most common symptom was that focus
  would occasionally get stuck in the sidebar buffer list; recovery was
  difficult once j got into this state. The problem did not seem to occur on
  Windows, but it was very annoying on Linux. In any case, I believe it's
  fixed now; please let me know if I'm wrong.
  <br><br>
  The Delete button is now hooked up correctly in mailbox mode.
  <br><br>
</li>

<li>
  <b>Mar 5 2001 6:18 PM - Version 0.8.1</b>
  <br><br>
  This release just fixes a few bugs.
  <br><br>
  As initially coded, the location bar, introduced in 0.8.0, was pretty
  adamant about displaying the full name of the current directory to the right
  of the filename edit field. Under some circumstances (if the directory name
  was particularly long, or if the main window was not very wide) this
  prevented the user from moving the vertical divider to the right to make the
  sidebar wider. This bug has now been fixed. While I was at it, I also fixed
  the corresponding bug in the sidebar itself, which prevented the user from
  moving the vertical divider to the left to make the sidebar smaller beyond a
  certain point (which, not coincidentally, corresponded to the width of the
  sidebar's label). It should now be possible to make the sidebar as wide or
  as narrow as you like (within reason).
  <br><br>
  Fixed the display code to avoid ArrayIndexOutOfBoundsExceptions when the
  current line is much wider than the edit window and the caret is very far
  off screen to the right (a relatively rare combination of events, but not
  unheard of).
  <br><br>
  Fixed a loop-forever bug triggered by specific (and fairly unlikely) invalid
  input in the Java tagger, which constructs the sidebar tag list in Java mode
  and its derivatives (C, C++ and JavaScript modes).
  <br><br>
  Fixed a small menagerie of indentation buglets in Java and Perl modes.
  <br><br>
  Reorganized the code that controls when the wait cursor (or hourglass) is
  displayed, as opposed to the normal mouse cursor. In general things should
  work better now in this respect, but I may have missed a case or two, so if
  an hourglass is up for a very long time and you fear j is hung, try hitting
  an innocuous key or two to see if maybe I just forgot to take down the
  hourglass (and please let me know the circumstances if this should occur).
  <br><br>
</li>

<li>
  <b>Feb 25 2001 6:01 PM - Version 0.8.0</b>
  <br><br>
  This release introduces split window support.
  <br><br>
  For a long time j has supported the use of multiple top-level windows, using
  commands like <b>newFrame</b> (mapped by default to Ctrl Shift N) and
  <b>openFileInOtherFrame</b> (Ctrl Shift O). This release adds the command
  <b>splitWindow</b>, mapped by default to F10, which splits the current edit
  window without creating a new frame. You can undo the damage with
  <b>unsplitWindow</b>, mapped by default to Shift F10, and you can move from
  one window to the other with <b>otherWindow</b>, mapped by default to Alt O.
  <br><br>
  <b>listOccurrences</b>, mapped by default to Alt L, and
  <b>listOccurrencesOfPatternAtDot</b>, mapped by default to Ctrl Alt L, now
  use a split window to display their results. If the window isn't split
  already, these commands split it unequally, with the smaller, bottom window
  containing the occurrences list. When you're done with the occurrences list,
  you can use the handy command <b>escape</b>, mapped by default to Escape, to
  close the occurrences list and unsplit the window in one stroke.
  <br><br>
  Split windows introduce the need for some way to indicate what buffer is
  displayed in each of the windows. J's former approach of displaying
  information about the active buffer in the frame's title bar is no longer
  entirely adequate. So now j features a location bar at the top of the edit
  window, beneath the toolbar. If you split windows, each window has its own
  location bar. The location bar contains an edit control for the name of the
  file displayed in the window (it will be blank for buffers that don't
  display a file) and a static text control (to the right of the edit control)
  for the current directory.
  <br><br>
  <b>openFile</b>, mapped by default to Ctrl O, now simply sets focus to the
  edit control of the current window's location bar, instead of bringing up a
  dialog box. Just type in a filename and press Enter. Completion (using the
  Tab key) and history (using the up and down arrows) are supported in the
  location bar's edit control just as they were in the Open File dialog. If
  you're mouse-oriented, you can just click into the edit control to begin
  with, skipping Ctrl O.
  <br><br>
  Added the command <b>findTagAtDotOtherWindow</b>, which jumps to the
  definition of the function at the current location of the caret, using the
  other window (splitting the current window if necessary). It's mapped to
  Ctrl Alt . (that's control alt dot) in Java mode and its derivatives.
  Keyboard focus stays in the original window.
  <br><br>
  Added the command <b>openFileInOtherWindow</b>, mapped by default to Ctrl
  Alt O, which does what its name suggests, splitting the current window if
  necessary.
  <br><br>
  There are several new preferences related to the appearance of text in the
  edit window.
  <br><br>
  You can turn on Java2D antialiasing by add this line to ~/.j/prefs:
  <pre>
        antialias = true</pre>
  In some cases, turning on antialiasing will actually make things look worse;
  you'll need to try it out for yourself to see if it helps in your particular
  situation.
  <br><br>
  Adding antialiasing support broke the rather simpleminded way j has always
  calculated the location of the caret, so j now uses a much more general and
  robust approach to this problem. A side effect of this is that it's now
  possible to use bold and/or italic styles even if the average character
  width of the bold and/or italic font differs from the average character
  width of the plain font.
  <br><br>
  In the past, j has taken at face value the dimensions reported by Java for
  the display font. Particularly on Windows, however, these dimensions do not
  always result in optimal line spacing. So now you can make ad hoc adjustments:
  <pre>
        adjustAscent  = -1
        adjustDescent = -1
        adjustLeading = -1</pre>
  You can specify any numeric value you like for these adjustments, but only
  small positive or negative adjustments are likely to be useful. In each
  case, the default is zero. The adjustment you specify is added to the
  default value for the corresponding dimension of the display font. Negative
  values tend to reduce the line spacing, giving you more lines in the same
  vertical space. Once again, you will need to experiment with these values to
  determine what adjustments (if any) are useful in your particular case.
  <br><br>
  In Java mode (only) the fields as well as the methods of a class are now
  shown in the sidebar tag list. Cryptic icons have been added to help you
  tell at a glance which is which.
  <br><br>
  By default, files whose names end with ".cxx" and ".hxx" are now opened in C++
  mode. In addition, the sidebar tag list should be much more accurate for C++
  files now (although it's still far from perfect).
  <br><br>
  Added the command <b>copyXPath</b>, with no default mapping, for XML mode.
  This command, like <b>copyPath</b> in directory buffers, copies the path of
  the current element to the clipboard so you can paste it somewhere.
  <br><br>
  Added the commands <b>binaryMode</b> and <b>defaultMode</b>, not mapped by
  default, which do what their names suggest.
  <br><br>
  Added a new light-background theme, Kodiak.
  <br><br>
  Plus the usual menagerie of minor bug fixes, barely perceptible
  improvements, and unnoticed regressions.
  <br><br>
</li>

<li>
  <b>Feb 7 2001 6:57 AM - Version 0.7.1</b>
  <br><br>
  This release fixes a couple of minor bugs in 0.7.0.
  <br><br>
  <b>wrapComment</b> should now work correctly with files containing actual
  tab characters. <b>wrapComment</b> is mapped by default to F12 in Java, C,
  C++ and Perl modes. <b>wrapComment</b>'s Perl support is new in 0.7.1.
  <br><br>
  Duplicate mappings to support IBM Java 1.3 for Linux have been added to the
  Java mode and Perl mode keymaps. Without them, IBM 1.3 for Linux does not
  recognize the F11 and F12 keys correctly, at least from j's point of view,
  so the mappings for <b>wrapComment</b> (F12) and <b>toggleWrap</b> (Ctrl
  F12) weren't working.
  <br><br>
  Fixed a performance problem that affected both <b>listOccurrences</b>, which
  lists all the occurrences of the last search pattern in the current buffer,
  and <b>listOccurrencesOfPatternAtDot</b>, which does what its name suggests.
  <b>listOccurrences</b> is mapped by default to Alt L, and
  <b>listOccurrencesOfPatternAtDot</b> is mapped by default to Ctrl Alt L.
  <br><br>
</li>

<li>
  <b>Feb 4 2001 6:10 PM - Version 0.7.0</b>
  <br><br>
  This release documents j's mail support, which has been hiding in the code
  for several months now. J supports POP, IMAP and SMTP, but not (officially)
  Unix mbox-style mailboxes, although you can in fact open them (read only)
  with <b>openMailbox</b>. So if you use POP or IMAP to get your mail and SMTP
  to send it, you can use j as your mail client. For details on how to set
  things up, see the documentation (mail.html in the doc directory).
  <br><br>
  Mail support is quite new, compared to the rest of j, and it is still
  classified as an experimental feature, so expect bugs and
  <a href="mailto:peter@armedbear.org">let me know</a> when you find them.
  <br><br>
  J's word wrap functionality has been improved. The command <b>wrapRegion</b>
  has been added. It's not mapped to a keystroke by default, but it's
  available from the Execute Command dialog box (Alt X). It reformats the
  selected block of lines using the value of <b>wrapCol</b> that's in effect
  for the current buffer, which may be specified in the Properties dialog (Alt
  P). You can set global and/or mode-specific defaults for <b>wrapCol</b> in
  ~/.j/prefs:
  <pre>
        wrapCol = 72
        JavaMode.wrapCol = 80</pre>
  The command <b>wrapComment</b> has also been added, and mapped by default to
  F12 in Java mode (and its derivatives). You can use <b>wrapComment</b> to
  reformat a multi-line block of "//" style comments. It doesn't currently
  handle "/* ... */" style comments, or "//" style comments that follow code
  on the same line.
  <br><br>
  Finally, there's <b>toggleWrap</b>. This command, mapped by default to Ctrl
  F12, lets you toggle automatic word wrap in the current buffer. When
  automatic wrap is on, j automatically wraps long lines as you type them,
  when your caret advances past the wrap column. Automatic wrap is on by
  default in mail composition buffers. Automatic wrap is not yet supported for
  comments in Java mode.
  <br><br>
  For clarity, the behavior of <b>findNextWord</b> and <b>findPrevWord</b> has
  been changed, or more precisely, it has reverted to the behavior found in
  versions of j prior to 0.6.0. These commands now once again find the next or
  previous occurrence of the <em>word</em> at the current location of the
  caret. A <em>word</em> is a sequence of characters that are legal in an
  identifier in the current mode (think of an identifier in Java or C). If a
  pattern is selected on the current line, the first <em>word</em> of the
  pattern is used as the search string, rather than the entire pattern. (In
  0.6.x the entire selected pattern was used, but ambiguity crept in when a
  pattern was selected as the result of a previous search, which might or
  might not have used the "Whole words only" option. Even I was getting
  confused, and I wrote the code.)
  <br><br>
  By contrast, <b>listOccurrencesOfPatternAtDot</b> does use the selected
  pattern on the current line, if there is one; if there is no selection, it
  too uses the <em>word</em> at the current location of the caret.
  <b>listOccurrencesOfPatternAtDot</b> finds all the occurrences at once, so
  no ambiguity can creep in.
  <br><br>
  For consistency, all the toolbars now start with New, Open, Save and Close
  buttons on the left. The Save button is disabled when it doesn't make sense
  (and sometimes even when it does).
  <br><br>
</li>

<li>
  <b>Jan 16 2001 8:41 PM - Version 0.6.6</b>
  <br><br>
  Java 1.2 or later is now required. The configure script has been updated
  accordingly.
  <br><br>
  J now supports drag and drop from the Windows Explorer. (Thanks to Todd Fast
  for the code to do this.)
  <br><br>
  Added <b>browseFileAtDot</b>, mapped by default to Ctrl Shift B. <b>browseFileAtDot</b>
  invokes the default browser to view the file or URL at the location of the
  caret. You can specify the default browser by adding a line like this to
  ~/.j/prefs:
  <pre>
        browser = /usr/bin/mozilla</pre>
  Added <b>copyPath</b>, not mapped by default but available from the Execute
  Command dialog box (Alt X). <b>copyPath</b> only works in directory buffers.
  It copies to the clipboard the full pathname of the file on the line
  containing the caret.
  <br><br>
  Added <b>sortLines</b>, not mapped by default. <b>sortLines</b> is a very
  rudimentary command to sort a selected block of lines in ascending
  lexicographic order, based on the Unicode value of the characters in the
  line. (Maybe one day j will have a fancy line-sorting command. This isn't
  it.)
  <br><br>
  Added <b>insertChar</b> and <b>insertByte</b>, not mapped by default.
  <b>insertChar</b> prompts for a Unicode character, which may be entered as a
  decimal, hexadecimal, or octal number, and inserts it at the location of the
  caret. <b>insertByte</b> prompts for a byte, which also may be entered as a
  decimal, hexadecimal, or octal number, and inserts the Unicode character that
  corresponds to the specified byte in the default character encoding. To
  specify the default character encoding, add a line like this to ~/.j/prefs:
  <pre>
        defaultEncoding = ISO8859_2</pre>
  Directory buffers now show the total file size.
  <br><br>
  Image buffers now have working scroll bars.
  <br><br>
  And a number of improvements too minor to mention, bug fixes, and internal reorganizations.
  <br><br>
</li>

<li>
  <b>Dec 5 2000 1:03 PM - Version 0.6.5</b>
  <br><br>
  Yesterday's 0.6.4 release introduced an unintended dependency on Java 1.3
  when building j. This dependency has been removed, and you should once again
  be able to build j with Java 1.1.8 (or any later version).
  <br><br>
  With 0.6.4, a NullPointerException would occur if you used <b>revertBuffer</b>
  to reload a remote buffer (FTP or HTTP) but cancelled the operation before it
  was finished. This is now fixed.
  <br><br>
</li>

<li>
  <b>Dec 4 2000 6:40 PM - Version 0.6.4</b>
  <br><br>
  Added <b>windowUp</b> and <b>windowDown</b>, mapped by default to Ctrl Up and
  Ctrl Down, respectively. These commands move the window up or down one line,
  making the text in the window seem to move one line in the opposite
  direction, without changing the location of the caret.
  <br><br>
  <b>dirDoShellCommand</b>, mapped by default to '!' in directory buffers, now
  uses the file on the line containing the caret if no files are marked.
  <b>dirDoShellCommand</b> is an experimental feature, so you need to have the
  following line in ~/.j/prefs if you'd like to try it out:
  <pre>
        enableExperimentalFeatures = true</pre>
  Since the beginning of time, j has used the ISO-8859-1 encoding when loading
  and saving files. Not everyone uses ISO-8859-1, however, so j now supports a
  new <b>defaultEncoding</b> preference. For example:
  <pre>
        defaultEncoding = ISO8859_2</pre>
  Note that the names of the supported encodings may vary slightly from what
  you might expect (it's a Java thing).
  <br><br>
  Empty XML buffers no longer generate a parser error.
  <br><br>
  <b>gotoFile</b>, mapped by default to Ctrl Shift G, now understands line
  numbers, as in
  <pre>
        Editor.java:188</pre>
  You need to select the entire filename, including the line number, for this
  to work.
  <br><br>
  Shell buffers now handle pushd, popd, and "cd -" correctly (or at least
  better than before). (Shell buffers are another experimental feature, and
  they require jpty, which is not part of the binary distribution.)
  <br><br>
  Added <b>httpToggleHeaders</b>, with no default mapping (it's available from
  the Execute Command dialog box, which is mapped by default to Alt X). This
  command toggles the display of request and response headers in HTTP buffers.
  Headers are not displayed by default, but you can change this by adding this
  line to ~/.j/prefs:
  <pre>
        httpShowHeaders = true</pre>
  J now supports HTTP proxies, or at least Squid. To specify an HTTP proxy, add
  a line like this to ~/.j/prefs:
  <pre>
        httpProxy=192.168.1.1:3128</pre>
  You can specify a "User-Agent" header for j's HTTP requests by adding a line
  like this to ~/.j/prefs:
  <pre>
        httpUserAgent = "Mozilla/4.0 (compatible; MSIE 5.0; Windows 98; DigExt)"</pre>
  (Who do you want to be today?)
  <br><br>
  J now handles Microsoft's FTP site (ftp.microsoft.com) correctly. Embrace and
  extend... ;)
  <br><br>
  The command line syntax for opening a file at a specific line number should
  now work correctly in all cases:
  <pre>
        j +243 Editor.java</pre>
  <b>describeKey</b> now correctly describes '!' in directory buffers (mapped
  by default to <b>dirDoShellCommand</b>).
  <br><br>
  Wally Brock contributed a new theme, "Contrast".
  <br><br>
</li>

<li>
  <b>Nov 15 2000 8:20 PM - Version 0.6.3</b>
  <br><br>
  Many common FTP and HTTP operations are now non-blocking. This includes loads
  and saves, but not yet reloads or <b>dirGetFile</b> (their day will come; the
  goal is ultimately to make all such operations non-blocking).
  <br><br>
  This means that when you use j to open, say,
  http://armedbear.org/changelog.html, you will no longer see a modal progress
  dialog with a Cancel button. Instead, you'll see an empty buffer and an
  hourglass, with progress information displayed in the status bar. While the
  file is loading, you're free to switch away and work on a different buffer.
  You can use <b>escape</b>, mapped by default to the Escape key, or
  <b>killBuffer</b>, mapped by default to Ctrl W, to cancel a pending load
  operation and close the empty buffer. <b>escape</b> can also be used to
  cancel a pending save operation.
  <br><br>
  In previous versions, j employed a rather convoluted scheme when saving an
  FTP buffer. The file was first saved to a temporary file on the server
  with an arbitrary file name, and then, when the save had completed
  successfully, the temporary file was renamed to replace the original file.
  This approach had the advantage that the original file was left intact if,
  for one reason or another, the save failed to complete.
  <br><br>
  There were drawbacks to this approach, however. Although the original file
  was preserved when a save failed, on a bad day the target directory tended to
  fill up with orphan temporary files. In addition, there was no way to
  preserve the permissions of the original file.
  <br><br>
  This behavior has now been changed. J now saves FTP files in place, in the
  most straightforward way possible, writing directly to the target file. This
  means that a failed or aborted save will truncate the target file. This is
  not a good thing, but this is the way FTP clients normally work. The big
  advantage to this approach is that file permissions are preserved.
  <br><br>
  When saving a remote file, j tries to verify that the file has not been
  changed on disk since it was originally loaded for editing. Since we're now
  saving remote files in place, a partial save actually touches the remote file
  itself, rather than a temporary file on the remote machine, so if you retry a
  cancelled save, you will very likely be warned that the target file has
  changed on disk, and you will be prompted to confirm the save operation.
  <br><br>
  J now does backups of FTP saves. All backups (of both local and remote files)
  are stored in j's backup directory, which, by default, is ~/backup on Linux
  and C:\backup on Windows. You can change this location by adding a line like
  this to ~/.j/prefs:
  <pre>
        backupDirectory=/home/peter/.j/backup</pre>
  In any case, after an FTP save, whether successful or not, the backup
  directory should contain a copy of the original file, either as originally
  loaded or as last successfully saved.
  <br><br>
  Please <a href="mailto:peter@armedbear.org">let me know</a> if you have any
  problems with the new FTP functionality. It's not quite there yet in every
  respect, but I hope we're moving in the right direction.
  <br><br>
  The recent introduction of a horizontal scroll bar caused a serious
  performance problem when editing large files. J was scanning after each
  change to the buffer to see how long the longest line was, in order to set
  the proportions of the horizontal scroll bar correctly. This problem has now
  been fixed by moving the scanning activity to the idle thread. This means
  that it's now possible for the proportions of the horizontal scroll bar to be
  wrong immediately after a change to the buffer, but they should always be
  corrected after 500 milliseconds of user idleness. As a famous man once said,
  if you don't like the weather, wait a minute.
  <br><br>
  It was pointed out recently that the sidebar directory tree doesn't work with
  Java 1.1.8. While investigating that problem, I discovered an unrelated
  dependency on Java 1.2 in the 0.6.2 source. Both of these problems are now
  fixed.
  <br><br>
  Speaking of Java 1.2 dependencies, it has been suggested that maybe j should
  just require Java 1.2 or later. If you have any thoughts on this, please let
  me know. I'm particularly interested in reasons why 1.1.x compatibility
  should be preserved. The main reason I'm aware of is to give <a
  href="http://www.kaffe.org">Kaffe</a> a fighting chance.
  <br><br>
</li>

<li>
  <b>Oct 29 2000 5:22 PM - Version 0.6.2</b>
  <br><br>
  Added <b>closeOthers</b>, which closes all buffers but the current one.
  Useful for cleaning up when the buffer list gets out of hand. Not mapped to
  any keystroke by default, but available on the File menu.
  <br><br>
  Added <b>xmlInsertEmptyElementTag</b>, mapped by default to Ctrl Shift .
  (that's control shift period) in XML mode. It does what its name suggests.
  <br><br>
  The sidebar tree in XML mode has new icons. (Thanks Mikol!)
  <br><br>
  Files whose names end with ".cc" are now opened by default in C++ mode.
  <br><br>
  In C and C++ modes, the tagger now ignores preprocessor lines, as it should,
  thus eliminating a bogus tag or two on occasion.
  <br><br>
  In previous versions, if you did a replacement with the "Confirm changes" box
  checked, under certain circumstances a StringIndexOutOfBoundsException would
  occur when you pressed the "Yes" button, leading to subsequent erratic
  behavior. Fixed.
  <br><br>
  Error handling is better now when you try to open a file in a directory that
  does not exist. In previous versions, j would allow you to create a new
  buffer for the specified file, but then any subsequent attempt to save the
  buffer would fail, leaving things in an awkward state. Now j refuses to let
  you create a new buffer for a specific nonexistent file unless the directory
  specified for the file actually exists.
  <br><br>
  In XML mode, when you navigate by clicking on the tree, j now tries to scroll
  the window horizontally if necessary so that as much as possible of the
  target element is scrolled into view.
  <br><br>
  <b>insertParentheses</b>, which for a long time has been mapped to Ctrl Shift
  ( (that's control shift left parenthesis) in Java mode and its derivatives,
  now has the same mapping in Perl mode too.
  <br><br>
  Perl mode indentation now does a better job of handling continuation lines.
  <br><br>
</li>

<li>
  <b>Oct 10 2000 7:27 PM - Version 0.6.1</b>
  <br><br>
  This release adds a horizontal scroll bar to the edit window and fixes a
  number of bugs, only a couple of which are worthy of specific mention here.
  <br><br>
  The most serious bug was in <b>wrapParagraph</b>, mapped by default to F12.
  It caused j to hang under certain circumstances when wrapping an indented
  paragraph. This bug is now fixed.
  <br><br>
  In previous releases, there was no code to create j's cache directory if it
  did not already exist when you tried to open a file contained within a zip
  archive. In that case, you'd end up with an empty buffer. Fortunately, there
  was code to create the cache directory in a number of other places, so if you
  happened to hit one of those places first, the cache directory would already
  exist and things would be fine (unless you were trying to reproduce the bug).
  This bug is now fixed.
  <br><br>
</li>

<li>
  <b>Sep 19 2000 5:16 PM - Version 0.6.0</b>
  <br><br>
  This release adds a few new features and makes a number of changes to j's
  look and feel.
  <br><br>
  One new feature is List Occurrences. The idea is that you should be able to
  see a list of all the occurrences of a particular search pattern in a
  particular buffer.
  <br><br>
  There are several ways to make this happen. The most obvious way is to use
  the non-incremental Find dialog, which is mapped by default to Alt F3 (and
  maybe to Ctrl F, unless you use incrementalFind, but that's another story).
  You will notice that there's now a checkbox in this dialog labelled "List
  occurrences". If you check that box and perform a search, you will get a
  new, read-only buffer (the "List Occurrences buffer") containing all the
  lines in the original buffer that match the specified pattern and search
  parameters.
  <br><br>
  In the List Occurrences buffer, you can scroll to any line and
  use the command <b>findOccurrenceAtDot</b>, mapped by default to both Enter
  and Ctrl Shift G, to go to the corresponding line in the source buffer.
  <br><br>
  There are two other ways to get a List Occurrences buffer.
  <br><br>
  If you've already done a search, you can use the command
  <b>listOccurrences</b>, mapped by default to Alt L, to get a List Occurrences
  buffer for the last search, looking for matches in the current buffer (which
  may or may not be the same buffer where you did the original search).
  <br><br>
  You can also put your caret on any word in any buffer and use the command
  <b>listOccurrencesOfPatternAtDot</b>, mapped by default to Ctrl Alt L, to get
  a List Occurrences buffer listing the occurrences of that word in the buffer
  in question.
  <br><br>
  If you select some text on a particular line before invoking
  <b>listOccurrencesOfPatternAtDot</b>, the selected text will be used as the
  search pattern instead of the word under the caret. (Multi-line selections
  don't count.)
  <br><br>
  Since <b>listOccurrencesOfPatternAtDot</b> doesn't give you a chance to
  specify any search parameters, you might wonder what they are. The search is
  always case-sensitive. If there is no selection in effect, the pattern is the
  "word" under the caret, with a "word" meaning an identifier in the
  programming language of the buffer in question, and the search will be
  carried out as if the "whole words only" option was specified. This will
  normally produce the results you'd expect.
  <br><br>
  If you've selected some text on a particular line before invoking
  <b>listOccurrencesOfPatternAtDot</b>, j looks at the selected text in its
  context on that line. The search will be carried out with the "whole words
  only" option if (and only if) the selected text is delimited by non-word
  characters at both ends.
  <br><br>
  The pattern and search parameters are always listed at the top of the
  resulting List Occurrences buffer.
  <br><br>
  For a long time, j has provided the commands <b>findNextWord</b> and
  <b>findPrevWord</b>, mapped by default to Alt Down and Alt Up, respectively.
  In previous releases, these commands have always used the word under the
  caret as the search pattern. In this release, these commands have been
  changed to use selected text as the pattern (if text is in fact selected on
  the current line), with the same search parameter rules as
  <b>listOccurrencesOfPatternAtDot</b>.
  <br><br>
  As mentioned, this release makes a number of changes to j's look and feel.
  The most obvious of these changes is the use of icons in the sidebar buffer
  list. (Thanks to Mikol for contributing the icons!)
  <br><br>
  The sidebar is now single-click rather than double-click. Buffers are no
  longer re-ordered when you use the sidebar buffer list to switch to a
  different buffer.
  <br><br>
  The behavior of <b>selectDown</b>, mapped by default to Shift Down, and
  <b>selectUp</b>, mapped by default to Shift Up, has been changed. Now,
  invoking either of these commands with no selection in effect will select the
  current line in its entirety, rather than beginning a stream selection at the
  exact location of the caret. If you don't like the new behavior, you can have
  the old behavior back by adding this line to ~/.j/prefs:
  <pre>
        autoSelectLine = false</pre>
  If you select a block of text and copy it to the clipboard (using either
  <b>copyRegion</b> or <b>copyAppend</b>), the selection is now retained after
  the copy operation. This is the way most other editors work, and it saves you
  from having to re-select the block if you want to comment it out after you've
  copied it (just for one example).
  <br><br>
  There is now a right-button context menu in the edit window.
  <br><br>
  By request, the behavior of <b>home</b>, mapped by default to Home, and
  <b>end</b>, mapped by default to End, has changed.
  <br><br>
  <b>home</b> now moves to the beginning of the text on the current line, if
  you are right of there to begin with. If you're already at the beginning of
  the text, or if you're in the whitespace at the left of the text, <b>home</b>
  moves to column 1 on the same line. If you hit Home twice in a row, you'll
  get to column 1 of the first line in the edit window. If you hit Home three
  times in a row, you'll get to the beginning of the buffer.
  <br><br>
  Similarly, if you hit End twice in a row, you'll get to the end of the last
  line in the edit window. If you hit End three times in a row, you'll get to
  the end of the buffer. <b>selectHome</b> and <b>selectEnd</b>, mapped by
  default to Shift Home and Shift End, respectively, also have the new behavior.
  <br><br>
  There's a 1-second timeout on these operations, meaning that if one second
  passes after you hit Home or End before you hit the same key again, the
  second occurrence of Home or End is not viewed, by j, as two (or three) in a
  row.
  <br><br>
  Since the beginning of time (or so it seems), the Tab key in programming
  modes (notably Java, C/C++ and Perl) has been mapped to
  <b>indentLineOrRegion</b>, which does what its name suggests. By request,
  this behavior is now configurable.
  <br><br>
  By default, the Tab key is now mapped to the command <b>tab</b>, rather than
  to <b>indentLineOrRegion</b>. If the property <b>tabAlwaysIndent</b> is
  <b>true</b>, which it is by default, then <b>tab</b> simply calls
  <b>indentLineOrRegion</b>, and things work the same way they always have.
  <br><br>
  If <b>tabAlwaysIndent</b> is <b>false</b> (either globally or for the current
  mode), the behavior of <b>tab</b> depends on where the caret is. If the caret
  is at the very beginning of the text on the line, or in the whitespace to the
  left of the text, <b>tab</b> calls <b>indentLine</b>. Otherwise (i.e. if the
  caret is in the midst of the actual text), <b>tab</b> inserts either a single
  tab character or the equivalent number of spaces, depending on the setting of
  the <b>useTabs</b> property.
  <br><br>
  While we're on the subject of indentation, the command
  <b>electricCloseAngleBracket</b> has been added. It is mapped by default to
  '&gt;' in HTML and XML modes. It works like the other "electric" commands: it
  inserts a '&gt;' and automatically re-indents the current line according to
  context. In addition, the commands <b>htmlInsertTag</b>, <b>xmlInsertTag</b>,
  <b>htmlInsertMatchingEndTag</b> and <b>htmlBold</b> now also re-indent the
  current line according to context after doing whatever it is they normally
  do. The new behavior is the default in both HTML and XML modes (as applicable).
  <br><br>
  You can disable automatic re-indentation in either HTML mode or XML mode or
  both by adding lines to ~/.j/prefs that set the <b>autoIndent</b> property to
  <b>false</b>, like this:
  <pre>
        HtmlMode.autoIndent = false
        XmlMode.autoIndent  = false</pre>
  It would be reasonable to expect that the <b>autoIndent</b> property would
  have a similar effect in other modes (Java, C/C++, Perl) that support
  electric operations. In the current release, however, the <b>autoIndent</b>
  property is only honored in HTML and XML modes. This will probably change in
  the near future, but of course there are no guarantees.
  <br><br>
  Jason Corbett contributed a new theme, "Bright", as well as some code that
  highlights scalar and list variables in Perl in their own colors. J's
  built-in default theme and "AnokhaClassic" in the themes directory (which is
  basically the same thing) have been updated to support these syntactic
  elements explicitly, but the other themes have not.
  <br><br>
  The method <b>addEntryFromPrefs</b> in FormatTable.java has been changed so
  that writers of new Formatters can specify a fallback alias for a syntactic
  element so that older themes that might not be aware of new syntactic
  elements will nonetheless be able to do something reasonable.
  <br><br>
  And speaking of new syntactic elements, there are five in this release.
  Here's what was added to AnokhaClassic:
  <pre>
        color.headerName              = 204 102 0
        color.headerValue             = 255 255 204
        color.matchingText            = 255 153 0
        PerlMode.color.scalar         = 255 255 204
        PerlMode.color.list           = 204 204 153</pre>
  <b>headerName</b> and <b>headerValue</b> are used in the header section at
  the top of List Occurrences buffers (not to mention Message buffers),
  <b>matchingText</b> is used for matching text in List Occurrences buffers,
  and <b>scalar</b> and <b>list</b> are used for the aforementioned Perl
  constructs.
  <br><br>
  There are two new commands in Image buffers: <b>imageZoomIn</b>, mapped by
  default to '=', and <b>imageZoomOut</b>, mapped by default to '-'. These
  commands do what their names suggest.
  <br><br>
  Finally, the behavior of <b>wrapParagraph</b>, mapped by default to F12, has
  changed slightly. Now, if the paragraph you're wrapping begins with an
  indented line, the indentation of the first line is applied to all the lines
  of the paragraph. In addition, both <b>wrapParagraph</b> and its counterpart
  <b>unwrapParagraph</b> replace occurrences of multiple contiguous space
  characters with single space characters.
  <br><br>
</li>

<li>
<b>Aug 29 2000 10:24 AM - Version 0.5.2</b>
<br><br>
First of all, a note about a problem that is <b>not</b> fixed in this release.
It has been reported that on Linux, with a Swedish keyboard, using the Sun 1.3
beta JDK, it is not possible to enter characters such as '&lt;', '&gt;', and
'+'. I've investigated this problem to the extent that I can, which is severely
limited by the fact that I don't have access to a Swedish keyboard; in this
particular case, xkeycaps hasn't been very helpful. It seems to me that the
behavior is a bit different (not to say correct) with the IBM 1.3 JDK, but I
can't prove that either.
<br><br>
In any case, it would be very helpful to know whether other folks have
encountered this problem (or this sort of problem in a different context), or
whether anyone is successfully using j on Linux with a Swedish keyboard. Please
let <a href="mailto:peter@armedbear.org">me</a> know if you have any light
(good or bad) to shed on this. (Of course if you want to fix the bug,
that would be even better; the relevant code is most likely in Dispatcher.java.)
<br><br>
This release contains the usual menagerie of subtle adjustments and minor bug
fixes, plus one new feature (if you can call it that) that will only be of real
interest to Windows users, and not even all of them.
<br><br>
On Linux, j creates the .j directory, which holds its configuration information
and temporary files, in the home directory of the current user. This is in
accordance (more or less) with time-honored practice on that platform.
<br><br>
On Windows, j has always created this directory as a subdirectory of C:\,
which, by contrast, has always seemed a bit odd, even to me.
<br><br>
The reason for this peculiar choice is that in the old days, if you asked Java
where the user's home directory was on a Windows machine, the answer you got
was subject to some variation, depending on what flavor of Java you were
running (flavor being defined as a combination of vendor and version) and the
version of Windows on the machine. Since it was not unusual, in those days, to
use a number of different flavors of Java even on the same machine, hoping to
find one that worked better than the others, it was desirable to enforce some
consistency in the location of the .j directory, so j would always know where
it was. On all the machines I used, C:\.j was available, and even better, it
was short to type.
<br><br>
Recently, however, it was brought to my attention that not every Windows
machine has a C drive, a fact which highlights a major shortcoming in this
simple scheme. So j now takes a slightly more enlightened approach to this
problem.
<br><br>
Now, instead of seizing on C:\.j like a blind pig, j cycles through the drives
from C to Z, and puts the .j directory in the root directory of the first
writable drive it finds. Like I said, slightly more enlightened, but only
very slightly.
<br><br>
If that's not good enough for you, you can now also specify the location of
your home directory explicitly by invoking j with the <code>--home</code> command
line option, like this:
<pre>
        j --home=D:\work
</pre>
In this example, the user's home directory will be D:\work, and the .j
directory will be D:\work\.j. The <code>--home</code> option also determines
the default location of j's backup directory, which, with previous releases of
j, would have been C:\backup; in the current example, it would be
D:\work\backup.
<br><br>
You can, of course, specify a different location for the backup directory by
adding a line like this to your preferences file:
<pre>
        backupDirectory = E:\\pluribus\\unum
</pre>
Note that the preferences file requires double backslashes in Windows filenames.
<br><br>
Specifying your home directory explicitly will also affect the behavior of
<b>dirHomeDir</b> and the Home button on the default toolbar, as you might
expect.
<br><br>
It's possible to get in a little trouble if you use the <code>--home</code>
option unwisely. For one thing, it may be inconvenient in the long run if j's
idea of your home directory is at variance with the belief held by every other
program on your computer (in some sense, that's the problem we're trying to
solve here), so it's clearly best if the directory you specify really <b>is</b>
your home directory. (If you're using Cygwin, the waters may already be muddy,
but that's not a problem j can solve.)
<br><br>
In addition, please bear in mind that if you're going to use the
<code>--home</code> option at all, you'll need to do it <b>every time</b> you
run j; otherwise, you'll end up with configuration information in two different
places. The best approach is probably to edit j.bat (or the shortcut, or
whatever you normally use to start j) so it does the right thing.
<br><br>
I'm aware that this new approach, like the original scheme of arbitrarily
assuming in all cases that the user's home directory is C:\, is not exactly
ideal, but at least it's more flexible, and it does provide a workaround for
folks without a C drive. Over time, things will evolve further. They always do.
<br><br>
On a different subject entirely, you can now specify a port number for FTP
URLs, like this:
<pre>
        ftp://annie:2121/home/bonzo/.j/prefs
</pre>
Or, combined with a username and password, like this:
<pre>
        ftp://bonzo:bleep@annie:2121/home/bonzo/.j/prefs
</pre>
In HTML and XML modes, the Insert Tag dialog, mapped by default to Ctrl Shift ,
(that's Ctrl Shift comma), now has a history list, which you can traverse with
Ctrl P and Ctrl N (or the up and down cursor keys), like all the history lists
in j.
<br><br>
</li>

<li>
<b>Aug 22 2000 6:20 PM - Version 0.5.1</b>
<br><br>
Under Windows, with German and Danish keyboards (and possibly others as well),
j was not correctly handling the Alt Gr modifier, which meant that it was
impossible to type certain characters (brackets and braces, for example). This
bug has been fixed, as far as I can tell. I don't actually have any of the
keyboards in question, so please let me know if there's still a problem.
<br><br>
Bryan Chan contributed code to handle tab characters correctly in Man mode.
<br><br>
Bryan also contributed a patch to make jpty.c compile under Solaris as well as
Linux.
<br><br>
Bryan also provided code for <b>ssh</b>, an experimental feature, available
from the Execute Command dialog, which is mapped by default to Alt X. This
feature requires jpty, which is not part of the binary distribution, so it's
only available if you build j from source. You also need to add a line to
~/.j/prefs to enable experimental features:
<pre>
        enableExperimentalFeatures = true
</pre>
If you just type "ssh" in the Execute Command dialog, you will be prompted for
the name of the remote host to connect to; you can also type something like "ssh
annie" and do it all in one shot.
<br><br>
The name (or location) of the ssh program to run is configurable in ~/.j/prefs:
<pre>
        ssh=/usr/local/bin/ssh
</pre>
The default is just "ssh". You can also specify a regular expression in
~/.j/prefs to match the shell's prompt string on the remote machine, so j will
be able to recognize it correctly. For example:
<pre>
        sshPromptRegExp = "^: "
</pre>
The default is "^[^#$%&gt;]*[#$%&gt;] *", which should work in most cases.
<br><br>
I finally got around to installing the latest net release (1.1.0) of
<a href="http://sources.redhat.com/cygwin">Cygwin</a> on my Windows machine and
discovered that j's configure script was broken in that environment. This
problem is now fixed. While I was at it I adjusted a few things to make
filename completion and directory tracking work a bit better in shell buffers
under Windows.
<br><br>
</li>

<li>
<b>Aug 15 2000 6:10 PM - Version 0.5.0</b>
<br><br>
Added a directory tree in the sidebar for directory buffers. Clicking on a
directory in the tree with the left mouse button changes into that directory
and displays its listing in the current directory buffer, leaving keyboard
focus in the tree. Clicking with the middle mouse button (on Linux, at least)
does the same thing, but also returns keyboard focus to the buffer. If the tree
has focus, pressing Escape returns focus to the buffer.
<br><br>
The directory tree can be disabled by adding the following line to ~/.j/prefs:
<pre>
        DirectoryMode.enableTree = false
</pre>
Directory mode now has its own toolbar. Each directory buffer maintains a
history list of directories visited in that buffer; the Back and Forward
buttons may be used to move through that list. The Up button changes into the
parent of the current directory. The Rescan button re-scans the entire
directory tree and refreshes the listing in the current directory buffer.
(Rescan is also available from a vestigial right-button context menu in the
directory tree itself.) The Home button jumps to the home directory of the
current user.
<br><br>
The commands <b>dirBack</b>, <b>dirForward</b>, <b>dirRescan</b> and
<b>dirHomeDir</b> have been added, corresponding to the aforementioned buttons.
These commands have no default key mappings.
<br><br>
The default toolbar now provides Directory and Home buttons, which do what
their names suggest.
<br><br>
URLs of the form "ftp://user:password@host/..." or "ftp://user@host/..." are
now (once again) handled correctly.
<br><br>
The Properties dialog no longer suffers from a NullPointerException when
invoked on an FTP buffer.
<br><br>
To improve performance, j now caches directory listings for FTP operations. In
the current implementation, cached listings expire after 30 minutes, or when
the user invokes <b>dirRescan</b> in the context of the host in question. Only
directory listings are cached, not individual files.
<br><br>
The sidebar buffer list and tag list now provide tool tips.
<br><br>
J now builds and runs with Java 1.1 again. A Java 1.2 dependency slipped into
0.4.4; it has been removed. But the day will come...
<br><br>
</li>

<li>
<b>Jul 29 2000 11:04 AM - Version 0.4.4</b>
<br><br>
The tag list in the sidebar, in modes that support it, is now updated
automatically as you make changes to the buffer (it makes no difference whether
or not the changes have been saved). You can configure this by adding a line
like this to ~/.j/prefs:
<pre>
        refreshTagList = 500
</pre>
The numeric parameter is the number of milliseconds the user must be idle
before j will update the tag list. The minimum effective value is 500
milliseconds; the default is 1000 milliseconds. Setting this parameter to zero
disables automatic tag list updates.
<br><br>
Equivalent functionality is available for the tree in the sidebar in XML mode.
In this case, however, automatic updates are not enabled by default. To enable
them, add a line like this to ~/.j/prefs:
<pre>
        refreshTree = 500
</pre>
Once again, the minimum effective value is 500 milliseconds. Setting this
parameter to zero (which is the default) disables automatic updates of the tree.
<br><br>
Maybe you don't want a tree in the sidebar at all. For example, you might be
working on a document that references a DTD on the Internet, but you don't have
an active Internet connection. In that case, you can disable the tree by adding
this line to ~/.j/prefs:
<pre>
        enableTree = false
</pre>
If the sidebar tree is enabled in XML mode, you no longer need to wait for j to
parse the document and build the tree when the file is first loaded; this is
now done in a background thread. This change will let you get to work a bit
quicker, but it may take a few seconds for the tree to appear in the sidebar
when a file is first loaded.
<br><br>
The sidebar tree functionality in XML mode now specifically supports XP,
as well as Xerces and j's built-in version of &AElig;lfred. (In theory, any
SAX-compliant XML parser should work, but in practice, you never know until you
try.)
<br><br>
On Linux, J now tries harder to make its window come up in the same place you
left it the last time you shut down the editor, even without cooperation (or,
in some cases, in the face of active hostility) from Java and/or your window
manager. It was necessary to do something about this, since at least with some
window managers, both Sun's and IBM's versions of Java 1.3 tend to change the
window placement just a bit each time you start j, with the result that after a
while the window tends to drift off the screen. J's approach to this problem is
adaptive; it may take j a couple of tries to get it right, but then things
should work correctly as long as you continue to use the same combination of
Java VM and window manager. If you change VM or window manager, j will
re-adapt. If you don't want j to perform this adjustment at all, you can
disable it by adding this line to ~/.j/prefs:
<pre>
        adjustWindowPlacement = false
</pre>
Adjustment is not performed at all on Windows, where window placement is one
thing that is not a problem.
<br><br>
Directory buffers now start off with the caret in a more useful place. The Home
key in directory buffers is now mapped by default to  <b>dirHome</b>, which
moves the caret to the start of the filename on the current line, if it's to
the right of there to begin with.
<br><br>
Directory buffers using j's internal directory format (which is the default
format on Windows) now ignore case when sorting by name, as is only proper for
a case-insensitve file system.
<br><br>
In Java mode, j's syntax highlighting now takes note of the fact that multiline
quoted strings are not legal in Java.
<br><br>
Added a minor workaround for a weird classloader anomaly that was preventing j
from loading its file history information correctly with IBM's version of Java
1.3 on Windows.
<br><br>
Find In Files now works correctly on Windows 2000 with Java 1.1.8, but that
should not be taken to mean that running Java 1.1.8 on Windows 2000 is in any
way a good idea.
<br><br>
</li>

<li>
<b>Jul 16 2000 5:21 PM - Version 0.4.3</b>
<br><br>
The j distribution now includes SAX2 (and SAX2-ext) and a version of the
&AElig;lfred XML parser, so it is no longer necessary to download any
additional packages in order to get a tree in the sidebar in XML mode. You
still might want to get
<a href="http://xml.apache.org/xerces-j/index.html">Xerces</a> if XML is
important to you; the error messages are better and the locator is more exact.
<br><br>
To use Xerces, add xerces.jar to j's runtime <code>CLASSPATH</code> and add this
line to ~/.j/prefs:
<pre>
        org.xml.sax.parser=org.apache.xerces.parsers.SAXParser
</pre>
(You should, in fact, be able to use any SAX-compatible Java-based XML parser by making
the appropriate modifications to j's runtime <code>CLASSPATH</code> and ~/.j/prefs.)
<br><br>
One reason j now ships with an XML parser is that j's properties architecture
is changing. For some time, when you changed the properties of a buffer (using
the Properties dialog, mapped by default to Alt P), j did its best to remember
your changes for future sessions. It kept track of this information in the file
~/.j/files, which had a fixed, tab-delimited format.
<br><br>
In the current release, ~/.j/files is replaced by ~/.j/files.xml, which stores
the same information in an extensible, XML-based format. J will read the
information from your old ~/.j/files (if you have one), store it in
~/.j/files.xml in the new format, and then delete ~/.j/files. If all goes well,
you won't notice a thing. The new format will let j store additional properties
on a per-file basis, beyond the short fixed list supported by the current
Properties dialog. At the moment there's no documented way to make this
actually happen, but at least now the required infrastructure is in place.
<br><br>
For a long time it's been possible to open zip files in j, getting an archive
buffer, which is similar to a directory buffer.  It's also been possible for a
long time to open, say, Java source files from within an archive buffer, so you
can examine them without having to unzip the corresponding zip file.
<br><br>
In the current release this functionality has been extended so that j now
correctly handles all file types within archive buffers, including zip files
and image files. So now, for example, you can open j-0.4.3-binary.zip, and then
from the resulting archive buffer you can open j.jar and get another archive
buffer, and from that archive buffer you can open tb_close.gif, and the image
will be displayed correctly (provided, of course, that j is set up correctly
for image buffer support, which is an entirely separate issue).
<br><br>
Added <b>describeKey</b>, mapped by default to Alt K and available on the Help
menu. <b>describeKey</b> presents a dialog box into which you can type a key
(or key combination); j will then report what command is mapped to that key (or
key combination) in the current buffer.
<br><br>
Added <b>jumpToColumn</b>, which is like <b>jumpToLine</b>, but for columns (as
its name suggests). It has no default key mapping, but it's available on the
Goto menu. Primarily useful for debugging XML parser locator issues.
<br><br>
Added <b>insertString</b>, with no default mapping.  It is intended for use in
a key map, although it can also be tested from the Execute Command dialog box.
This command is unusual in that it requires an argument, which must be a
string.  Here's an example of the syntax you would use in a key map:
<pre>
        Alt F1                          insertString( "This is a test" )
</pre>
This line maps the key combination Alt F1 to insert the string "This is a test"
at the location of the caret in the current buffer.
<br><br>
Another use of this command is to work around keyboard configuration problems.
For example:
<pre>
        Ctrl Shift 8                    insertString( "[" )
</pre>
You can use <b>insertKeyText</b> to get the string ("Ctrl Shift 8", for
example) that corresponds to the key combination you'd like to map.
<br><br>
<b>uncommentRegion</b>, mapped by default to Shift F11, now automatically
fixes the indentation of the uncommented region, if possible.
<br><br>
In HTML mode, <b>wrapParagraph</b>, mapped by default to F12, now refuses to
break lines inside &lt;a&gt; tags.
<br><br>
Clicking on the vertical scroll bar in either pane of the sidebar now correctly
sets focus to the pane in question.
<br><br>
By request, contact information has been added to the About box.
<br><br>
</li>

<li>
<b>Jun 26 2000 6:50 PM - Version 0.4.2</b>
<br><br>
This release adds XML parser support.
<br><br>
In XML mode, if you have a SAX-compatible Java-based XML parser, such as
<a href="http://xml.apache.org/xerces-j/index.html">Xerces-J 1.1.2</a>
from the makers of Apache, you can have a tree in the bottom pane of the sidebar that
represents the document you're editing.
<br><br>
To make this happen, add xerces.jar (which contains the parser itself as well
as the required SAX packages) to j's runtime <code>CLASSPATH</code>:
<pre>
        java -cp /usr/share/java/xerces.jar -jar j.jar
</pre>
If you build j from source, you can use the configure script's
<code>--with-extensions</code> option:
<pre>
        ./configure --with-extensions=/usr/share/java/xerces.jar
</pre>
The j shell script that is automatically generated and installed will then contain the
correct <code>CLASSPATH</code>.
<br><br>
Xerces-J is my personal favorite, but any SAX-compatible Java-based XML parser should work.
<br><br>
(XML mode will still work fine if you don't have a parser, but you won't get a
tree in the sidebar.)
<br><br>
If you do have a tree in the sidebar, the selection in the tree will follow
along as you navigate in the edit buffer, but the tree is not automatically
expanded to show nested nodes. You can use <b>xmlFindCurrentNode</b>, mapped
by default to Ctrl =, to force the tree to expand all the way down to the node
corresponding to the location of the caret in the edit buffer.
<br><br>
To force the tree to be refreshed, use <b>xmlParseBuffer</b>, mapped by
default to Ctrl P. The parser uses the image of the buffer in memory, rather
than the file on disk, so there's no need to save any changes you've made to
the buffer before refreshing the tree.
<p>
If the parser encounters an error, the tree is not updated. Instead, a message
box displays the parser's error message, and the caret is moved to the
location of the error in the edit buffer. You can use <b>showMessage</b>,
mapped by default to Alt M, to have another look at the error message later.
<br><br>
</li>

<li>
<b>Jun 16 2000 11:07 AM - Version 0.4.1</b>
<br><br>
This release contains bug fixes only; there is no new functionality. The main
goal of this release is to support the new betas of Java 1.3 for Linux from
Sun and IBM. In particular, the known problem mentioned below has been
resolved. Most of the other bug fixes involved relatively minor sidebar-related
issues.
<br><br>
</li>

<li>
<b>Jun 11 2000 7:29 PM - Known Problem with Java 1.3 (Linux only)</b>
<br><br>
Shortly after releasing 0.4.0, I learned that what I said below about j working
well with the new versions of Java 1.3 for Linux is not entirely correct.
<br><br>
There is one annoying problem. If you do, for example, Alt F, to bring up the
File menu, and then hit Escape without actually choosing anything from the
menu, a bad thing happens. With the IBM Linux JDK 1.3.0, the bad thing is that
you lose use of the cursor keys to navigate in the edit buffer. The easiest
workaround if that happens is to click in the sidebar and then hit Escape. With
the Sun 1.3 beta, the bad thing is that a spurious character is inserted in the
buffer. The workaround in this case is to delete the character in question.
<br><br>
This problem should only arise if you're using Java 1.3 on Linux. It doesn't
happen with Java 1.3 on Windows, it doesn't happen with Blackdown 1.2.2 RC4 on
Linux, and in any case it only happens if you cancel out of a menu. I hope to
have it fixed in the next release of j.
<br><br>
</li>

<li>
<b>Jun 11 2000 4:59 PM - Version 0.4.0</b>
<br><br>
Fixed some key mappings to work correctly with the 06/09/2000 update of the <a
href="http://www.alphaworks.ibm.com/tech/linuxjdk">IBM Linux JDK 1.3.0</a>. J
seems to work well with this second release of IBM's 1.3, on both single- and
multi-processor machines.
<br><br>
J also works well with the
<a href="http://developer.java.sun.com/developer/earlyAccess/j2sdk13/download-linux.html">Sun 1.3 Linux beta</a>,
but not if you're running an SMP kernel. This deficiency is mentioned in Sun's
README; I tried it anyway, and they're right, it doesn't work. I hope they get
that fixed. But the Sun beta seems to work well on a single-processor
machine.
<br><br>
Added XML mode, which is now used by default for .xml and .xsl files. XML mode
takes a slightly different approach to syntax highlighting, and as a result,
you may need to add support for it to your theme. All of the themes in the
themes directory of the j distribution work reasonably well.
Anokha, AnokhaClassic, Default, and Freefloater contain specific support for
XML mode. This excerpt from Anokha should be enough to get you started:
<pre>
        XmlMode.color.text            = 255 255 255
        XmlMode.color.attribute       = 153 204 153
        XmlMode.color.delimiter       = 255 255 0
        XmlMode.color.namespace       = 255 204 0
        XmlMode.color.tag             = 255 153 0
        XmlMode.color.comment         = 102 153 153
</pre>
The non-incremental Find dialog and the Find In Files dialog now have an
"Ignore case" checkbox, instead of the "Force case-sensitive search" checkbox
used in previous versions. If the search pattern contains only lower-case
letters, the "Ignore case" checkbox is checked by default; otherwise it's
unchecked by default. You're free to check or uncheck it after you've
finished typing in the pattern if the default doesn't suit your needs.
<br><br>
For a long time j has supported the concept of a source path, which lets you
open files (either on the command line or using the Open File dialog) without
having to specify their full paths. To use this feature, add a line like this
to ~/.j/prefs:
<pre>
        sourcePath=/home/peter/j/src/org/armedbear/j:/home/peter/sun/jdk1.2.2/src
</pre>
Then you can just specify, say, Editor.java, and j will find
/home/peter/j/src/org/armedbear/j/Editor.java.
<br><br>
J now supports completions from the source path in the Open File dialog, using
the Tab key.
<br><br>
In addition, completion support in shell buffers is now considerably improved.
<br><br>
<b>expand</b>, mapped by default to Alt Space and Alt /, no longer requires a
minimum of three characters before it will attempt an expansion.
<br><br>
Password prompt handling has been improved in telnet buffers. J now ignores
case when trying to recognize a password prompt, and a trailing space is no
longer required.  In addition, shell buffers now provide intelligent support
for password prompts too.
<br><br>
In Shell mode, <b>shellInterrupt</b>, which in recent versions has been mapped
by default to Ctrl C, is now mapped by default to Ctrl Alt C, so that Ctrl C
can be used for <b>copyRegion</b>, as in other modes.
<br><br>
<b>electricStar</b> is no longer an experimental feature. It's now mapped by
default to '*' in Java mode (and its derivatives). It inserts '*' at the
current location of the caret and, if the current line is otherwise blank,
re-indents the line according to context.
<br><br>
Parenthesis matching (<b>findMatchingChar</b>, mapped by default to Ctrl M)
should work better now in (and near) quoted strings in Java mode.
<br><br>
<b>backspace</b> is now mapped to Shift Backspace as well as Backspace.
<br><br>
Added a workaround for bug number 4213197 (in Sun's bug database) in Java
1.2/1.3 on Windows.  Strings copied to the clipboard from j can now be
retrieved correctly by other applications.
<br><br>
Fixed some sidebar painting and validation problems.
<br><br>
</li>

<li>
<b>May 21 2000 10:13 PM - Version 0.3.0</b>
<br><br>
J now has a toolbar. You can control its appearance by setting one or more
of the following properties in ~/.j/prefs:
<pre>
        ToolBar.showText=true
        ToolBar.showIcons=true
        ToolBar.isRollover=true
</pre>
These properties are all true by default.
<br><br>
J now has a sidebar, too. The sidebar contains two panes. The upper pane
contains the list of open buffers. The lower pane contains the list of tags for
the current buffer, if the current buffer is taggable. (Java, JavaScript, C,
C++, Perl and Lisp mode buffers are taggable.) If the current buffer isn't
taggable, the lower pane is intentionally left blank.
<br><br>
In the sidebar, you can doubleclick (or middle-button singleclick) on a buffer
or tag to go to that buffer or tag.  You can also set focus to one of the
lists, navigate up or down with the cursor keys, and hit Enter to go to the tag
or buffer in question. If you use Alt Enter instead of Enter, the sidebar will
close automatically. There's also a vestigial context menu on the right mouse
button in the buffer list. The Delete key works in the buffer list to close
buffers.
<br><br>
There's now a View menu so you can turn the sidebar and toolbar on and off.  J
will do its best to remember how you've left things the next time it starts up.
In honor of the View menu, <b>about</b> is no longer mapped by default to Alt V.
<br><br>
By default, j reorders its buffer list as you open new buffers, so
<b>prevBuffer</b> is more likely to take you to the buffer you were working in
before you opened the current one. This is the way j has behaved for a very long
time, but if you find this behavior disconcerting, you can disable it by adding
this line to ~/.j/prefs:
<pre>
        reorderBuffers=false
</pre>
<b>expand</b>, mapped by default to Alt /, is now mapped by default to Alt
Space, too. <b>expand</b> takes the sequence of characters you've just typed,
looks through the entire buffer for words that have the sequence in question as
a prefix, and replaces the sequence of characters with the first match it finds
(looking backwards in the buffer). If you don't like that particular
replacement, you can hit Alt Space again (and again and again) to cycle through
all the possible replacements. If you don't like any of the replacements, you
can invoke <b>undo</b> at any point and get back where you started. The prefix
you type must be at least three characters long.
<br><br>
If you build j from source, the configure script now accepts the option
--with-extensions, like this:
<pre>
        ./configure --with-extensions=/home/peter/Jimi/JimiProClasses.zip
</pre>
Currently the only use for this is to specify the location of
JimiProClasses.zip, so the JIMI extensions will be available in Image mode.
<br><br>
The configure script now looks for options in a file called configure-options in the
current directory, so you can store commonly used options in a file of that name.
Here's my own configure-options file, as an example:
<pre>
        --with-jdk=/home/peter/blackdown/jdk1.2.2
        --enable-jpty
        --with-extensions=/home/peter/Jimi/JimiProClasses.zip
</pre>
In Shell mode, <b>shellInterrupt</b> is now mapped by default to Ctrl C, which
is basically what <b>shellInterrupt</b> does.  If you want <b>copy</b>, you can
use the Edit menu or the Execute Command dialog box (mapped by default to Alt
X).
<br><br>
Fixed a very subtle and hard-to-reproduce undo/redo bug that occurred when
multiple frames were open. As a result, the undo/redo code is considerably more
robust (even thought it really wasn't too bad before, except for this one
problem), and compilation buffers now support undo for cursor movement (which
is all they need, since compilation buffers are read only).
<br><br>
</li>

<li>
<b>Apr 25 2000 6:12 AM - Version 0.2.4</b>
<br><br>
Added Image mode, for viewing GIF and JPEG files. (If you're running Java 1.3
RC3 for Windows, or if <a href="http://java.sun.com/products/jimi">JIMI</a> is
in j's CLASSPATH, PNG files are supported too.)
<br><br>
Image mode is an experimental feature, not enabled by default. To try it out,
add the following line to ~/.j/prefs:
<pre>
        enableExperimentalFeatures=true
</pre>
In Image mode, you can use <b>imageCycleBackground</b>, mapped by default to C,
to cycle through several plausible background colors. You can also use
<b>imageToggleFullScreen</b>, mapped by default to F, to switch to a full
screen display (or subsequently restore the window to its normal size).
<br><br>
On Linux, full screen display can be a bit quirky, depending on your window
manager and how you have things set up.
<br><br>
All bets are off if you attempt operations that only make sense for text
buffers in (or on) image buffers. (Eventually such things will be trapped
cleanly, but for now it's an experimental feature, remember?)
<br><br>
Added Properties mode, for configuration files, Java properties files, Windows
.INI files, and j prefs (among other things). Syntax highlighting for smb.conf!
<br><br>
The documentation, while still far from complete, has been updated to cover
image buffers (in slightly more detail than presented here). It's better than a
kick in the head.
<br><br>
You can access the documentation from the Help menu or by pressing F1. You may
need to set the <b>browser</b> and/or <b>docPath</b> properties in ~/.j/prefs
for this to work correctly. For example:
<pre>
        browser=/usr/local/bin/mozilla
        docPath=/home/peter/j/doc
</pre>
In telnet buffers, it should now be possible to change directories or hit the
Tab key without provoking a null pointer exception.
<br><br>
</li>

<li>
<b>Apr 18 2000 8:02 AM - Version 0.2.3</b>
<br><br>
Added <b>telnet</b>, as an experimental feature, available from the Execute
Command dialog, which is mapped by default to Alt X.  Requires jpty.  On
Windows, you need to have a command-line telnet client installed, and you need
to specify where it is in c:\.j\prefs:
<pre>
        telnet=c:\\usr\\local\\bin\\telnet.exe
</pre>
The telnet client that comes with Windows won't work.  On Linux, the normal telnet
client should be fine.
<br><br>
Added <b>shellInterrupt</b>, which sends a control C to the process running in
a shell or telnet buffer, in case it gets stuck.
<br><br>
You can now restart shell, telnet and debugger sessions in place, using the
command that started them, without having to close the buffer in question first.
<br><br>
Jpty is now required for shell buffers. This means if you want shell buffer
support, you need to build j from source, since jpty is not included in the
binary distribution. (Shell buffers are still an experimental feature.)
<br><br>
Incorporated a nice patch submitted by Carl Berger that lets j use bold fonts
for syntax highlighting under all circumstances.  (Before, the bold font had to
have the same character width as the corresponding plain font.)
<br><br>
J now tries to be a bit smarter about setting the default for the "Restrict
changes to selected text" checkbox in the Replace dialog.  Most notably the box
is no longer checked by default in the case where the selected text is
identical to the pattern to be replaced (which is true, for example, if you
just completed a successful search for that particular pattern).
<br><br>
Fixed a bug that caused j to hang under certain circumstances when you used the
mouse to highlight a block of text.
<br><br>
On Windows, if you specified, for example, "editor.java" in the Open File
dialog, and the name of that particular file on disk was actually
"Editor.java", the name would be changed to "editor.java" when you
subsequently saved the file, which was probably not what you wanted to do.
Fixed.
<br><br>
Fixed a focus manager bug that made the tab key vanish mysteriously (or even
show up in the wrong window) after a jdb session.
<br><br>
You can now use the X button in the dialog's title bar (if present) to close
the Replace dialog with the same behavior you'd get by clicking on the Cancel
button, instead of getting a NullPointerException as in previous versions.
<br><br>
Shift Tab now works correctly to navigate backwards through possible
completions in the Find Tag dialog.
<br><br>
</li>

<li>
<b>Apr 5 2000 6:56 AM - Version 0.2.2</b>
<br><br>
There is a new default look and feel. Dialogs and menus now use a slightly
smaller font. Where text used to be bold and blue, it's now plain and black.
Buttons now tend to have a more uniform size. Buttons and text fields use
raised and lowered bevel borders, respectively, instead of the Metal defaults.
We now use our own message dialogs instead of JOptionPanes.
<br><br>
If you don't consider the new look and feel to be an improvement, you can have
the old look and feel back (except for the JOptionPanes) by adding the
following line to ~/.j/prefs:
<pre>
        lookAndFeel=Metal
</pre>
On the subject of look and feel, Mikol has contributed two new themes,
Freefloater and Jaan.  They're in the themes folder.  You can try them out by
adding a line like this to ~/.j/prefs:
<pre>
        theme=Freefloater
</pre>
Depending on how you've installed j, you may need to specify the full path:
<pre>
        theme=/home/peter/j/themes/Jaan
</pre>
If you've had problems building j from source, you may be pleased to learn that
unzip is no longer required.
<br><br>
If you've had problems building j from source with the Cygwin tools on Windows,
remember that you need to invoke make with the --unix option:
<pre>
        make --unix
</pre>
As an alternative, you can set the MAKE_MODE environment variable before running make:
<pre>
        export MAKE_MODE=unix
</pre>
By default, Java mode now accepts the extension ".jad", as well as ".java", for
your convenience in examining decompiled code.
<br><br>
<b>manFollowLink</b>, mapped by default to Enter (and to Ctrl Shift G) in man mode,
now parses section numbers correctly in the output of man -k.
<br><br>
Finally, as usual, there are a few improvements related to undocumented and
experimental features, which are not enabled by default.  To try out these
features, build j from source with the --enable-jpty option, make sure the jpty
executable is in your PATH, and add the following line to ~/.j/prefs:
<pre>
        enableExperimentalFeatures=true
</pre>
Remember, if these features worked just right, they wouldn't be undocumented
and experimental. You've been warned.
<br><br>
That said, the commands <b>jdb</b> and <b>gdb</b> have been added, which invoke
the corresponding debugger in an editor buffer, allowing you to step through
code and follow along in the source. These commands are available from the
Execute Command dialog box, which is mapped by default to Alt X.
<br><br>
In the case of <b>jdb</b>, you can specify exactly which jdb to run by adding a
line like this to ~/.j/prefs:
<pre>
        jdb=/home/peter/sun/jdk1.2.2/bin/jdb
</pre>
This does not necessarily have to be the jdb from the version of Java you're
using to run j; jdb gets invoked in a separate process.  On Linux, the
Sun/Inprise 1.2.2 version of jdb seems to work well.  On Windows, your best bet
is probably Sun 1.3 RC2, but 1.3 RC1, 1.2.2 and 1.1.8 seem to work too.  Your
mileage almost certainly will vary. Bear in mind, if you can't get jdb to run
reliably from the command line in a normal xterm or DOS box, there's no hope at
all of using the <b>jdb</b> command in j.
<br><br>
There are also a couple of improvements in jpty.
<br><br>
Jpty now supports a -cd command line option, to specify the working directory
for the program it invokes, something that's not possible in pure Java.  This
functionality is supported on Windows as well as Linux. It's now possible to
build jpty for Windows by specifying --enable-jpty when invoking configure.
Shell and debugger buffers now use jpty's -cd functionality to set the working
directory.
<br><br>
The Linux version of jpty was calling chown and chmod on the slave pty when it
was first opened. This didn't work unless jpty was being run as root (which it
normally wasn't), and if it did work, it had the bad effect of changing the
ownership and permissions on /dev/ttyp0 (usually) in a way that rendered it
subsequently inaccessible to normal users.  So we don't do any of that any more.
<br><br>
</li>

<li>
<b>Mar 14 2000 5:18 AM - Version 0.2.1</b>
<br><br>
<b>man</b> is no longer mapped by default to Ctrl M. I had forgotten that Ctrl
M was used for <b>findMatchingChar</b>, a useful mapping that I really didn't
mean to disturb.  <b>man</b> is accessible enough from the Execute Command
dialog box, particularly since you can specify the topic at the same time ("man
2 kill", for example).
<br><br>
In Anokha (the new default theme), <b>DirectoryMode.color.marked</b> is no
longer the same color as <b>DirectoryMode.color.directory</b>.
<br><br>
The configure script now sets things up to use fastjar (instead of jar) if it's
in your PATH.
<br><br>
Using the Alt Y mnemonic ("Yes") in the Confirm Replacement dialog now replaces
only the current occurrence of the search pattern, as it should. Previously it
got a bit carried away and replaced the next occurrence as well. Enthusiasm is
not always an unmitigated virtue.
<br><br>
The "Restrict changes to selected text" checkbox in the Replace dialog now
always defaults to checked. This is most likely what you want, particularly if
the selected text spans multiple lines, and it's only a minor inconvenience
otherwise (just uncheck the box). It doesn't make much sense to persist the
state of this checkbox from the previous replace operation (which was the
former behavior).
<br><br>
Filenames beginning with "." (as in "./Makefile") are now handled correctly in
the Open File dialog and on the command line, even if the file in question
doesn't exist.  Previously, j ended up searching the source path (and possibly
the include path) if the file didn't exist, which was clearly wrong, since  an
absolute path was specified (the current directory).
<br><br>
Fixed a rare NullPointerException involving the scroll bar and pageUp near the
top of the buffer. The behavior of the scroll bar is still not exactly right,
but it shouldn't cause any real problems now.
<br><br>
Finally, there are a number of functional and architectural improvements
related to shell and compilation buffers, which are undocumented and
experimental features, not enabled by default, and not for the faint of heart.
<br><br>
In particular, the configure script now accepts the option --enable-jpty. If
this option is specified, a small native helper program (jpty) will be built
and installed (in /usr/local/bin, by default), and shell buffers should work a
bit better. See the source (Shell.java and src/jpty/jpty.c) for details. This
has only been tested on Linux (although it might work on other flavors of
Unix), and it definitely does NOT work under Windows. The jpty executable is
not included in the binary distributions.
<br><br>
In addition, the function <b>shellDestroyProcess</b> has been added, available
from the Execute Command dialog box. <b>shellDestroyProcess</b> does a kill -9
on all the children of the shell that's running in the current shell buffer.
Once again, Linux only!
<br><br>
</li>

<li>
<b>Mar 5 2000 12:18 PM - Version 0.2.0</b>
<br><br>
The function <b>man</b> has been added (Unix only), mapped by default to Ctrl
M. <b>man</b> prompts for a topic and displays the corresponding man page in
a buffer.
<br><br>
To support <b>man</b>, Man mode has been added. In Man mode, you can use
<b>manFollowLink</b>, mapped by default to Enter (and to Ctrl Shift G, by
analogy with <b>gotoFile</b>, and to the middle mouse button, for good
measure), to follow links (loosely speaking) in the displayed man page.  If the
link looks like a filename, j will try to open the corresponding file;
otherwise, j will invoke <b>man</b> on the link in a new buffer.
<br><br>
<b>gotoFile</b>, mapped by default to Ctrl Shift G, has been improved. In
general, <b>gotoFile</b> opens the file at the current location of the caret.
In HTML mode, and for "#include" lines in C and C++ modes, <b>gotoFile</b>
tries to be a bit smarter about things, and the caret doesn't always have to be
smack dab on the filename. <b>gotoFile</b> also understands the format of "ls
-l" output in shell buffers.  (Shell buffers, remember, are an undocumented and
experimental feature, not enabled by default, and not for the faint of heart.)
<br><br>
Autoconf mode has been added. Syntax highlighting for configure.in!
<br><br>
And speaking of configure.in, J's configure script now accepts the option
--with-jit, as in:
<pre>
        ./configure --with-jdk=/home/peter/blackdown/jdk1.2.2 --with-jit=javacomp
</pre>
Anokha is now the default theme. The old, boring default theme is still
available, and still (for the moment) called Default. You can specify a theme
other than Anokha, if you prefer, in ~/.j/prefs:
<pre>
        theme=Orbital
</pre>
You may need to specify the full pathname of the theme file, or you can set
the <b>themePath</b> property in ~/.j/prefs to match your setup:
<pre>
        themePath=/home/peter/j/themes:/usr/local/share/j/themes
</pre>
The function <b>whatChar</b> has been added, available from the Execute Command
dialog (Alt X).  <b>whatChar</b> displays, in the status bar, the decimal, hex
and (for completeness) character equivalents of the character at the current
location of the caret.
<br><br>
The function <b>jmips</b> has been added to provide a crude measurement of the
relative performance of the underlying Java runtime system (including the
hardware). For best results, run it at least twice and ignore the first result
(at least).
<br><br>
J now ignores the suffix .gz when trying to figure out what mode to use when
opening a file.  For example, man.el.gz is now opened by default in Lisp mode.
<br><br>
Horizontal scrolling is smoother and more accurate, and in find and replace
(and friends), the found pattern is scrolled into view and highlighted correctly.
<br><br>
</li>

<li>
<b>Feb 13 2000 11:21 AM - Version 0.1.0</b>
<br><br>
Finally.
<br><br>
<b>electricBrace</b> is obsolete.  It's been replaced by
<b>electricOpenBrace</b> and <b>electricCloseBrace</b>, which do what their
names suggest and are mapped by default to '{' and '}' in Java mode (and its
derivatives) and Perl mode. Unlike their predecessor, the new functions should
work properly in F7/F8 keyboard macros. You may need to fix your custom key
maps, if you've got custom key maps.
<br><br>
You can now mark files and delete them in FTP directory buffers, just like
in local directory buffers.
<br><br>
The Recent Files dialog now tries to remember your settings if you resize
the columns.
<br><br>
The Buffer List dialog is no longer too wide. In addition, modified buffers are
now listed in red for added emphasis, and the directory name above the list box
is shortened in a reasonable way if it won't fit in the space allotted for it.
<br><br>
If you build j and do 'make install', you don't need to supply the full path
of your theme file, if you're using one of the installed themes.  So the line
in ~/.j/prefs can be, for example:
<pre>
        theme=Anokha
</pre>
instead of
<pre>
        theme=/usr/local/share/j/themes/Anokha
</pre>
One advantage of this (at least I think it's an advantage), is that j will
look in the source directory from which you built and installed j before
looking in /usr/local/share/j/themes, which means that if you edit your
theme in the source tree the new version will be picked up automatically.
<br><br>
</li>

<li>
<b>Feb 7 2000 7:59 AM - Version 0.0.11</b>
<br><br>
It should now be a bit easier to build on Windows.  As before, you need the
<a href="http://sourceware.cygnus.com/cygwin/">Cygwin</a> tools, and you need
to be running bash as your shell.  The configure script is now even
smart enough to understand Cygwin mounts.  So you should be able to build like
this:
<pre>
        ./configure --with-jdk=/jdk1.3
        make
        make install
</pre>
(The location of your JDK may be different, of course.)
<br><br>
By default, even on Windows j is installed
under /usr/local. You can change this by using the --prefix option with the configure
script:
<pre>
        ./configure --with-jdk=/jdk1.3 --prefix=/j
</pre>
This (for example) would install j.jar in /j/share/j, and j.bat (and the j shell
script) in /j/bin.
<br><br>
J's help system has changed a bit. There is no longer a built-in browser (it
came free with Swing and was worth every penny). Instead, j will attempt to
find and use a real browser on your system. If this fails, or if you don't like
j's choice of browser, you can specify the browser to use with the
<b>browser</b> property in ~/.j/prefs:
<pre>
        browser=C:\\Program Files\\Internet Explorer\\IEXPLORE.EXE
</pre>
On Unix, j will re-use a running instance of Netscape, if possible. This may mean
that the help will come up in a browser window on a different virtual desktop.
<br><br>
The <b>browserOpts</b> property is obsolete.
<br><br>
If you build j and do 'make install', j should now be able to find its
help files. Otherwise, you may need to set the <b>docPath</b> property in
~/.j/prefs to point to the directory containing the documentation:
<pre>
        docPath=/home/peter/j/doc
</pre>
Added a very strange hack to make the Tab key work with Sun JDK 1.3 RC1 for
Windows. There's definitely a bug in there somewhere, but I don't think it's in
j.
<br><br>
<b>revertBuffer</b> now works in FTP buffers.
<br><br>
Very simple indentation is now supported in Makefile mode.
<br><br>
<b>electricColon</b> has been added, mapped by default to ':' in Java,
JavaScript and C modes (but not in C++ mode, to avoid problems with "::").
Like the other electric functions, <b>electricColon</b> re-indents the current
line and, if the property <b>autoNewline</b> is <b>true</b>, adds a newline
after the inserted character (colon in this case).
<br><br>
Syntax highlighting in shell script mode is now much smarter about here
documents and echoes.
<br><br>
</li>


<li>
<b>Jan 31 2000 6:08 PM - Version 0.0.10</b>
<br><br>
The build process and distribution scheme has changed a bit. For Linux, you can now
do the normal thing:
<pre>
        ./configure
        make
        make install
</pre>
Well, almost.  You need to tell the configure script where your JDK is:
<pre>
        ./configure --with-jdk=/home/peter/blackdown/jdk1.2.2
</pre>
For 1.1.x JDKs, there's also a --with-swing option that you can use to specify
where swingall.jar is located. If swingall.jar is in your CLASSPATH, the
configure script will find it automatically.
<br><br>
If you follow the aforementioned steps to build and install j, you should be able
to invoke j by simply typing:
<pre>
        j
</pre>
For Windows, the same steps should work, but you'll need the
<a href="http://sourceware.cygnus.com/cygwin/">Cygwin</a> tools, you'll need
to be running bash as your shell, and you should use the Cygwin drive notation
to specify the full path of your JDK:
<pre>
        ./configure --with-jdk=//c/jdk1.3
</pre>
For Windows, the build process will create a file called j.bat in the j-0.0.10
directory, which should work to invoke j whether or not you run make install. If you
do run make install, bear in mind that by default j will be installed in /usr/local/bin,
which is a bit odd for Windows.
<br><br>
HTML mode has changed.
<br><br>
The function <b>htmlInsertTag</b> has been added. <b>htmlInsertTag</b> prompts for a tag
name and then inserts the appropriate start and end tags.  If a selection is marked when
you invoke <b>htmlInsertTag</b>, the start and end tags will enclose the selected text. If no
selection is marked, the start and end tags will enclose the word at the current location
of the caret, if any.
<br><br>
Not all HTML tags require (or permit) end tags.  J is aware of this, and in general will
insert an end tag unless it is forbidden to do so.  If you'd like to customize this
behavior, you can create a tag customization file with entries like this:
<pre>
        p=0
</pre>
This line (for example) tells j not to insert an end tag for the "&lt;P&gt;" tag.
You also need to tell j where this file is:
<pre>
        HtmlMode.tags=/home/peter/tags
</pre>
The properties <b>htmlUpperCaseTags</b> and <b>htmlAutoUpcaseTags</b>
are now obsolete.
<br><br>
The new boolean properties <b>HtmlMode.upperCaseTagNames</b> and <b>HtmlMode.upperCaseAttributeNames</b>
control the preferred case of tag and attribute names, respectively. By default, <b>upperCaseTagNames</b> is <b>true</b> and
<b>upperCaseAttributeNames</b> is <b>false,</b> meaning tag names default to upper case and attribute names default to lower
case.
<br><br>
If the boolean property <b>HtmlMode.fixCase</b> is <b>true</b>, tag and attribute names will be converted to the preferred
case automatically as you type them in (or, in the case of <b>htmlInsertTag</b>, when the
tag is inserted in the buffer). <b>HtmlMode.fixCase</b> is <b>false</b> by default.
<br><br>
The function <b>electricEquals</b> has been added, mapped by default to '=' in HTML mode.
If the property <b>HtmlMode.attributesRequireQuotes</b> is <b>true</b> (which it is by default), <b>electricEquals</b>
will automatically insert a pair of double quotes following the '=' after an attribute name and position
the caret between the inserted quotes, so you can enclose attribute values in quotation marks without having to type the
quotation marks themselves.
<br><br>
<b>gotoFile</b>, mapped by default to Ctrl Shift G, has been enhanced to work
better in HTML mode and with HTTP buffers. You can now place the caret anywhere
within a tag that contains either an "href=" or "src=" attribute, and
Ctrl Shift G will open the referenced file, allowing j to function as a poor
man's source browser.
<br><br>
Finally, j no longer attempts to realign pasted text in HTML mode. It never
worked right.
<br><br>
In other news, there have been a number of improvements in Perl mode.
Indentation works well enough now that <b>indentRegion</b> is supported, as
well as the automatic realignment of pasted text. J now knows about all of
Perl's built-in functions and highlights them correctly.
<br><br>
Fixed a bug in the RecentFilesDialog that was causing a NullPointerException if
you tried to re-open a file that had, in the meantime, been truncated so that
your saved position was beyond the end of the file.
<br><br>
It's now possible to invoke <b>dir</b>, mapped by default to Ctrl D, from a
shell buffer.
<br><br>
</li>

<li>
<b>Jan 16 2000 7:58 PM - Version 0.0.9</b>
<br><br>
This release includes a number of architectural improvements which I hope will
be unnoticeable to the user, as well as a couple of new features and a number
of bug fixes.
<br><br>
Perl support has been improved. Syntax highlighting is more accurate and more
robust, and rudimentary tag support has been added. You can now use Ctrl Shift
L to list the subroutines in the current buffer, but tag files are not yet
supported for Perl.
<br><br>
On Windows, you can now use forward as well as backslashes in filenames in
dialogs such as the Open File dialog and to specify files on the command line
when invoking j. Even if you use both kinds of slashes in the same filename, j
will try to do the right thing. In addition, j now recognizes the Cygwin drive
notation (//c/, //d/, etc.).
<br><br>
Reorganized things to avoid strange behavior when the j's current directory is
not local. This should fix a number of problems when you're working with FTP or
HTTP buffers.
<br><br>
The 0.0.8 release broke the syntax highlighting of HTML with embedded
JavaScript. Fixed.
<br><br>
When building j, you can now optionally invoke ./configure with the --with-java
option, for example:
<pre>
        ./configure --with-java=/home/peter/blackdown/jdk1.2.2/bin/java
</pre>
If you don't specify this option, java needs to be in your path.  (The
configure stuff isn't fully hooked up yet, so there's really nothing to be
gained at this point by specifying one java rather than another, but you'll
need to use the --with-java option if java is not in your path.)
<br><br>
</li>

<li>
<b>Jan 10 2000 8:47 PM - Version 0.0.8</b>
<br><br>
The way colors and styles (plain, bold or italic) are specified in themes has
changed.  There is a new set of properties to specify color, a new set of
properties to specify style, and a new self-explanatory naming convention. The
key to the design is that each property can be specified globally and
(optionally) overridden on a mode-specific basis.  For example:
<pre>
        # Global default colors.
        color.text=black
        color.comment=0 128 0

        # Global default styles.
        # Font.PLAIN is 0, Font.BOLD is 1, Font.ITALIC is 2.
        style.text=0
        style.comment=2

        # Silly overrides for Lisp mode.
        LispMode.color.comment=255 0 255
        LispMode.style.comment=2
</pre>
The new architecture allows each syntactic element's color and style to be
specified independently for each applicable mode, inheriting global defaults if
there is no mode-specific setting. This is clearly an improvement over the
previous scheme, which was a bit ad hoc to say the least.
<br><br>
The following colors have (for obvious reasons) no corresponding style
properties, but the colors are still settable both globally and by mode:
<pre>
        color.caret
        color.background
        color.currentLineBackground
        color.selectionBackground
</pre>
These changes break existing themes.  I've fixed the themes in the normal
distribution, and I've provided a <a href="fixtheme.zip">script</a> you can use
to fix any custom themes you might have (you'll need the
<a href="http://sourceware.cygnus.com/cygwin/">Cygwin</a> tools if you're using
Windows).
<br><br>
The source distribution now comes with a reasonably normal autoconf configure
script.  You'll need to run ./configure before you can successfully run make.
There's still no make install, but that should be coming soon.  Once again, on Windows
you'll need the <a href="http://sourceware.cygnus.com/cygwin/">Cygwin</a> tools.
<br><br>
Removed <b>toggleAutoNewline</b>.  You can control this behavior with the
<b>autoNewline</b> property in ~/.j/prefs.
<br><br>
You can force directories to appear grouped together at the top of directory
buffers by adding the following line to ~/.j/prefs:
<pre>
        dirSortDirectoriesFirst=true
</pre>
This is actually the default behavior if you're using j's internal directory
format, which is what you get by default under Windows. (This option was
available before, but it fell by the wayside during the recent renaming pogrom.)
<br><br>
Added Makefile mode.
<br><br>
</li>

<li>
<b>Jan 4 2000 5:09 AM - Version 0.0.7</b>
<br><br>
The big new feature is <b>replaceInFiles</b>, mapped by default to Ctrl Shift R
and available on the Search menu.
<br><br>
You can now suppress the Find In Files progress dialog by adding this line
to ~/.j/prefs:
<pre>
        FindInFiles.displayProgressDialog=false
</pre>
Even without the progress dialog you can still cancel the search by hitting Escape.
<br><br>
All the functions and properties (color names in particular) that used to start
with "dired" have been renamed and now start with just "dir" instead.  This
means you have a little work to do if you're using custom keymaps or themes
(<b>replaceInFiles</b> is your friend).  I've fixed the themes that are part of
the normal distribution.
<br><br>
In addition, the property <b>Dired.useNativeFormat</b> has been renamed to
<b>dirUseNativeFormat</b> (with no prefix).
<br><br>
If you want to use any of j's experimental features (currently shell and
compilation buffers and jdb support), you'll need to add this line to ~/.j/prefs:
<pre>
        enableExperimentalFeatures=true
</pre>
Shell and compilation buffers are now permitted under Windows 9x, but you'll
need to use bash as your shell.  Add a line like this to ~/.j/prefs:
<pre>
        shellFileName=bash -i
</pre>
Even so, compilation buffers don't work correctly under Windows 9x if you're
using Java 1.1.x. They do work with the 1.3 beta from Sun. (I haven't tested
1.2.x.)
<br><br>
The jdb support in shell buffers (yet another undocumented feature) is much improved.
<br><br>
Command history for shell buffers is now saved from one session to the next.
<br><br>
If experimental features are enabled, the default keymap now includes
<b>shell</b> (F9), <b>nextError</b> (F4), and <b>showMessage</b> (Alt M).  In
addition, in Java mode <b>recompile</b> is mapped to Ctrl F9 and default mappings
have been added for the jdb support functions.  See the source for details.
<br><br>
Binary files now load at least an order of magnitude faster and consume much
less memory.
<br><br>
</li>

<li>
<b>Dec 5 1999 9:11 PM - Version 0.0.6</b>
<br><br>
Command line options now begin with "--", rather than "-", as in "--debug".
<br><br>
Added the <b>--no-restore</b>, <b>--no-session</b> and <b>--force-new-instance</b>
command line options. The <b>--no-restore</b> option instructs j to start up without
restoring the previous editor session;  when j exits, the new session will be
saved as usual. The <b>--no-session</b> option is similar, but goes a step further:
the new session will not be saved on exit.  The <b>--force-new-instance</b> option, as
its name suggests, starts up a new instance of j even if j is already running.
<br><br>
These new command line options facilitate the use of j in certain common (but
hitherto unsupported) editing situations.  For example, if bash is your shell,
you can set the EDITOR environment variable like this:
<pre>
        export EDITOR="j --no-session --force-new-instance"
</pre>
Then, when you check in a file using cvs or Perforce (for instance), a separate
instance of j will be used as the editor for your log message, without
disturbing the instance of j that may already be running. (If you like to live
on the edge, you can even do this from within a j shell buffer. Remember, shell
buffers are an undocumented feature.)
<br><br>
Added the <b>--help</b> command line option, which is useful if you have trouble
remembering what the command line options are.
<br><br>
Keymaps are now reloaded dynamically if you use j to edit them. All the keymaps
are reloaded if you use j to make a change to ~/.j/prefs.  The upshot of this
is that you no longer have to restart j for keymap-related changes to take effect.
(This also applies to the <b>useIncrementalFind</b> preference setting.)
<br><br>
On Unix, j now does its best to preserve the permissions for the files you
edit.  It should now be possible to edit shell scripts, for example, without
losing execute permission when the file is saved.
<br><br>
FTP passwords are now permitted to be blank (as long as that's OK with the server).
<br><br>
<b>slideIn</b> and <b>slideOut</b>, mapped by default to Alt ] and Alt [.
respectively, now act on the current line if there is no selected region.
<br><br>
</li>

<li>
<b>Nov 29 1999 8:56 PM - Version 0.0.5</b>
<br><br>
Support for editing remote files using FTP is official now.  You can open a
remote file or directory by simply specifying a filename beginning with
"ftp://" in the Open File dialog box, as in
<pre>
        ftp://annie/home/peter/foo.txt
</pre>
or even
<pre>
        ftp://24.0.190.152/home/peter/foo.txt
</pre>
You will be prompted for a login and password on the remote machine.  If you
leave the login blank, "anonymous" is assumed.  For convenience, you can
specify a password for anonymous logins in ~/.j/prefs:
<pre>
        ftpAnonymousPassword=mickey@mouse.com
</pre>
FTP is also supported in the Save As dialog box, so you can create a new buffer
and then save it on a remote machine.
<br><br>
If you're looking at a remote file, <b>dir</b> (mapped by default to Ctrl D)
will bring up a directory buffer on the remote directory containing the file in
question.
<br><br>
Remote file operations (loads and saves) display a progress dialog with a
Cancel button in case the going gets tough.  A save that's cancelled midway
through will not disturb the original file on the remote machine, but it will
probably leave behind a uniquely named temporary file.
<br><br>
By default, the progress dialog is not displayed right away, so if you have a
fast connection you may not see it at all, but if you need to abort a remote
file operation, the Cancel button will appear in due time.  Exactly what
constitutes "due time" is determined by a setting in ~/.j/prefs:
<pre>
        patience=5
</pre>
<b>patience</b> represents the number of seconds before the progress dialog
appears; a setting of zero will make it appear right away.  (The default is 5 seconds.)
<br><br>
The FTP support seems fairly solid (it's been an undocumented feature for quite
a while), but it still needs a bit of work. In particular, autosave and backup
are not yet supported and <b>revertBuffer</b> is not yet implemented for remote
files.
<br><br>
<b>diredMoveFile</b> and <b>diredCopyFile</b> now handle the destination file
name much more intelligently.  In particular, "~", "." and ".." are handled
correctly.
<br><br>
Added <b>diredColorDirectory</b> to support display of directories in a
different color to distinguish them from normal files in directory buffers.
The themes in the themes directory have been updated accordingly.
<br><br>
The Properties dialog is available for more types of buffers now, and the
fields it displays are tailored to the buffer in question.
<br><br>
J is a bit smarter now about figuring out what kind of file it's dealing with.
Zip files are recognized even if they don't have the ".zip" extension, for
example, and files with the ".zip" extension that aren't really zip files are
handled correctly too.  Text files containing high ASCII characters are no
longer forced into binary mode.
<br><br>
<b>commentRegion</b> now comments comment lines too, so <b>uncommentRegion</b>
will do the right thing.
<br><br>
</li>

<li>
<b>Oct 31 1999 8:11 PM - Version 0.0.4</b>
<br><br>
Added binary mode.  If you open a binary file, j will detect that it's a binary
file (if all goes well) and automatically open it in binary mode.  If you'd
like to look at a text file in binary mode, you can do so by changing the mode
of the buffer in the Properties dialog.  For now, binary mode is read only.
<br><br>
Added <b>recentFiles</b>, mapped by default to Alt R and also available on the
File menu. You can click on the column headings in the Recent Files dialog to
change the sort order.
<br><br>
The <b>indentBeforeBrace</b> property (which is settable on a per-buffer basis
in the Properties dialog and on a per-mode basis in ~/.j/prefs) should now work
correctly in Java mode and its derivatives. By design, we don't ever indent
before the opening brace of a function or class, even if
<b>indentBeforeBrace</b> is <b>true</b>, and we always indent after it, even if
<b>indentAfterBrace</b> is <b>false</b>.
<br><br>
Added <b>showMessage</b>, which formats and displays the compiler message
corresponding to the current error in the compilation buffer. (Compilation
buffers are an undocumented feature.)
<br><br>
When you use <b>compile</b> or <b>recompile</b>, if there's an existing
compilation buffer and it's already visible in a secondary frame, that frame is
no longer brought to the foreground automatically. This means that you'll stay
in the frame you're already working in, and you can use <b>nextError</b> and
<b>showMessage</b> from there to fix any compilation errors. Normally it's not
very useful to set focus to the frame containing the compilation buffer, which
was the former behavior. It still gets the focus the first time, but that
should only be once per session.
<br><br>
Zip files are now closed correctly when we're done with them.
<br><br>
In Java mode, <b>findTagAtDot</b> no longer mistakes "if" and "while" for
plausible tags.
<br><br>
<b>selectPageUp</b> and <b>selectPageDown</b> now behave correctly at the
beginning and end of the buffer.
<br><br>
</li>

<li>
<b>Sep 29 1999 9:15 AM - Version 0.0.3</b>
<br><br>
In Java mode and its derivatives, <b>findTagAtDot</b> is a bit smarter about
figuring out what tag you actually want to find. If the identifier under the
caret doesn't appear to be the name of a function, j will try to find a more
appropriate candidate. If there's only one function call on the current line,
you should be able to do Alt . anywhere on the line and get the right tag. In
addition, in Java mode (but not its derivatives) <b>findTagAtDot</b> now
attempts to resolve ambiguities among overloaded functions based on the number
(but not type) of arguments in the call.
<br><br>
Completions are now supported in the Find Tag dialog. Use Tab (or Shift Tab) in
the text field to cycle through completions of the string you've entered.
<br><br>
In Java mode, a tag is now added for the class itself ("class Foo").
<br><br>
Tag paths are now supported.  You specify them in ~/.j/prefs:
<pre>
        tagPath=/dosc/e/src
        JavaMode.tagPath=/usr/lib/jdk1.1/src/java/lang:/usr/lib/jdk1.1/src/java/util
</pre>
If the tag you're looking for can't be found in the current buffer or the
current directory, j will also look in the directories on the mode-specific tag
path, or in the directories on the global tag path if there is no mode-specific
tag path for the current mode. The current directory is always searched first,
so there's no need to put "." in your tag path.
<br><br>
J now uses a custom file save dialog, similar in appearance and behavior to the
Open File dialog, for <b>saveAs</b>, <b>saveCopy</b>, <b>writeGlobalKeyMap</b> and
<b>writeLocalKeyMap</b>. It comes up a lot quicker.
<br><br>
<b>Defaults.openFileCompletionsIgnoreCase</b> is now
<b>Defaults.fileCompletionsIgnoreCase</b>.  This flag controls filename
completions for both open and save on Linux; it is ignored on Windows, which
has a case-insensitive file system.
<br><br>
Added native format for directory buffers and a couple of related preferences:
<pre>
        Dired.sortDirectoriesFirst=true/false
        Dired.useNativeFormat=true/false
</pre>
<b>useNativeFormat</b> defaults to <b>false</b> for Windows, but you might want
to set it to <b>true</b> if you have the <a href="http://sourceware.cygnus.com/cygwin/">Cygwin</a> tools installed and in your
path. <b>useNativeFormat</b> is <b>true</b> by default for Linux.
<b>sortDirectoriesFirst</b> defaults to the <b>false</b> for native format, <b>true</b> otherwise.
<br><br>
Speed search per se is no longer supported in directory buffers. Use
<b>incrementalFind</b> instead. Since alphabetic keys no longer invoke speed search,
<b>diredSetFilter</b> is now mapped by default to F (with no modifiers) in directory buffers.
<br><br>
Syntax highlighting and indentation are a bit better in Perl mode. The default
Perl mode keymap now includes <b>electricBrace</b>, <b>closeParen</b> and
<b>insertBraces</b>. <b>commentRegion</b> and <b>uncommentRegion</b> now work
in Perl mode. The realign pastes feature is still turned off in Perl mode (indentation is not
that far along yet), and Perl mode still does not support tags.
<br><br>
In HTML mode, <b>htmlStartTag</b> and <b>htmlEndTag</b> are now mapped by default to Ctrl
Shift , and Ctrl Shift . In addition, these functions now refuse,
as they should, to insert text in a read only buffer.
<br><br>
J now works with no known problems with the <a href="http://www.alphaworks.ibm.com/tech/linuxjvm">new IBM 1.1.8 VM for Linux</a>. Startup
is a bit slower than with Blackdown 1.1.7v3, but otherwise it's faster and
very stable. Recommended!
<br><br>
A number of hacks to support the IBM 1.1.6 VM for Linux have been removed. They
never worked very well anyway. Upgrade to 1.1.8!
<br><br>
J also works well with the Sun Java 1.3 beta for Windows. 1.3 seems to fix the
Java/Swing bug that caused spurious keystrokes to show up in dialog box text
fields when you used Alt key mnemonics to check or uncheck checkboxes.
<br><br>
Added the function <b>recompile</b>, which is exactly like <b>compile</b>
except that it simply repeats the last compile command, which is what you want
to do most of the time. (Compilation buffers are an undocumented feature.)
<br><br>
In HistoryTextFields, Ctrl P and Ctrl N can be now used to navigate the history
list, just like the up and down arrows.
<br><br>
Where possible, the context is now displayed in the status bar if there's no
other information that needs to be displayed there. You can disable this by
setting <b>StatusBar.displayContext</b> to 0 in ~/.j/prefs, or you can get a
more verbose context display by setting it to 2; the default is 1, which just
displays the name of the current function.  As they say, offer void where prohibited,
not available in all modes.
<br><br>
Quoted strings are now more brown than red in the default color scheme.
<br><br>
The about box (mapped by default to Alt V) now displays a bit more information,
including a date/time stamp for the build.
<br><br>
</li>

<li>
<b>Sep 15 1999 8:04 AM - Version 0.0.2</b>
<br><br>
Added Lisp, Perl, and shell script modes. All the new modes do syntax
highlighting, but only Perl mode makes any attempt to support indentation
according to context (and it's not very far along).  In Lisp and shell script
modes, <b>newlineAndIndent</b> (mapped by default to Enter) simply matches the
indentation of the previous line. Lisp mode supports tags (<b>findTag</b>,
<b>findTagAtDot</b>, <b>listTags</b>), and <b>findMatchingChar</b> works
correctly on parentheses in Lisp mode (but not inside quoted strings). There's
still a lot of work to be done before these modes are fully functional, but
they should already be better than plain text mode for editing these kinds of
files.
<br><br>
If you use the new modes you're likely to find cases where the syntax
highlighting is wrong; if you <a href="mailto:bugs@armedbear.org">tell me about
them</a> I'll try to fix the problems (send the code in question if possible).
<br><br>
Fixed a NullPointerException involving pastes at the end of the buffer.
<br><br>
Fixed a NullPointerException in <b>diredSetFilter</b>.
<br><br>
In HistoryTextFields, the up and down arrow keys, used to navigate the history
list, are now mapped to <b>getPrevious</b> and <b>getNext</b>, respectively, as
they should be; previously the mappings were reversed.
<br><br>
<b>electricSemi</b> is now disabled inside /* */ comments.
<br><br>
Fixed the new align paste feature to work better with JavaScript embedded in HTML.
<br><br>
The Find Tag dialog no longer has a "Use other frame" checkbox. I'm thinking
about other ways to provide this functionality in all the places where it
makes sense (the Open File dialog springs to mind as another such place).
<br><br>
</li>

<li>
<b>Sep 7 1999 8:33 AM - Version 0.0.1</b>
<br><br>
This is the first release with a version number. The version number is reported
by <b>about</b>, mapped by default to Alt V.
<br><br>
The distribution scheme has been changed. Both source and binary distributions
are now available in tar.gz, tar.bz2 and zip formats. (The contents of the
various packages for a given distribution should be identical; the only
difference is the compression.) When you unzip or untar any of these packages,
you'll end up with a subdirectory called (in the current case) j-0.0.1. In
this subdirectory is a shell script called j.  If you're running Linux, and if
your CLASSPATH is already set to include swingall.jar and classes.zip from
your Java distribution, you should be able to run j simply by running this
shell script. (It might also be handy to put a symlink to it in /usr/bin or
/usr/local/bin.  This is clearly a job for "make install", but for now you'll
need to do it manually.)
<br><br>
The binary distribution now includes both documentation and themes.  The
aforementioned shell script sets a property on the command line to let j know
where it's running from, so in the default case, if you don't move things
around, F1 should work right out of the box. So you shouldn't need to set
<b>docPath</b> in ~/.j/prefs if you're using the new shell script. (If you do
set <b>docPath</b> in ~/.j/prefs, that setting will take precedence.)
<br><br>
When you paste a block of lines (more precisely, any string ending in either a
carriage return or a linefeed) into a buffer that supports indentation
according to context, the inserted lines will have their indentation adjusted
to match their new context. In addition, <b>paste</b> now correctly marks the
buffer pasted into as modified.
<br><br>
Added <b>killFrame</b>, which closes the current frame. Mapped by default to
Ctrl Shift W.
<br><br>
<b>killLine</b> is now more efficient about killing blank lines.
<br><br>
<b>incrementalFind</b> has been cleaned up substantially. It now supports
history, mapped to Ctrl P and Ctrl N. Ctrl W can be used to copy the next word
(or the rest of the current word) from the buffer into the search pattern. You
can then use any key combination that is globally mapped to
<b>incrementalFind</b> or <b>findNext</b> to search for the next occurrence
of the pattern.
<br><br>
If you basically like the default global key map but would prefer to have
<b>incrementalFind</b>, rather than <b>find</b>, mapped to Ctrl F, you can
achieve this without defining a custom key map by setting
<b>useIncrementalFind</b> to <b>true</b> in ~/.j/prefs.
<br><br>
You can get to the normal (non-incremental) find dialog from the incremental
find dialog by simply pressing Enter before you start typing a search pattern.
<br><br>
Mouse button 2 (that's the middle one) is now mapped (whether you like it or
not) to <b>findTagAtDot</b> in buffers that support tags (Java, JavaScript,
C/C++, HTML). This sort of thing clearly needs to be configurable, but
currently isn't.
<br><br>
Fixed a bug that, in certain circumstances, was preventing tag files from
getting generated in a timely manner when you opened files from a directory
buffer.
<br><br>
</li>

<li>
<b>Sep 2 1999 8:30 AM</b>
<br><br>
By request, you can now specify the location of your backup directory by
putting a line like this in ~/.j/prefs:
<pre>
        backupDirectory=/home/peter/.j/backup
</pre>
At the moment there's no specific error recovery if anything goes astray with
this, so make sure the directory you specify can actually be created (j will
create it for you if it doesn't exist, but you need to have the required
write permissions and the name can't be total nonsense).  If the directory
can't be created, backups will fail, saves will fail, and you'll need to
recover ~/.j/prefs from backup or use a different editor to fix it.  Clearly,
there's still a bit of cleanup required in this area.
<br><br>
Added <b>commentRegion</b> and <b>uncommentRegion</b>, which do what their
names suggest.  (No, Charlie, guess again: <b>commentRegion</b> does NOT add
informative comments to a block of code!)  Mapped by default to F11 and Shift
F11, respectively, these functions operate line-by-line and only work in Java,
JavaScript, C and C++ modes (although the key mappings are global).
<br><br>
Fixed a bug in <b>findNext</b> that was preventing it from working correctly
in some cases if the pattern to be found was a single character.
<br><br>
Ctrl O (or whatever you've got <b>openFile</b> mapped to) now works correctly
as a shortcut to the Open button in the Buffer List dialog.
<br><br>
</li>

<li>
<b>Aug 30 1999 9:08 AM</b>
<br><br>
Fixed a bug in <b>findMatchingTagsInCurrentDirectory</b>, called by
<b>findTag</b> and <b>findTagAtDot</b>, which showed up if the tag to be found
was the short name of a C++ class member function (i.e. without the class name
and double colons). Tag functionality should work much better for C++ now.
<br><br>
Made a cleanup pass through all the dialog boxes, fixing a number of minor
bugs and trying to achieve a smoother and more consistent look and feel.
Please let me know if I've broken anything.
<br><br>
Added a combo box to the Properties dialog for setting the line separator.
Removed the function <b>setLineSeparator</b>, which is obsolete now that we've
got that combo box.
<br><br>
Incremental find now highlights the found pattern.
<br><br>
The Find In Files progress dialog (which is also used by <b>listFiles</b>) now
displays the options that are in force for the current search.
<br><br>
The Buffer List dialog now honors the user's global key mappings in the obvious
way as shortcuts to its Save, Save All, Close, Close All and Open buttons.  For
example, if you have <b>killBuffer</b> mapped to Ctrl F4, you can use Ctrl F4
in the Buffer List dialog's list box to close the selected buffer. The new code
even supports multiple synonymous mappings, so if you've got one of the relevant
functions mapped to several different key combinations, you can use any of them
to invoke the desired functionality.
<br><br>
<b>about</b> is now mapped by default to Alt V.
<br><br>
<b>selectAll</b> wasn't exactly living up to its name. Fixed.
<br><br>
<b>nextError</b>, used in compilation buffers to go to the location of the next
compilation error, was not scrolling that location into view correctly if the
file in question was already open in a buffer. Fixed.
<br><br>
By request, the status bar can now display the line separator for the current
buffer (LF, CR, or CR+LF) and the total number of lines in the buffer in
addition to the default information (mode, line number and column number). To
activate the new options, add one or both of the following lines to ~/.j/prefs:
<pre>
        StatusBar.displayLineSeparator=true
        StatusBar.displayLineCount=true
</pre>
</li>

<li>
<b>Aug 12 1999 10:16 AM</b>
<br><br>
Fixed a recently introduced bug in <b>Editor.activate</b> that caused the
location of the caret to be wrong when a buffer was first loaded.
<br><br>
Improved support for shell buffers under NT.  (Shell buffers are an
undocumented feature.)
<br><br>
</li>

<li>
<b>Aug 11 1999 7:49 AM</b>
<br><br>
In directory buffers, <b>diredMarkFile</b> is now mapped by default to NumPad *
as well as '*' (Shift 8).
<br><br>
</li>

<li>
<b>Aug 10 1999 9:00 AM</b>
<br><br>
On NT, from time to time a save operation would fail for no apparent reason and
then succeed if you simply tried again a few seconds later. J now tries harder
to recover without user intervention if this particular problem arises.
<br><br>
Under certain circumstances j was getting confused about whether a buffer was
modified or not after undoing through a save. Fixed.
<br><br>
Java 1.2, on both Windows and Linux, has trouble reading certain zip files that
Java 1.1 handles just fine. This appears to be a bug in Java 1.2, but j wasn't
recovering very gracefully from the resulting failure when you tried to open
a zip file that couldn't be loaded. Fixed.
<br><br>
Added error handling to recover gracefully in another obscure case, involving
an attempt to open a directory buffer under Linux on an SMB mount that's gone
south.
<br><br>
</li>

<li>
<b>Aug 9 1999 8:40 AM</b>
<br><br>
The Back, Forward, and Contents buttons in j's built-in help browser are now
hooked up and working correctly. The browser itself, which comes free with
Swing and is worth every penny, is extremely slow and throws exceptions from
time to time for no apparent reason, but it does work if you're very patient.
See the help on the <b>help</b> command if you'd prefer to use a real browser.
<br><br>
While testing the built-in help browser, I noticed that several of the help
files contained illegal (or at best borderline) HTML. Fixed.
<br><br>
Fixed a recently introduced bug in <b>left</b> and <b>selectLeft</b> when the
current line is horizontally scrolled.
<br><br>
Added error handling in the code that loads custom key maps. Now you'll get an
informative error message if the file you're trying to load doesn't exist or if
it contains a line that can't be parsed.
<br><br>
Key maps may now contain blank lines and comments. A comment is any line whose
first non-whitespace character is '#'.
<br><br>
</li>

<li>
<b>Aug 4 1999 9:11 AM</b>
<br><br>
<b>diredDeleteFiles</b>, mapped by default to Delete in directory buffers, now
lets you remove directories as well as delete ordinary files.  The directory in
question must be empty before it can be removed.
<br><br>
You can now mark directories as well as ordinary files with <b>diredMarkFile</b>,
mapped by default to '*' in directory buffers, so you can remove several
directories at once.
<br><br>
<b>insertTab</b> now works correctly in all cases when you're beyond the end of
the actual text on the line.
<br><br>
<b>eob</b> and <b>nextError</b> now cancel (rather than extend) the current
selection, as they should.
<br><br>
</li>

<li>
<b>Aug 2 1999 7:56 AM</b>
<br><br>
Added <b>setLineSeparator</b>.  Set the line separator for the current buffer
to the either "\n" or "\r\n", one of which must be supplied (without the
quotes) as a string argument to this command. This is the first example of a
command that requires an argument. Arguments should be supplied after the
command name in the Execute Command dialog box, just like command line
arguments to a program. For example:
<pre>
        setLineSeparator \n
</pre>
The functionality of the <b>setLineSeparator</b> command should one day be
moved into the Properties dialog.
<br><br>
If a block is marked and the "Restrict changes to selected text" checkbox is
not checked, <b>replace</b> now begins its work at the beginning of the marked
block.
<br><br>
<b>findTagAtDot</b> is now a bit smarter about identifying the tag it should find.
<br><br>
If a block is marked, <b>insertTab</b> now deletes the marked block, like all
other insertion commands, before inserting the tab character or equivalent
number of spaces.
<br><br>
</li>

<li>
<b>Jul 30 1999 9:03 AM</b>
<br><br>
Fixed a couple of bugs in <b>insertParentheses</b>.
<br><br>
</li>

<li>
<b>Jul 29 1999 7:41 AM</b>
<br><br>
For Java files, the List Tags dialog now omits the class name from the tags
displayed in the list box if it matches the filename of the current buffer.
<br><br>
There's been a bit of architectural cleanup in the area of command dispatching.
You shouldn't notice any change yet, but the foundation is now in place to
support passing arguments to certain commands.
<br><br>
</li>

<li>
<b>Jul 27 1999 8:38 AM</b>
<br><br>
<b>findTag</b> and <b>findTagAtDot</b> have always saved the original position
of the caret on the marker stack, so that <b>goback</b>, mapped by default to
Shift F5, could be used to get back where you started from. <b>goback</b> has
now been renamed <b>popPosition</b> (the renamed function is still mapped by
default to Shift F5), and the functionality of saving the original position of
the caret on the marker stack has now been exposed as a new function,
<b>pushPosition</b>. Since <b>popPosition</b> is mapped to Shift F5, it makes
sense to map  <b>pushPosition</b> to F5. That is now the default mapping.
<b>findTagAtDot</b>, which used to be mapped to F5, has been moved to Alt .
(that's Alt dot), which is the Emacs mapping for the equivalent function. The
<b>pushPosition</b> functionality is still performed automatically by
<b>findTag</b> and <b>findTagAtDot</b>.
<br><br>
To get all the tag functions off F5, <b>listTags</b>, which was mapped to Ctrl
F5, is now mapped to Ctrl Shift L. I wanted to map it to Ctrl Shift T, but it
turns out that Ctrl Shift T is one of a number of key combinations that just
don't work with the Blackdown VM(s) under Linux.
<br><br>
Removed the <b>useSystemClipboard</b> flag.  There doesn't seem to be any
reason not to use the system clipboard, so things now behave as if
<b>useSystemClipboard</b> is always true.
<br><br>
<b>undo</b> is now mapped to by default to Alt Backspace, as well as Ctrl Z and NumPad *.
<br><br>
There is now no default mapping for <b>incrementalFind</b>. It would be nice to
use Ctrl I, but on some VMs Ctrl I hangs Java and on others the keystroke isn't
even detected.
<br><br>
<b>findInFiles</b> and <b>listFiles</b> now use <b>markFoundPattern</b> to
select the found text.
<br><br>
The accelerator text on the menus is now owner-draw so it can be consistent
with the format of the key maps.
<br><br>
There's lots of new documentation (mostly on the Command Reference page).
Help is now a menu item on the help menu.
<br><br>
</li>

<li>
<b>Jul 23 1999 8:00 AM</b>
<br><br>
<b>find</b>, <b>findNext</b>, <b>findPrev</b>, <b>findNextWord</b> and
<b>findPrevWord</b> now select the text they find. This is particularly useful
when you're doing a regular expression search, since it may not be obvious
where the match ends.
<br><br>
<b>replace</b> now works correctly when changes are restricted to a selected
block of text. The most noticeable problem was that regular expressions
that used repeating operators did not respect the boundary of the selected
region if the region ended in the middle of a line. This is now fixed.
<br><br>
</li>

<li>
<b>Jul 21 1999 7:50 AM</b>
<br><br>
Added <b>insertParentheses</b>, mapped by default to Ctrl Shift ( in Java,
JavaScript, C and C++ modes. If a region is selected, insert parentheses around
the selected region. Otherwise, insert an opening parenthesis followed by a
closing parenthesis, leaving the caret positioned between them. If
<b>parensRequireSpaces</b> is <b>true</b>, single space characters are
added after the opening parenthesis and before the closing parenthesis.
<br><br>
Added <b>movePastCloseAndReindent</b>, mapped by default to Ctrl Shift ) in
Java, JavaScript, C and C++ modes. Move the caret past the next unmatched
closing parenthesis to the right of its current location, insert a line
separator, and indent according to context. Intended to be used with
<b>insertParentheses</b>.
<br><br>
For consistency, <b>insertBraces</b> is now mapped by default to Ctrl Shift [,
rather than Ctrl [.
<br><br>
I should note that getting the default key mappings to work for these functions
was not easy. These particular keys do not generate the same keycodes on all
platforms and VMs, and amazingly, with Blackdown 1.1.7v3 on Linux, they do not
even generate the same keycodes consistently on the same platform. So there's a
bit of hackery in <b>JavaMode.setJavaModeDefaults</b> to handle the various
cases.
<br><br>
</li>

<li>
<b>Jul 20 1999 7:57 AM</b>
<br><br>
The selection code has been reworked, after I noticed that it didn't behave
very consistently with selections that extend into the empty area past the end
of the actual text on a line. I'm not sure the new behavior is exactly right,
but it seems to be a bit better than the old behavior. Please let me know if
you notice any anomalies.
<br><br>
While I was in the selection code, I noticed that it was trivial to display
syntax highlighting within the selected region, so that is now the default
behavior. This should only cause a problem if your color scheme uses a
<b>colorSelectionBackground</b> that makes syntax-highlighted text hard to
read. The themes I checked seem to work OK, but I haven't looked at everything.
If you have a problem with this behavior and would like a flag to turn it off,
please let me know.
<br><br>
We now prompt for the location of the help files if there's no setting for
<b>docPath</b> in ~/.j/prefs.
<br><br>
<b>diredRefresh</b> is now mapped by default to Ctrl R instead of F5.
<br><br>
</li>

<li>
<b>Jul 16 1999 7:46 AM</b>
<br><br>
Speed search in directory buffers has changed a bit. Now, when you start typing
ordinary characters in a directory buffer, j moves the caret to the first
actual directory entry that begins with the string you've typed, ignoring the
file size, date/time stamp, etc.  So now, for example, when you type 'j', you
won't get a match on the file foo.cpp just because its date/time stamp contains
"Jun".
<br><br>
Fixed yesterday's change in <b>left</b> and <b>selectLeft</b> to work correctly
with blank lines when the caret is not in the leftmost column.
<br><br>
</li>

<li>
<b>Jul 15 1999 8:27 AM</b>
<br><br>
The default key mappings for <b>toCenter</b> and <b>toTop</b> (Ctrl - and Ctrl
Shift -, respectively), now work with Blackdown 1.2 pre-release v2.
<br><br>
By request, <b>left</b> and <b>selectLeft</b> now move to the end of the text
on the previous line if the caret is already at the beginning of the current
line.
<br><br>
I need to correct a statement made in the July 13 release notes. On Windows,
contrary to my earlier statement, there is a problem with menus if you use the
Microsoft VM. J may appear to lose keyboard focus after you access the menu;
when this happens, typing won't work.  It's not really (or at least not
trivially) a keyboard focus issue, but as a workaround, you can click away from
j and then click back to restore keyboard functionality.  J does not seem
susceptible to this problem with the IBM 1.1.7 VM or any of the SUN 1.2.x VMs
on the Windows platform.
<br><br>
</li>

<li>
<b>Jul 14 1999 8:58 AM</b>
<br><br>
I forgot to mention in yesterday's release notes that j now uses the source and
include paths to look for files specified on the command line, as well as those
specified in the Open File Dialog.
<br><br>
Selected text is now displayed with whatever style (plain, bold or italic) the
same text would have if it weren't selected.
<br><br>
</li>

<li>
<b>Jul 13 1999 7:26 AM</b>
<br><br>
Top-level menu mnemonics (Alt F, Alt E, etc.) now work to drop down the menus.
<br><br>
In general, support for menus is pretty broken in the current state of Java and
Swing.  Duplicate mnemonics are not handled sensibly, there's a tendency to
insert stray keystrokes in the buffer when mnemonics are used, and, with 1.1.x
VMs, merely typing Ctrl I after you've pulled down a menu and dismissed it is
likely to hang the VM.  (With 1.2.x VMs, Ctrl I is swallowed without a trace,
which is benign by comparison but still a bug.) With the IBM Linux VM, using
the mouse to pull down a menu and dismiss it makes it impossible, subsequently,
to type normal text in the buffer. With Kaffe, any use of a menu at all locks
up the VM.
<br><br>
Given these problems, it might be a good idea to not even display the top-level
menu on platforms where menus are known to have critical problems. I haven't
gone to this extent, but I'm still considering it.
<br><br>
The good news is that on Linux, menus seem to work fine now on Blackdown 1.1.7,
which, in its green threads form, seems to be the best VM to use.  On Windows,
all three major VMs (Sun, IBM and Microsoft) should be OK; IBM is my favorite
by a small margin, but they all work well.  The one thing to watch out for,
with all 1.1.x VMs, is the aforementioned hang when you type Ctrl I after
accessing any menu.  Don't do that!!
<br><br>
</li>

<li>
<b>Jul 9 1999 7:27 AM</b>
<br><br>
Extensive but mostly transparent changes to the architecture of modes and
preferences.  The only visible change is that the mode-specific variables
<b>defaultTabWidth</b>, <b>defaultIndentSize</b> and <b>defaultWrapCol</b> have
been renamed <b>tabWidth</b>, <b>indentSize</b> and <b>wrapCol</b>, to match
the global defaults with the same names. In addition, you can now set
<b>indentBeforeBrace</b> and <b>indentAfterBrace</b> both globally and on a
mode-specific basis in your preferences file. In general, this means you can do
things like this in your preferences file:
<pre>
        # Set global default tab width...
        tabWidth=8
        # ...but use different values for C++ and Java.
        CppMode.tabWidth=2
        JavaMode.tabWidth=4
</pre>
You can now control how j chooses what mode to open a file in by specifying
regular expressions correspoding to each mode in your preferences file.  See
the Modes page of the documentation for details.
<br><br>
There's now a C mode, distinct from C++ mode.  By default, .h files are opened
in C++ mode, but you can change this behavior by specifying appropriate regular
expressions in your preferences file.
<br><br>
The functions <b>plainTextMode</b>, <b>javaMode</b>, <b>cppMode</b>,
<b>javaScriptMode</b> and <b>htmlMode</b> have been removed.  It's easier to
use the Properties dialog to change the mode of a buffer.
<br><br>
</li>

<li>
<b>Jul 1 1999 7:32 AM</b>
<br><br>
<b>toCenter</b> and <b>toTop</b> are now mapped by default to Ctrl - and Ctrl
Shift -, respectively.
<br><br>
Fixed a number of relatively benign buglets in various text insertion
functions(<b>insertKeyText</b>, <b>htmlInsertMatchingEndTag</b>, etc.). These
functions were not always entirely meticulous about updating the modified
status of the buffer, the position of the caret, and/or the undo information.
<br><br>
Mikol has contributed five new themes.  They're in the "themes" folder of the
source distribution.
<br><br>
</li>

<li>
<b>Jun 29 1999 7:06 AM</b>
<br><br>
Added <b>htmlStartTag</b> and <b>htmlEndTag</b>, mapped by default to Ctrl ,
and Ctrl . (think of Ctrl &lt; and Ctrl &gt;) in HTML mode.  These functions
insert an empty start or end tag and place the caret after the opening angle
bracket or "&lt;/", ready for you to type in the text of the tag.
<br><br>
Renamed <b>htmlInsertEndTag</b> to <b>htmlInsertMatchingEndTag</b>, for greater
clarity and to avoid confusion with <b>htmlEndTag</b>. It's still mapped to
Ctrl E in HTML mode.
<br><br>
In HTML mode, if the variable <b>Defaults.htmlAutoUpcaseTags</b> is <b>true</b>,
tags and attributes will automatically be converted to upper case as you type them in.
<br><br>
Cleaned up the regular expression backreference code in <b>replace</b> so it
works as documented. In yesterday's release, occurrences of $0, $1,..., $9 in
the replacement string were treated as backreferences, an artifact of the
underlying gnu.regexp code. Now only \1, \2, ..., \9 are treated as
backreferences, as documented. You can still use "\&amp;" in the replacement string
to refer to the entire string that matched the pattern.
<br><br>
</li>

<li>
<b>Jun 28 1999 7:53 AM</b>
<br><br>
When using regular expressions, <b>replace</b> now supports variable
substitution in  the replacement string, so the replacement string can refer to
all or part of what is matched by the pattern. "\&amp;" in the replacement
string will be replaced with the entire string that matched the pattern. "\<i>n</i>",
where <i>n</i> is a digit from 1 to 9, will be replaced by whatever matched the
<i>n</i>th parenthesized grouping in the pattern.
<br><br>
For example, if you specify this pattern:
<pre>
        foo\( (.*), (.*) \)
</pre>
and this replacement:
<pre>
        foo( \2, \1 )
</pre>
the effect would be to reverse the order of the arguments in every call to the
function foo. Note that you need to escape the literal parentheses in the
pattern, but not in the replacement.
<br><br>
By default, <b>find</b> is now mapped to Ctrl F (as well as to Alt F3).
<b>incrementalFind</b> is mapped to Ctrl I.
<br><br>
There's now a Regular Expressions page in the documentation (F1).
<br><br>
</li>

<li>
<b>Jun 25 1999 7:59 AM</b>
<br><br>
<b>saveGlobalKeyMap</b> and <b>saveLocalKeyMap</b> are now
<b>writeGlobalKeyMap</b> and <b>writeLocalKeyMap</b>, respectively.
<br><br>
You can now specify an arbitrary global key map in ~/.j/prefs, like this:
<pre>
        globalKeyMap=/home/peter/globalkeys
</pre>
J will load the global key map from the specified file, rather than using its
internal defaults.  The specified file must be in the format used by
<b>writeGlobalKeyMap</b>.  The same functionality is also supported for
mode-specific key maps:
<pre>
        JavaMode.KeyMap=/home/peter/javakeys
</pre>
There's a new command called <b>insertKeyText</b>, available from the Execute
Command dialog box (which is mapped by default to Alt X). When you invoke this
function, it looks like nothing is happening, but in reality j is waiting for
you to type something; the next key combination you type will be inserted as
text at the location of the caret, in the canonical format used by
<b>writeGlobalKeyMap</b>. Useful for editing key maps.
<br><br>
You can now, in theory, set any <b>public static</b> variable in j in your
preferences, with a line like this:
<pre>
        JavaMode.defaultIndentSize=8
</pre>
If you omit the class name, it defaults to "Defaults". If you use j to edit
~/.j/prefs, your preferences are now reloaded automatically when you save
changes to the file.  Furthermore, the <b>public static</b> variables in the
<b>Defaults</b> class are reset to their default values before your preferences
are reloaded. This means that simply removing (or commenting out with "#") the
line in ~/.j/prefs that sets a variable is enought to restore it to its default
value as long as the variable in question is a member of the <b>Defaults</b>
class.  You'll need to reset variables in other classes explicitly or restart j
after you remove the lines that set them.
<br><br>
As a convenience, since you might find yourself editing your preferences more
frequently under this new scheme, if you just enter "prefs" in the Open File
dialog, j will open your preferences file.  If you really want to edit some
other file named "prefs", enter its full path.
<br><br>
J now supports themes. You can put a line like this in ~/.j/prefs:
<pre>
        theme=/home/peter/j/themes/Dark
</pre>
The specified theme file is loaded as an additional preferences file after
~/.j/prefs is loaded. The idea is to gather all the settings that relate to j's
look and feel in one place.  The source distribution now includes a "themes"
folder, which contains, at present, two themes: "Default", which is
simply a packaging of j's internal defaults as a theme, to provide a starting
point, and "Dark", which is a dark background theme contributed by Bruce H.
<br><br>
If you use j to edit your current theme, when you save your changes, all the
<b>public static</b> variables in the <b>Defaults</b> class are reset to their
default values, as mentioned above, and then both your preferences and your
theme are reloaded automatically. (In fact, your theme is also reloaded
automatically if you just change ~/.j/prefs.) In addition, j's display is
re-initialized and redrawn, so you should be able to see the effects of
changes to your theme right away.
<br><br>
The architecture is a little bit in flux right now in the areas of preferences,
defaults, key maps, and themes, but you can see where we're going. The basic
idea is that you should be able to do normal customizations of j (colors, key
mappings, basic settings) without going to the trouble of writing, compiling,
and maintaining an extension class.  If you already have an extension class, it
will still work, but it's a good idea to move as much of its functionality as
possible into ~/.j/prefs or into a theme or key map, where things should be
much more maintainable. In addition, if you have code in your extension class
that changes <b>public static</b> variables in the <b>Defaults</b> class, bear
in mind that those variables will be reset to their default values whenever you
save changes to ~/.j/prefs or to your current theme.
<br><br>
I'm under no illusion that the current set of <b>public static</b> variables in
the <b>Defaults</b> class is anywhere near complete. Please let me know what
changes or additions you would find useful (or indispensable), and I will try
to make them happen. (It's also clear that  additional factoring is needed in
this area; in particular, some of the mode-specific settings in <b>Defaults</b>
will probably move to the modes themselves.)
<br><br>
J now supports keyboard macros. The function <b>recordMacro</b>, mapped by
default to F7, starts the recording of keystrokes, which continues until you
press F7 (or whatever you've remapped <b>recordMacro</b> to) again.  You can
then use the function <b>playbackMacro</b>, mapped by default to F8, to play
back the recorded keystrokes. The implementation of this is very simple, and
you can't do anything fancy.  In particular, you can't record through a dialog
box. Mouse events are not recorded.
<br><br>
In Java, JavaScript, and C++ modes, comments are now displayed by default in an
italic font. You can control this by setting the variable <b>Defaults.styleComment</b>
(0 is plain, 1 is bold, 2 is italic) in ~/.j/prefs or in your theme.
<br><br>
Finally, the documentation (mapped by default to F1) has been updated to
reflect many of these changes.  In particular, check out the pages on Key
Mappings and Preferences. You'll need to set the <b>docPath</b> in ~/.j/prefs
to point to the directory containing the documentation for F1 to work.
<br><br>
</li>

<li>
<b>Jun 17 1999 6:52 AM</b>
<br><br>
The source distribution now provides a bit of documentation. <b>help</b>,
mapped by default to F1, invokes j's built-in HTML browser to view what few help
files there are. For this to work, you'll need to set
the variable <b>docPath</b> in ~/.j/prefs or C:\.j\prefs to point to the
directory containing the documentation, like this:
<pre>
        docPath=/home/peter/j/doc
</pre>
J's built-in HTML browser is a thin wrapper around the Swing HTML rendering
engine, and it doesn't work very well (in fact it may not even make the cut
when the team heads north), so it's recommended that you configure j to use a
real browser to view the help files, which you can do by
setting the variables <b>browser</b> and (optionally) <b>browserOpts</b> in
~/.j/prefs, like this:
<pre>
        browser=gnome-moz-remote
        browserOpts=--disable-sound
</pre>
(If you're running Unix and use Netscape Navigator as your browser, you might
want to try gnome-moz-remote, which is a small program distributed with <a
href="http://www.gnome.org">Gnome</a>. If Navigator is already running,
gnome-moz-remote opens the given page in the currently running Navigator;
otherwise it opens the page in a new Navigator window.)
<br><br>
If you invoke <b>help</b> from the Execute Command dialog box, you can specify
the command you want help on at the same time ("help help", for example).
(Please bear in mind that the documentation is nowhere near done, and there are
lots of things that haven't been documented yet.)
<br><br>
Added <b>saveGlobalKeyMap</b> and <b>saveLocalKeyMap</b>, which you can invoke
from the Execute Command dialog box (mapped by default to Alt X).  These
functions prompt you for a filename and write out the key map in question to
the file you specify, in human-readable form.  Currently these functions only
serve to generate supplementary documentation, but the idea is that in the
future, j will be able to load key maps from text files in the same format, so
you will one day be able to customize your key assignments without having to
write an extension class.
<br><br>
Added <b>diredBrowseFile</b>, mapped by default to Ctrl B in directory mode.
This command uses your default browser to view the file at the location of the
caret in a directory buffer. For this command to work, you need to specify a
browser in ~/.j/prefs, as described above.
<br><br>
If you use j to edit ~/.j/prefs, your preferences are now reloaded
automatically when you save changes to the file, so, for example, you can
change default browsers without restarting j.
<br><br>
The functions <b>jumpToLine</b> and <b>diredSetFilter</b> now use a custom
input dialog instead of JOptionPane.showInputDialog.
<br><br>
<b>diredSetFilter</b> now does nothing at all unless you actually make some change to the
filter (it used to reload the directory, no matter what).
<br><br>
On Windows, <b>dir</b> (which is mapped by default to Ctrl D, and opens a
directory buffer on the current directory) now works correctly in the root
directory of a given drive.
<br><br>
<b>htmlInsertEndTag</b> now places the inserted end tag correctly at the
location of the caret on a blank line, instead of forcing the inserted tag to
the very beginning of the line.
<br><br>
Tab characters are now handled correctly in shell buffers.
<br><br>
</li>

<li> <b>Jun 4 1999 7:21 AM</b>
<br><br>
One of the recent <a href="#completions">changes</a> in the behavior of
filename completions in the Open File dialog has been reversed. Now, on
platforms where the file system is case-insensitive (Windows) or if the
variable <b>Defaults.openFileCompletionsIgnoreCase</b> is <b>true</b> (which
it is by default), completions really do ignore case. We no longer require,
additionally, that the prefix being completed be all lower case to begin with,
which didn't work well if you tried to use a series of completions to construct
a long mixed-case pathname.
<br><br>
In directory buffers, if you navigate to the parent directory, the caret is now
placed on the name of the directory you came from.
<br><br>
Added <b>htmlBold</b>, mapped by default to Ctrl B in HTML mode.  This function
inserts an HTML bold tag "&lt;b&gt;" at the location of the caret. The case of
the inserted tag is controlled by the variable <b>Defaults.htmlUpperCaseTags</b>,
which is <b>false</b> by default.
<br><br>
<b>find</b> is now mapped by default to Alt F3; <b>incrementalFind</b> remains
mapped by default to Ctrl F.
<br><br>
Fixed <b>slideIn</b> and <b>slideOut</b> to work correctly with actual tab
characters.
<br><br>
If go into a shell buffer and change, for example, the read-only status of a
file that's loaded in another buffer, when you switch back to that file's
buffer we now detect that change correctly.  Shell buffers, remember, are an
undocumented feature, despite what you're reading here.
<br><br>
The makefiles, while still totally inadequate, work a bit better now. Remember
that on Windows, using the Cygwin tools, you need to type "make --unix".
<br><br>
</li>

<li>
<b>May 20 1999 8:03 AM</b>
<br><br>
<b>Archive.openFileAtDot</b> now refuses to open directories, fixing a
NullPointerException bug that formerly occurred in that situation.
<br><br>
Shell buffers now make an attempt to set their initial directory correctly.
<br><br>
Buffer titles are now cached (at least for normal buffers), and
<b>Editor.setTitle</b> now calls <b>Frame.setTitle</b> only when the title has
actually changed.
<br><br>
</li>

<li>
<b>May 19 1999 7:44 AM</b>
<br><br>
There's been a major reorganization of the directory structure of the source
distribution.  J is now a package.  You'll want to unzip the new source into an
empty directory.  The top-level Makefile should work to build everything (on
Windows with the Cygwin tools you'll need to type "make --unix"). You still
invoke j the same way ("java Editor"), but you'll need to put j's top level
source directory (for me, that's ~/j/src) or j.jar (try "make jar") in your
CLASSPATH, which is a change. Better documentation of all this will be
available soon. This is the first release with the new packaging scheme, and
things may not work as you expect, so proceed cautiously until you get
everything built and running.
<br><br>
<a name="completions"></a>
Filename completion in the Open File dialog now works a bit differently. The
names of files in the buffer list are now considered along with files in the
current directory when looking for completion candidates. Only the short name
(rather than the full path) of the candidate is displayed, if it's reasonable
to do so (which is not the case if the string to be completed looks like a full
path to begin with).  To be consistent with other pattern matching functions in
j, case is never ignored if the string to be completed is in mixed case or all
upper case.  Otherwise, case is ignored under Windows, where filenames are not
case sensitive, or if the variable
<b>Defaults.openFileCompletionsIgnoreCase</b> is <b>true</b>, which it is by
default.
<br><br>
There are now different taggers for C and C++. The C tagger recognizes
functions with old style parameter lists, like this:
<pre>
        int foo( bar )
            int bar;
        {
        }
</pre>
The C tagger also recognizes functions defined with the DEFUN macro used in the
GNU Emacs source, like this:
<pre>
        DEFUN ("get-process", Fget_process, Sget_process, 1, 1, 0,
          "Return the process named NAME, or nil if there is none.")
          (name)
             register Lisp_Object name;
        {
        }
</pre>
The List Tags dialog now sets the selection in the list box based on where you
are in the buffer.  The OK and Cancel buttons have been removed (in accordance
with j's style guidelines). Doubleclicking in the list box now has the expected
effect, as long as you can put up with Swing's rather sluggish doubleclick
response.  To compensate a bit for the aforemention sluggish response, clicking
once with button 2 (the middle button) is equivalent to a doubleclick (and much
more responsive).
<br><br>
Fixed a couple of relatively obscure indentation bugs.
<br><br>
</li>

<li>
<b>May 13 1999 8:11 AM</b>
<br><br>
Fixed a NullPointerException affecting buffers that display files contained in
zip archives.
<br><br>
Buffers that display files contained in zip archives now have slightly more
accurate titles.
<br><br>
Fixed another NPE in the incremental find dialog for buffers that don't support
undo/redo.
<br><br>
The recent optimization of the file loading code in SystemBuffer.java
introduced a bug that prevented the last (or possibly only) line of a file from
being loaded if it didn't end with a line separator. Fixed.
<br><br>
Shell buffers under Linux now do a much better job of detecting directory
navigation. In particular, <b>pushd</b> and <b>popd</b> are now supported, as
well as <b>cd</b>.  The <b>popd</b> detection code does not work correctly with
directories whose names contain an embedded space, however.  In any case, if
things do get out of whack, <b>pwd</b> should correct j's idea of what the
current directory is, as indicated in the title bar.  Shell buffers, remember,
are an undocumented feature, despite what you're reading here, and to the
extent that they work at all, they're much more likely to do so under Linux
than under Windows.
<br><br>
</li>

<li>
<b>May 12 1999 8:27 AM</b>
<br><br>
Fixed speed search in directory buffers so that the final key event is passed
through, when appropriate, to the underlying editor window, as in normal
incremental find.
<br><br>
In the interest of clarity, removed <b>Defaults.useBlockCaret</b> and all code
referencing it. This was an option which was never implemented correctly.
<br><br>
Minor cleanup and optimization (probably unnoticeable) of the display code.
<br><br>
</li>

<li>
<b>May 11 1999 7:08 AM</b>
<br><br>
Optimized the file loading code in SystemBuffer.java.  Files should now load about
twice as fast.
<br><br>
Fixed NPE in incremental find in directory buffers, introduced yesterday when
undo/redo support was removed.
<br><br>
When you switch back to j from another app, the reactivate code now rebuilds
the menus in case the buffer's read only status has changed.
<br><br>
</li>

<li>
<b>May 10 1999 7:57 AM</b>
<br><br>
Major cleanup and restructuring of the undo/redo code.  The sequence change,
save, undo, save, redo now works correctly, in the sense that j believes the
buffer to be modified at the end of the sequence, which was not formerly the
case.
<br><br>
Added <b>diredMarkFile</b>, mapped by default to '*' in dired mode. You can now
mark multiple files and then delete them in a single operation.
<b>diredDeleteFile</b>, mapped by default to Del in dired mode, has been
renamed to <b>diredDeleteFiles</b> to reflect this new functionality. If no
files are marked, <b>diredDeleteFiles</b> acts on the file where the caret is,
like <b>diredDeleteFile</b> used to do.
<br><br>
Syntax highlighting in directory buffers has been extended to support marked
files. The variables <b>Defaults.diredColorMarked</b> and
<b>Defaults.styleMarked</b> have been added to support customization.
<br><br>
Undo and redo are no longer supported at all in directory and compilation
buffers. Support previously was minimal at best and often confusing, and since
you can't really edit these buffers, this should be a very small loss of
functionality.
<br><br>
</li>

<li>
<b>May 7 1999 6:34 AM</b>
<br><br>
You can now specify a line number when invoking j from the command line, like this:
<pre>
        java Editor +100 Display.java
</pre>
This command line will open the file Display.java and put the caret at the
beginning of line 100.  This feature should also work correctly when the
command line in question ends up getting passed to an already-running instance
of j.
<br><br>
In compilation buffers, <b>thisError</b> and <b>nextError</b> are now smart
enough to fish the column number, as well as the line number, out of the jikes
+D error format.
<br><br>
Closing a buffer from the buffer list dialog (Alt B) didn't work correctly if
the buffer in question was displayed in a second frame. Fixed.
<br><br>

<li>
<b>May 5 1999 8:33 AM</b>
<br><br>
<b>selectWord</b> is now mapped by default to Alt W.
<br><br>
In the Incremental Find dialog, Alt W (or whatever you've got <b>selectWord</b>
mapped to, if you've changed its mapping) now extends the search pattern to the
next word boundary.
<br><br>
In the IncrementalFind dialog, you could always use Ctrl F (or whatever
<b>incrementalFind</b> is mapped to) to move to the next occurrence of the
current search pattern.  You can still do that, but your <b>findNext</b>
mapping(s) will work as well.
<br><br>
Under the IBM VM on Windows, <b>closeParen</b> now does a better job of moving
the caret briefly (and visibly) to the matching open parenthesis.
<br><br>
</li>

<li>
<b>May 3 1999 7:57 AM</b>
<br><br>
Added <b>compile</b> (no default mapping) available under Linux only.
<b>compile</b> prompts you for a command ("make", for example) and then
executes that command, redirecting the output to a compilation buffer, which is
displayed in a separate frame (unless you happen to invoke <b>compile</b> from
a compilation buffer to begin with, in which case the existing compilation
buffer is reused).
<br><br>
If compilation errors occurred, you can use <b>nextError</b> (no default
mapping) to visit each one in turn. J understands the error format used by
gcc/g++, javac, and jikes with the +D option.  You can also click on an error
message in the compilation buffer with button 2 (the middle button) to go
directly to that particular error.
<br><br>
Added <b>nextFrame</b>, mapped by default to Alt N. Cycles through the open
frames. The behavior of <b>nextFrame</b> is very dependent on your window
manager. Ice works fine, but WindowMaker is reluctant to set focus to the new
frame, even though it's correctly brought to the foreground.
<br><br>
<b>revertBuffer</b> now does the right thing with HTTP buffers and zip files.
<br><br>
Added a very minimal About box.
<br><br>
</li>

<li>
<b>Apr 30 1999 8:36 AM</b>
<br><br>
The C++ tagger now recognizes const member functions for what they are.
<br><br>
</li>

<li>
<b>Apr 28 1999 3:49 AM</b>
<br><br>
Renamed <b>exec</b>, mapped by default to Alt X, to <b>executeCommand</b>.
<br><br>
The Execute Command dialog box now supports both history (using the up and down
arrow keys) and completion (Tab).
<br><br>
Reorganized the <b>incrementalFind</b> code a bit in an attempt to improve
stability. There was a tendency (under Linux, using Blackdown Java 1.1.7 and
tya) for the JVM to crash when the dialog was dismissed. I'm still not sure
whose fault that was; the various Windows VMs have always worked fine.
<br><br>
Under Linux, if you use the mouse to move the Incremental Find dialog, the text
field now reclaims the input focus when you release the mouse button.  (This
was never a problem under Windows.)
<br><br>
Added code to minimize the tendency of the IncrementalFind dialog, under Linux,
to wander away from where you put it. (This too was never a problem under
Windows.)
<br><br>
</li>

<li>
<b>Apr 26 1999 7:44 AM</b>
<br><br>
JavaScript mode now has its own indentation code. Fixed a few indentation
buglets.
<br><br>
Tried to track down the cause of intermittent JVM crashes under Linux in the
Incremental Find dialog (usually when the dialog is dismissed).  The code now
uses SwingUtilites.invokeLater to make sure display updates happen in the AWT
event dispatcher thread.
<br><br>
Made undo work a bit more precisely with the Incremental Find dialog.
<br><br>
</li>

<li>
<b>Apr 23 1999 7:43 AM</b>
<br><br>
In the Open File dialog, completion of strings starting with ".." is now
handled correctly.
<br><br>
In the List Files dialog, you can now double click on an entry in the list box
to open a file.
<br><br>
</li>

<li>
<b>Apr 22 1999 6:58 AM</b>
<br><br>
There's now transparent support for viewing the contents of gzipped files
(identified by the extension .gz) without having to gunzip them first. Handy
for examining files in the /usr/doc tree. For the moment, it's a read only
thing.
<br><br>
Fixed mouse drag selection to work correctly with the IBM VM under Windows.
<br><br>
The recent changes in the dispatcher code introduced a bug that caused the
first keystroke to be dropped when speed search was invoked in a directory
buffer. Fixed.
<br><br>
The file INSTALL has been added to the distribution. It provides basic
instructions for building, installing and running j.
<br><br>
</li>

<li>
<b>Apr 21 1999 10:52 AM</b>
<br><br>
Fixed <b>electricBrace</b> to work correctly with the new dispatcher code for
the IBM VM under Windows.
<br><br>
</li>

<li>
<b>Apr 21 1999 7:28 AM</b>
<br><br>
Sorted out the KeyListener code in IncrementalFindDialog.java to make
incremental find work correctly with the IBM VM under Windows.
<br><br>
Changed the dispatcher code just a tad to make key mappings to printable
characters like ';' and '{' work correctly with the IBM VM under Windows.
<br><br>
Fixed the infamous and elusive underscore display bug, which affected both the
IBM VM and Microsoft's jview and prevented bold underscores from being
displayed, which was a big problem with function names containing underscores
in the the default color scheme. It turns out that the default monospaced font
for those VMs is a pixel taller when it's bold than when it's plain, although
the character width is exactly the same.
<br><br>
</li>

<li>
<b>Apr 20 1999 6:49 AM</b>
<br><br>
The recent changes in the dispatcher code left things pretty broken under
Windows (stray characters would be added to the buffer when you used commands
mapped to Ctrl or Alt keystroke combinations), even though everything worked
fine under Linux. I think this problem is fixed now.  I even booted into
Windows to test, and everything appears to be back to normal, at least with
Sun's 1.2 VM.
<br><br>
Added the variable <b>Defaults.lineupArglist</b>.  If this variable is
<b>true</b> (which it is by default), function calls that span multiple lines
will be indented like this:
<pre>
        veryLongFunctionName(arg1,
                             arg2);
</pre>
If you set <b>Defaults.lineupArglist</b> to <b>false</b> in your extension
class, the indentation will look like this:
<pre>
        veryLongFunctionName(arg1,
            arg2);
</pre>
<br><br>
</li>

<li>
<b>Apr 19 1999 8:28 AM</b>
<br><br>
Fixed the problem with menu mnemonics.
<br><br>
</li>

<li>
<b>Apr 17 1999 9:54 AM</b>
<br><br>
Yesterday's changes in the dispatcher code introduced a bug that, under certain
circumstances, caused a spurious character to be inserted in the buffer when
you used a mapped keystroke to invoke a command (for example, Ctrl S to invoke
<b>save</b>).  This bug has been fixed.
<br><br>
If the mnemonic of a menu item on one of the menus is the same as the mnemonic
of a top-level menu, using the mnemonic to invoke the menu item will indeed
work, but immediately thereafter the top-level menu with the same mnemonic will
drop down. This clearly isn't the right behavior, but I haven't found a way to
code around it, and in the case of the File menu (Save in particular), there
doesn't seem to be any way to work around this problem by setting up unique
mnemonics. So this bug is still unfixed, but it doesn't seem to cause any real
damage.
<br><br>
</li>

<li>
<b>Apr 16 1999 8:24 AM</b>
<br><br>
<b>findPrev</b> is now mapped by default to Ctrl H as well as Shift F3, for
symmetry with <b>findNext</b>, which is mapped to Ctrl G as well as F3.
<br><br>
<b>selectLeft</b>, <b>selectRight</b>, <b>selectUp</b> and <b>selectDown</b>
now group their undos like <b>left</b>, <b>right</b>, <b>up</b> and <b>down</b>.
<br><br>
The dispatcher code has been reorganized to work with IBM's recently released
<a href="http://www.ibm.com/java/news/news273.html">free Java VM for
Windows</a> (that's free as in free beer). I haven't actually tested that setup
yet with the new dispatcher code, but the new code works fine with Blackdown
Java under Linux, and it works with Kaffe under Linux about as well as the old
code did, so I don't think I've broken anything.
<br><br>
</li>

<li>
<b>Apr 15 1999 7:55 AM</b>
<br><br>
The Open File dialog now handles strings beginning with "." correctly.  In
particular, entering "." by itself gives you a directory buffer on the
current directory, as you might expect, instead of a directory buffer on the
directory you were in when you started j, which was the former behavior.
<br><br>
When you switch back to j from another application, we now correctly exclude
untitled buffers (created with <b>newBuffer</b>) when checking to see if
another application has modified any of the loaded buffers.
<br><br>
</li>

<li>
<b>Apr 14 1999 8:09 AM</b>
<br><br>
Added <b>Defaults.useMenuMnemonics</b>.  Set this to <b>false</b> in your
extension class to remove the mnemonics from the top-level menus, so that you
can map Alt F, Alt E, etc., to functions of your own choosing.
<br><br>
Enabled the "Indent before/after opening brace" checkboxes in the Properties
dialog, and fixed the indentation code for Java, JavaScript, C and C++ to honor
these settings. We still need user-settable (and possibly mode-specific)
defaults for these.
<br><br>
</li>

<li>
<b>Apr 13 1999 7:35 AM</b>
<br><br>
Under Windows, the Open File dialog now ignores case when looking for the
requested file in the existing buffers.
<br><br>
In the Open File dialog, directories are no longer excluded from filename
completion under any circumstances. Previously, both directories and ordinary
files were excluded if they matched the criteria defined in the function
<b>isExcluded</b> (for example, if their extension was ".obj"). The intention
was to reduce the overall noise during filename completion by skipping files
you probably wouldn't want to edit. Now the exclusion is applied to ordinary
files only. This functionality should be user-configurable in any case, but
that's a project for another day.
<br><br>
</li>

<li>
<b>Apr 12 1999 8:01 AM</b>
<br><br>
The menus now have mnemonics, so you should be able to use them without help
from your mouse.
<br><br>
To avoid conflicts with the new menu mnemonics, <b>diredSetFilter</b> and
<b>diredCycleSortBy</b> have been moved from Alt F and Alt S to Ctrl F and Ctrl
S, respectively.
<br><br>
Archive mode now has its own key map.  There's nothing much in it, but it never
made sense for archive mode to share the directory mode key map, and after
<b>diredSetFilter</b> moved to Ctrl F, trying to use Ctrl F to bring up the
Find (or Incremental Find) dialog in archive mode caused bad things to happen.
All fixed now.
<br><br>
Added <b>closeAll</b>, available from the File menu and the Buffer List dialog.
<br><br>
Removed the Select and Cancel buttons from the Buffer List dialog (they had
misleading names and didn't really add any functionality), added a Close All
button, and gave all the buttons working mnemonics.
<br><br>
<b>killBuffer</b> now does nothing if the only buffer left is a directory
buffer (it used to kill the buffer and then reload it).
<br><br>
Made <b>findTag</b> work in directory buffers.
<br><br>
<b>shellPreviousInput</b> and <b>shellNextInput</b> now update the display
correctly.
<br><br>
If you enter a filename with no path in the Open File dialog, j now looks for a
matching file in the current directory first. If (and only if) there's no such
file in the current directory, j will then try to find a match in the existing
buffers. Previously, these things were happening in the other order, which is
less natural (you're more likely to know what directory you're in than what all
the other buffers are).
<br><br>
</li>

<li>
<b>Apr 6 1999 8:19 AM</b>
<br><br>
There is now preliminary support for defining methods in your extension class
that can be mapped to a keystroke.  Mappable methods must be <b>static</b>,
must be <b>public</b>, must return <b>void</b>, and must take no arguments.
For a useless but possibly instructive example, see the method <b>test</b> in
pg.java, mapped there to F8. A problem with this capability at the moment is
the fact that very few things in j are declared to have <b>public</b> access.
This won't be a problem if your extension class lives in the same directory as
j's .class files, but if you want to put it somewhere else, you'll run into
problems if you try to use methods or members in j's classes that have default
access (as most of them do). When this happens, let me know what you're trying
to do and I'll try to arrange proper support for it. As time goes on, j will
evolve to have a truly useful public API to support arbitrary mappable
extensions.
<br><br>
The C++ tagger now supports class names correctly.
<br><br>
The display is now updated correctly when you dismiss the Properties dialog.
<br><br>
The history list in the Find Tag dialog now does a better job of storing the
actual found tag when you enter only part of the full tag name.
<br><br>
Added the UnsynchronizedStringBuffer class, which, as its name suggests, is a
partial implementation of a StringBuffer class without <b>synchronized</b>
methods, so it's a bit quicker when synchronization is not actually needed.
This class is used in <b>SystemBuffer.load</b>, so j is a bit quicker at
loading files now.
<br><br>
</li>

<li>
<b>Apr 2 1999 6:58 AM</b>
<br><br>
By request, added <b>newBuffer</b>, an implementation of the traditional
File/New approach to creating a new file, mapped by default to Ctrl N and
available on the File menu. The way this works internally, j creates a buffer
corresponding to a hypothetical file called "Untitled-n" (where n is a small
integer) in the current directory, with a special flag so that the first time
you try to save the file you will be prompted for a real file name.  This
allows a lot of things (undo, autosave, etc.) to work transparently, but under
certain circumstances (notably recovery after a crash), you may actually get a
file named "Untitled-n" in the current directory. Probably better than a kick
in the head, unless you already have a file with that exact name. This scheme
may need a little refinement, so use it gently at first and let me know if you
encounter any anomalies you think should be corrected.
<br><br>
In C/C++ files, tab characters contained in disabled text (that is, in #if 0/#endif
blocks) were not being expanded and displayed correctly. Fixed.
<br><br>
<b>SystemBuffer.load</b> now handles zero-length files correctly.
<br><br>
<b>wrapParagraph</b> now breaks after a semicolon if the going gets tough.
<br><br>
</li>

<li>
<b>Apr 1 1999 6:54 AM</b>
<br><br>
<b>expand</b> is now mapped by default to Alt / instead of Alt E.  (I was under
the mistaken impression that the Alt / keystroke was undetectible under NT.)
<br><br>
Optimized <b>Core.detab</b>, which is called by <b>formatLine</b> for every
line that gets painted.
<br><br>
</li>

<li>
<b>Mar 31 1999 8:44 AM</b>
<br><br>
Optimized the display code a bit.
<br><br>
Fixed a couple of bugs affecting the indentation of switch statements.
<br><br>
</li>

<li>
<b>Mar 30 1999 7:42 AM</b>
<br><br>
I've begun to add real support for the use of tab characters. These changes
should not be noticeable at all if you don't use actual tab characters in
your files. If you do use actual tab characters, you'll notice that the left
and right arrow keys now move left or right by one character rather than one
column, so if the character you're moving over happens to be a tab, the cursor
may move more than you expect. In addition, if you delete a character that
looks like a space but really is a tab, you may be surprised by the amount of
whitespace that gets deleted. Inserting characters on a line that contains tab
characters to the right of the insertion point may also elicit behavior that
could seem a little strange at first. Things can get even weirder if your
indent size is not the same as your tab width. Previously j tried to compensate
for all these things a bit, but the behavior was never entirely consistent and
certain things (selection in particular) were just broken, so I've removed all
of the special case code.
<br><br>
Maybe this is a good time to mention the functions <b>visibleTabs</b>, mapped
by default to Ctrl Alt T, a toggle which lets you see where the actual tab
characters actually are, and <b>detabRegion</b>, which is available from the
Execute Command dialog box (mapped by default to Alt X). These functions have
been around for a while, but you may not have felt a need for them before.
<br><br>
Fixed a bug in <b>Core.entab</b> (and hence also in <b>entabRegion</b>) that
was causing it to truncate the strings it entabbed if they already contained
any tab characters.
<br><br>
The files Editor.java and Display.java are now entabbed, with a tab width of 8
and an indent size of 4 (a perverse combination also favored by the JDK source),
until I'm sure there are no more quirks in the tab handling code.
<b>cycleTabWidth</b> (Alt T) is your friend...
<br><br>
</li>

<li>
<b>Mar 29 1999 7:33 AM</b>
<br><br>
<b>shell</b> is no longer mapped by default to any keystroke. At this point it
appears that the even best possible pure Java shell buffer implementation will
still be too fragile to offer to a wide audience. I was going to say that shell
buffers will be left in as an undocumented feature, but then someone would
point out that (strictly speaking) j has nothing but undocumented features, so
let me just say that shell buffers will be omitted from whatever documentation
may eventually be provided.  That said, you can still map <b>shell</b> to F9
(or anything else) in your extension class (see pg.java for an example); once
you get a shell buffer, it will work like it always did, or maybe just a tad
better.
<br><br>
You'll now get a reasonable error message rather than an unstable system if j
is unable to start the shell you've specified for your shell buffers.
<br><br>
Output is no longer written to the wrong buffer if you switch away from a shell
buffer with output pending.
<br><br>
Shell buffers now report their current directory correctly (at least to the
best of their limited ability), so it's possible (on a good day) to navigate to
a different directory in a shell buffer and open files there without having to
specify the full path.
<br><br>
</li>

<li>
<b>Mar 25 1999 8:59 AM</b>
<br><br>
Added <b>shellPreviousCommand</b> and <b>shellNextCommand</b>, mapped by
default to Ctrl P and Ctrl N, respectively, to provide support for command line
history in shell mode.
<br><br>
Added <b>shellEscape</b>, mapped by default to Esc in shell mode, which clears
any input text that may be on the command line, leaving you with a bare prompt.
This helps you get a fresh start if you fish through the history and don't find
what you want.
<br><br>
Added code to make it less likely that you'll casually backspace over your
prompt in shell mode.
<br><br>
</li>

<li>
<b>Mar 24 1999 7:58 AM</b>
<br><br>
There's now a bit of support for filename completion in shell buffers.  If you
type part of a filename and hit Tab, j will complete the entered string up
until the point where further completion is ambiguous. If you hit Tab again at
this point, you'll get a list of possible completions. The idea is that you can
type in another character or two and hit Tab yet again to keep going. There are
undoubtedly some bugs in this right now.  For one thing, j tries to watch over
your shoulder as you work in the shell buffer in order to keep track of what
directory you're in.  Right now, in j's limited view of things, the only
command that changes the current directory is cd, which of course isn't true,
and in addition j expects cd to be the first and only command on the line.  So
if you always change directories using cd and never put an additional command
on a line containing a cd, j just might be able to keep up with you.  You can
tell where j thinks you are by looking at the title bar of the window.  If you
see that j has become confused, you could try doing a cd to the directory
you're really in (which should have no effect on the actual shell) and hope
that j notices.  I'll try to make j a bit smarter about all this as time goes
on.  Filename completion has only been tested on Linux, so there may also be
some bugs under Windows that I'm not aware of.
<br><br>
Fixed a bug in <b>startServer</b> that was causing an exception when j was run
for the very first time on a new machine. <b>startServer</b> now makes sure
that the ~/.j directory actually exists before trying to create a file there.
<br><br>
</li>

<li>
<b>Mar 23 1999 8:24 AM</b>
<br><br>
Added the variables <b>shellFileName</b> and <b>shellPromptRegExp</b> to
<b>Defaults</b> to facilitate customization of shell buffers in your extension
class. <b>shellFileName</b> can be set to the name of your favorite shell, plus
any required command line parameters, if you don't like j's defaults. (See
pg.java for an example of how to do this for different platforms.)
<b>shellPromptRegExp</b> should be set to a regular expression that will match
your shell's prompt string, so j will be able to recognize it correctly.  The
default is "^[^#$%&gt;]*[#$%&gt;] *", but j reserves the right to revise the
default after seeing the first actual prompt.
<br><br>
Shell buffers now support tcsh as well as bash under Linux.  (In fact, the tcsh
support actually seems to work a bit better than the bash support.)
<br><br>
Implemented shell buffer syntax highlighting and added <b>colorPrompt</b>,
<b>colorInput</b>, and <b>stylePrompt</b> to <b>Defaults</b> to support
the customization thereof.
<br><br>
</li>

<li>
<b>Mar 22 1999 8:14 AM</b>
<br><br>
Added <b>shell</b>, mapped by default to F9, to let you run a shell in a
buffer. I've tested this using bash under Linux with both Java 1.1.7 and Java
1.2, and some things work better than others. Normal file operations and cvs
work fine, and you can even invoke j from a shell buffer, but programs like su
and ftp that need to prompt for a password don't work. There is probably some
limit to how far we can get with pure Java here, but I'm certainly not claiming
to have reached it. History and completion are not supported yet, but you can
scroll back up in the buffer and hit enter to repeat a previous command. Shell
buffers are not supported under Windows 95 or Windows 98; under Java 1.2, exec
never returns, and I don't know how to work around that. I think NT should be
OK, but I haven't tested it.  This feature needs to be customizable, but for
the moment, if you don't like bash, just change the code that sets the command
line at the top of Shell.java.
<br><br>
</li>

<li>
<b>Mar 19 1999 5:23 AM</b>
<br><br>
Cleaned up the menu code. We now call <b>unregisterKeyboardAction</b> for each
old menu item when switching menus so that the keyboard accelerators always
invoke the right commands. We also try to display the most recently added key
mapping as the accelerator in the menu item, so a mapping you add in your
extension class will show up on the menu rather than the default mapping, where
applicable.
<br><br>
Added a mechanism to make it less likely that keystrokes will be dropped when
speed search is first invoked in dired mode.
<br><br>
</li>

<li>
<b>Mar 17 1999 8:15 AM</b>
<br><br>
Shift button 1 click (that's the left button) now sets or extends the selection.
<br><br>
In directory and archive buffers, button 2 click (that's the middle button) opens the file clicked upon.
<br><br>
</li>

<li>
<b>Mar 16 1999 8:02 AM</b>
<br><br>
Backed out the Kaffe hack in Dispatcher.java.  It was breaking key mappings
like Ctrl Del and Ctrl Backspace. We need a better hack.
<br><br>
<b>findTag</b> tries even harder now.  If all else fails, it will look for a
prefix match in the current buffer.  Fixed a bug that was preventing
<b>findTag</b> from correctly matching tags without a class prefix under
certain circumstances.
<br><br>
In C and C++ files, sections of code beginning with "#if 0" are now grayed out,
up to the corresponding #else/#endif. If you don't like gray, change the value
of <b>Defaults.colorDisabled</b> in your extension class.
<br><br>
</li>

<li>
<b>Mar 15 1999 8:42 AM</b>
<br><br>
Added a couple of hacks to make j work (to some extent) with the latest
development snapshot of Kaffe. There are still some problems, but basic editing
is now possible.
<br><br>
Fixed the scroll bar code so that scrolling up one line at a time under 1.2 is
as fast as scrolling down. (In fact, it's even a tad faster.) Clicking above or
below the knob (thumb) now scrolls by a full page, as it should.
<br><br>
Added <b>top</b> and <b>bottom</b>, mapped by default to Ctrl PgUp and Ctrl
PgDn, respectively. These functions move the caret to the top or bottom line of
the window, keeping it in the same column.
<br><br>
</li>

<li>
<b>Mar 14 1999 11:51 AM</b>
<br><br>
<b>cyclePaste</b> no longer complains if the previous command was not a paste,
but rather just invokes <b>paste</b> itself.
<br><br>
If <b>Editor.useSystemClipboard</b> is <b>true</b>, strings promoted by
<b>cyclePaste</b> are also copied to the system clipboard.
<br><br>
Added <b>killAppend</b> and <b>copyAppend</b>, mapped by default to Ctrl Shift
X and Ctrl Shift C, and available on the Edit menu as "Cut Append" and "Copy
Append", respectively. These functions are like <b>killRegion</b> and
<b>copyRegion</b>, but they append the killed or copied region to the current
contents of the system clipboard or last kill ring entry, rather than adding
the region as a new entry unto itself.
<br><br>
Incorporated gnu.regexp 1.0.7, which was released yesterday.
<br><br>
</li>

<li>
<b>Mar 12 1999 9:08 AM</b>
<br><br>
Fixed a bug that was causing a directory buffer to be multiply loaded if you
re-sorted it, switched to a different buffer, and subsequently switched back.
<br><br>
Window placement is no longer saved if, in j's opinion, the frame in question
is maximized.
<br><br>
Made the Editor class, and the flag <b>Editor.debug</b>, <b>public</b>.
<b>Editor.debug</b> is <b>false</b>, by default, but you can change that in
your extension class if you'd like to see j's debug output. See pg.java for an
example.
<br><br>
The display fonts are now created in the constructor of the first Display
object, rather than with static initializers, and the Display class and the
variable <b>Display.fontSize</b> are now <b>public</b>. This lets you change
the font size programmatically in your extension class, which you may find
useful if you're experimenting with the Java 1.2 pre-release for Linux. See
pg.java for an example. Specifying  <b>fontSize</b> in ~/.j/prefs will override
the value you set in your extension class.
<br><br>
</li>

<li>
<b>Mar 10 1999 8:51 AM</b>
<br><br>
Fixed a recently introduced bug that caused j to crash if you specified a
non-existent file on the command line and then declined j's offer to create it.
<br><br>
Optimized things a bit to speed up horizontal cursor movement on extremely long
lines.
<br><br>
The display code now uses no more than a single pixel of leading between lines,
no matter what <b>getFontMetrics</b> says.
<br><br>
Changed the default mapping of <b>expand</b> from Alt /, which doesn't seem to
be recognized under Windows, to Alt E, which probably made more sense in the
first place.
<br><br>
Tag files are now deleted when they get to be more than five days old.  This
prevents the ~/.j/tagfiles directory from becoming cluttered with old tag files
that aren't relevant to your current work, or that might have been built by
earlier, less competent tagger code. If a deleted tag file is needed again
later, j will rebuild it automatically.
<br><br>
</li>

<li>
<b>Mar 8 1999 7:54 AM</b>
<br><br>
Added <b>redo</b>, mapped by default to Ctrl Y and available on the Edit menu.
<b>redo</b> redoes <b>undo</b>; <b>undo</b> undoes <b>redo</b>.
<br><br>
Added <b>expand</b>, mapped by default to Alt /. <b>expand</b> takes a sequence
of characters you've just typed (more precisely, the sequence of characters
that are legal in a Java identifier, beginning immediately to the left of the
caret), looks through the entire buffer for words (i.e. legal Java identifiers)
that have the sequence in question as a prefix, and replaces the sequence of
characters with the first match it finds (looking backwards in the buffer). If
you don't like that particular replacement, you can hit Alt / again (and again
and again) to cycle through all the possible replacements. If you don't like
any of the replacements, you can invoke <b>undo</b> at any point and get back
where you started. The prefix you type must be at least three characters long.
<br><br>
Added <b>insertBraces</b>, mapped by default to Ctrl [ (which you might prefer
to think of as Ctrl {) in Java, JavaScript and C++ modes. <b>insertBraces</b>
inserts an opening brace, followed by an empty line, followed by a closing
brace, indents everything properly and puts the caret on the empty line between
the braces, ready for you to type some code.
<br><br>
Added <b>htmlInsertEndTag</b>, mapped by default to Ctrl E in HTML mode.
<b>htmlInsertEndTag</b> looks backwards in the buffer for a start tag and
inserts the corresponding end tag at the position of the caret.  It doesn't try
to handle nested tags.
<br><br>
Search functions in j generally follow the convention that a search string
entered in all lower case characters is, by default, case-insensitive.
<b>replace</b> remains, even to this day, an exception to this policy, but
<b>findTag</b> has now been brought into line. In addition, if you enter a tag
that can't be found, j will try a bit harder not to come up completely empty by
matching tags that contain the entered string as a prefix.
<br><br>
<b>unwrapParagraph</b> has been added, mapped by default to Shift F12.  As its
name suggests, this function is the opposite of <b>wrapParagraph</b>.  It takes
the current paragraph and removes the line breaks, making it into one long line.
<br><br>
Ctrl , and Ctrl . (it made more sense to think of Ctrl &lt; and Ctrl &gt;) are
no longer mapped by default to <b>prevBuffer</b> and <b>nextBuffer</b>,
respectively.
<br><br>
</li>

<li>
<b>Mar 5 1999 9:34 AM</b>
<br><br>
A bit of cleanup in the Buffer List Dialog.  Unicode, read only and modified
buffers are now marked as such, and a summary line has been added below the
list box.
<br><br>
Remembered properties now include mode (particularly useful for STL header
files that lack an extension).
<br><br>
<b>findTagAtDot</b> now updates the Find Tag dialog's history list, so you can
find the same tag again later without having to type the whole thing in.
<br><br>
The Java and C++ taggers now correctly ignore quoted strings.
<br><br>
</li>

<li>
<b>Mar 4 1999 7:58 AM</b>
<br><br>
If you use <b>cycleTabWidth</b>, <b>cycleIndentSize</b> or the Properties
dialog (Alt P) to change or inspect the properties of a buffer, j will make a
good-faith effort to remember the properties you've specified (tab width,
indent size, etc.) the next time you open the same file. This applies to all
the properties displayed in the Properties dialog (even though the indent
before/after brace properties are not yet settable). For the moment, this
feature is limited to the 100 most recent files, a hard-coded limit which
may not be ideal (and should probably be user-configurable).
<br><br>
The Open File Dialog's history list (which you can get to by using the down
arrow in the "File:" edit field) is now updated when files are opened from
directory buffers or specified on the command line.
<br><br>
</li>

<li>
<b>Mar 3 1999 6:29 AM</b>
<br><br>
Added <b>tabWidth</b> and <b>indentSize</b> to Defaults.java.  By default,
<b>tabWidth</b> is 8 and <b>indentSize</b> is 4.  These, together with
<b>wrapCol</b> (which was there before, with a default value of 80) are global
defaults. You can specify different values in your extension class, either
globally, or for the corresponding variables on a mode-specific basis.  For
example:
<pre>
        Defaults.indentSize = 8; // Set global default to 8.
        JavaMode.indentSize = 2; // But in Java mode (only!) it's 2.
</pre>
Added <b>detabRegion</b> and <b>entabRegion</b>, available from the Execute
Command dialog box (Alt X).  These functions do what their names suggest, based
on the tab width that's in effect for the current buffer.  You can use the
Properties dialog (Alt P) to see what that is. These commands do NOT support
undo, so be careful with them!
<br><br>
In the Properties dialog, the "Expand tabs with spaces" checkbox has been
replaced with the "Use tabs" checkbox, which means the same thing, only just
the opposite.  Unlike its predecessor, the "Use tabs" checkbox is not disabled,
so you can now get j to insert actual tab characters in the buffer.  For the
moment, you can only set this flag on a per-buffer basis, so it's not very
useful, except for debugging j's tab handling code.  When the tab handling code
is fully tested, you will be able to set both global and mode-specific defaults
for this flag in your extension class.
<br><br>
Added <b>visibleTabs</b>, mapped by default to Ctrl Alt T. This command toggles
the global flag <b>tabsAreVisible</b>. If this flag is set, actual tab
characters in the buffer are displayed with the caret character '^', chosen
arbitrarily because it doesn't otherwise occur in any of j's source files. You
probably won't need to use the visible tabs feature unless you're trying to
debug j's tab handling code.
<br><br>
</li>

<li>
<b>Mar 1 1999 5:32 PM</b>
<br><br>
TagFileManager.cleanup was causing a null pointer exception when the tag file
directory did not exist. Fixed.
<br><br>
C++ now has its own tagger (in CppTagger.java), which handles constructor
initialization lists and <b>const</b> member functions correctly.
<br><br>
</li>

<li>
<b>Feb 28 1999 8:05 PM</b>
<br><br>
Tag files now live in the directory ~/.j/tagfiles (which is C:\.j\tagfiles if
you're running Windows) and are created and refreshed automatically. Under
normal circumstances, you should no longer have to take any explicit action in
order to make a tag file, so <b>makeTagFile</b> has been removed from the
Search menu. You can still invoke it from the Execute Command dialog box if
necessary.
<br><br>
Hitting the Tab key when it's not mapped should insert the right number of
spaces to get to the next tab stop.  It has been doing that correctly, but
because of a bug in the dispatcher code, <b>indentLineOrRegion</b> was getting
called too, which led to unanticipated effects.  Fixed.
<br><br>
</li>

<li>
<b>Feb 25 1999 11:01 AM</b>
<br><br>
Fixed the Find In Files progress dialog code to make updates smoother under
Windows.
<br><br>
</li>

<li>
<b>Feb 25 1999 8:23 AM</b>
<br><br>
Recent changes somehow introduced a bug in <b>findInFiles</b> which was
preventing the expansion of multiple search paths from working as intended (the
intended behavior is described <a href="#FindInFiles">below</a>). I
believe this is fixed now, but I haven't tested it under Windows.
<br><br>
<b>slideIn</b> and <b>slideOut</b> now use the buffer's <b>indentSize</b>, as
they should, rather than its <b>tabWidth</b>.
<br><br>
<b>wrapParagraph</b> tries a bit harder to find an acceptable line break in
HTML mode.  The caret position is now correctly preserved in all cases.
<br><br>
<b>findTag</b> tries a bit harder to find its tag even if the tag's signature
has changed in the source since the global tag file was last updated.
<br><br>
</li>

<li>
<b>Feb 23 1999 8:22 AM</b>
<br><br>
<b>saveAs</b> now clears the buffer's <b>isModified</b> and
<b>isModifiedSinceLastAutosave</b> flags and sets the buffer's
<b>lastModified</b> time stamp correctly.
<br><br>
<b>saveAs</b> and <b>saveCopy</b> now deal safely with situations where the
target file is in an active (or inactive) buffer.
<br><br>
<b>electricSemi</b> is no longer electric if the semicolon is quoted.
<br><br>
<b>wrapParagraph</b> now tries to break the line before a start tag if no
whitespace break is available.  Useful for reformatting canonical XML.
<br><br>
Fixed a couple of relatively obscure (and hard to descibe) indentation bugs.
<br><br>
</li>

<li>
<b>Feb 22 1999 6:15 AM</b>
<br><br>
Regular expression support has been extended to <b>replace</b> (the search
pattern only, not the replacement string) and <b>findInFiles</b>.  The file
regexp.txt, adapted from the gnu.regexp documentation and included in j.zip,
summarizes the supported regular expression syntax.
<br><br>
<b>openFile</b> and <b>findInFiles</b> are now better at handling file
specifications that begin with one or more instances of "../" (or "..\" under
Windows).
<br><br>
</li>

<li>
<b>Feb 21 1999 11:43 AM</b>
<br><br>
The Find dialog (invoked by <b>find</b>), <b>findNext</b> and <b>findPrev</b>
now support regular expressions, thanks to the GNU regular expression package.
(More information about the GNU regular expression package for Java is
available <a href="http://www.cacas.org/~wes/java/">here</a>.) When you unzip
the latest source, you'll get a gnu/regexp directory in the directory
containing j's .java files. No change should be needed in your CLASSPATH or
your build procedure (jikes *.java in the top-level directory should still
build everything that's needed).
<br><br>
</li>

<li>
<b>Feb 19 1999 7:58 AM</b>
<br><br>
Added <b>properties</b>, which brings up the Properties dialog, mapped to Alt P
by default and available on the File menu.  The Properties dialog allows you to
inspect and change various properties of the current buffer.  It's only
available for "normal" buffers at the moment, and parts of it are not hooked up
yet, but even so you may find it useful.
<br><br>
<b>wrapCol</b> may now be set on a per-buffer basis, using the new Properties dialog.
<br><br>
Archive buffers are now correctly flagged as read only.
<br><br>
</li>

<li>
<b>Feb 18 1999 10:10 AM</b>
<br><br>
Added the functions <b>javaMode</b>, <b>javaScriptMode</b>, <b>cppMode</b>,
<b>htmlMode</b> and <b>plainTextMode</b>, which can be invoked from the Execute
Command box (Alt X) to change the mode of the current buffer. These functions
have the side effect of setting the buffer's <b>indentSize</b> to the default
value for the mode in question. You can't use these functions to change the
mode of directory or archive buffers.
<br><br>
Managed to reproduce and fix a very elusive bug involving indentation on blank
lines. It caused an AssertionException (or a StringIndexOutOfBoundsException,
before I started looking for it), but only under rather obscure circumstances.
<br><br>
</li>

<li>
<b>Feb 17 1999 8:40 AM</b>
<br><br>
An attempt to access <b>HtmlMode.defaultIndentSize</b> in an extension class
whose .class file was not in the same directory as j's .class files was failing
because I forgot to declare the HtmlMode class <b>public</b>. Fixed.
<br><br>
You can now keep your extension class wherever you want to and specify the full
path to it in ~/.j/prefs. If you specify a string ending with ".class", j
interprets that string as a file name rather than a class name. If an absolute
path is not specified, j looks for the file, as before, in the ~/.j directory.
Bear in mind that on Windows, you'll need to use double backslashes, like this:
<pre>
        extension=c:\\foo\\bar.class
</pre>
It's still fine to keep your extension's .class file in the same directory with
j's .class files, but you'll need to refer to it in ~/.j/prefs with the class
name (which is the way things have worked up to now) or the absolute pathname
of the .class file. (This change shouldn't break anything that worked before.
In other words, you don't have to change anything unless you want to keep your
extension class in a new place.)
<br><br>
A couple of key mapping changes, as we continue our search for absolute
perfection in that important area.  <b>saveAllExit</b> has moved to Ctrl Shift
Q. That frees up Alt X for <b>exec</b>, which has the coincidental advantage of
being an Emacs-compatible mapping. F10 never worked on Windows anyway.
<br><br>
<b>saveAs</b> now does what you'd expect when you're working with an HTTP buffer.
<br><br>
</li>

<li>
<b>Feb 16 1999 8:38 AM</b>
<br><br>
The mode architecture has been strengthened. So far we have plain text, HTML,
Java, JavaScript, C++, archive and directory modes. Each mode does its own
indentation now.  Or, I should say, the architecture is in place for this.  The
actual implementation is pretty much the same as it was; I hope to correct this
in the next few days.  What you'll notice right away is that HTML, when it's
really HTML and not embedded JavaScript, is no longer forcibly indented as if
it were JavaScript. The new HTML indentation function just copies the
indentation from the previous line; I'm open to suggestions about how to
improve this. If the line in question really is embedded JavaScript, the HTML
indentation function hands it off to the JavaScript indentation function, which
for now is still the Java indentation function.  I did add a very ugly hack to
<b>JavaMode.getCorrectIndentation</b> that seems to do a better job of
indenting loose JavaScript (JavaScript without semicolons). This code needs to
be cleaned up and migrated to <b>JavaScriptMode.getCorrectIndentation</b> where
it belongs.
<br><br>
The mode is set based on the filename extension by the function <b>setMode</b>
in Buffer.java.  This needs to be made more flexible, of course, but for now if
you need to add another filename extension you can hack that function.  The
buffer defaults to plain text if all else fails. The mode name is now displayed
in the status bar.
<br><br>
Speaking of indentation, we now distinguish between <b>tabWidth</b> and
<b>indentSize</b>. Both of these parameters are set on a per-buffer basis.
<b>tabWidth</b> controls how many spaces are equivalent to a single tab
character, when displaying actual tab characters on the screen.  If there are
no actual tab characters in the buffer in question, this parameter never comes
into play.  <b>indentSize</b> controls how many spaces get inserted to indent a
line to the next indentation position (some folks call indentation positions
"tab stops", which adds to the confusion).
<br><br>
The important thing to remember is that <b>tabWidth</b> has nothing to do with
indentation. If you want your buffer to be indented by 2 characters per
indentation position, instead of the default 4, set the buffer's
<b>indentSize</b>, not its <b>tabWidth</b>, to 2. Now, changing a buffer's
<b>indentSize</b>, by itself, will have no immediate effect on the appearance
of the buffer; it won't retroactively change any of the indentation that's
already in place.  Changing a buffer's <b>tabWidth</b> may have an immediate
effect on the appearance of the buffer, if the buffer contains actual tab
characters, but it will have no effect on indentation subsequently applied to
the buffer. I hope this is clear.
<br><br>
All of this represents a change in j's behavior.  Up to now, j used the
buffer's <b>tabWidth</b> to control indentation as well as the display of tab
characters. That behavior was always wrong, or at least a bit deficient.
<b>tabWidth</b> and <b>indentSize</b> really are two distinct things, and j was
lumping them together. The new behavior is correct.
<br><br>
At the moment, there's no convenient way to get j to insert actual tab
characters in the buffer. This is a bug that will be fixed soon.
<br><br>
So, you ask, how do I change the <b>indentSize</b> of a buffer?  You use the
new function <b>cycleIndentSize</b>, available on the Edit menu and mapped by
default to Alt I.  It works like <b>cycleTabWidth</b>.  Watch the status line
to see what the buffer's <b>indentSize</b> has been set to.
<br><br>
It's also possible to specify a default indent size on a per-mode basis.  Each
mode has a <b>public static</b> variable called <b>defaultIndentSize</b>, which
you can set in your extension class, like this (for example):
<pre>
        JavaScriptMode.defaultIndentSize = 2;
</pre>
The function <b>wrapParagraph</b> has been added, mapped by default to F12 (but
only out of respect for tradition; we really need a better mapping). This
function, as its name suggests, wraps all the lines in the current paragraph at
the wrap column (which by default is column 80; it's controlled by the variable
<b>Defaults.wrapCol</b>, so you can change it in your extension class if you
prefer a different value). A paragraph is basically defined as a block of
contiguous lines with  blank lines before and after it. To make the definition
a bit more flexible, we recognize a line starting with &lt;p&gt;, &lt;br&gt; or
&lt;pre&gt; as the first line of a paragraph, even if the line before it is not
blank. Similarly, we recognize a line ending with &lt;p&gt;, &lt;/p&gt;,
&lt;br&gt; or &lt;/pre&gt; as the last line of a paragraph, even if the line
after it is not blank.  The caret is not moved, so you can invoke this function
to re-format the paragraph and immediately continue typing right where you left
off.
<br><br>
<b>findInFiles</b> now has a progress dialog (with a Stop button), which also
serves as the List Files dialog. The actual search now runs in its own thread.
You can move the progress dialog out of the way and do  whatever you want in j
while you're waiting for the search to finish.  You can also open files from
the list box of the progress dialog while the search is in progress.
<br><br>
When ignoring case, <b>replace</b> tries, paradoxically, to preserve case, if
possible, when it makes a replacement. Specifically, if you're replacing
"javaFormatter" with "cppFormatter", for example, an all-caps "JAVAFORMATTER"
will become "CPPFORMATTER", and a capitalized "JavaFormatter" (or
"Javaformatter" or "JAVAformatter") will  become "CppFormatter". These are the
only two situations in which the replacement string is altered to preserve
case. Upper-case letters in the replacement string are NEVER converted to lower
case. Confusing as this may seem, chances are good that this is the behavior
you actually want.
<br><br>
<b>replace</b> now returns empty-handed if a zero-length search pattern is
specified.  A zero-length replacement pattern is OK, however; that's just
equivalent to deleting the relevant occurrences of the search pattern.
<br><br>
<b>closeParen</b>, which flashes the caret over the opening parenthesis that
matches the closing parenthesis you've just typed, now limits its search for a
matching parenthesis to the preceding 50 lines.  This makes it noticeably
quicker near the end of a big buffer when the aforementioned matching
parenthesis does not actually exist.
<br><br>
As a side effect of improvements in the matching code to make it better at
ignoring comments and quotes, <b>closeParen</b> no longer works inside a
single-line ("//") comment. I'm not sure whether to call this a bug or a
feature.
<br><br>
Undo now correctly sets the buffer's <b>isModified</b> flag when undoing past a
save. (You did know it's possible to undo past a save, didn't you?)
<br><br>
When you set a filter on a directory buffer (using <b>diredSetFilter</b>, Alt F
in dired mode), the filter is now appended to the directory name in the title
bar.
<br><br>
You can now sort directory buffers by size, as well as by name and by date,
using <b>diredCycleSortBy</b> (Alt S in dired mode)
<br><br>
If a selection is highlighted, <b>newlineAndIndent</b> now deletes it before
doing the rest of its thing.
<br><br>
The syntax highlighting of multiline /* */ comments is now correct for
JavaScript embedded in HTML.
<br><br>
There is now a single idle thread, implemented in IdleThread.java, rather than
one idle thread per frame. We never really needed more than one.  As a result
the Dispatcher class (which used to handle the idle threads as well as the
dispatching) is a bit cleaner now.
<br><br>
The Incremental Find dialog has always done its best to remember where you last
put it, in order to have a fighting chance of not getting in your way. Under
Linux, icewm has a bug (or so it appears) which requires a slight adjustment in
the parameters passed to <b>setBounds</b> to get the box to come up in the
right place.  All well and good, but over time, the required adjustment has not
remained constant as new versions of icewm have appeared.  No adjustment at all
is required under Windows or with WindowMaker under Linux (I haven't tested any
other window managers).  Since it really does seem like an icewm bug, I've
removed the adjustment from the Incremental Find dialog code.  So if you're
running icewm, your Incremental Find dialog box may wander a bit.
<br><br>
Under Linux, it was possible, particularly with a misconfigured keyboard, to
end up with control characters in dialog box text fields.  You couldn't see
'em, but they were there, and in the case of <b>findInFiles</b>, for example,
you'd never find the string you thought you were looking for.  So now
HistoryTextFields filter control characters out of the strings they accept.  (A
control character is defined as any character for which
<b>Character.isISOControl</b> returns <b>true</b>. In plain English, those are
the characters between \u0000 and \u001f and between \u007f and \u009f,
inclusive.)
<br><br>
</li>

<li>
<b>Feb 11 1999 9:31 AM</b>
<br><br>
When invoked, j now looks for a currently running instance of itself, and if it finds one, it
passes along its command line and exits. Whatever files were specified on the command line will
be opened in the existing instance of j. The existing instance of j will be brought to the
foreground and given input focus (virtual desktops may muddy the waters a bit here, but under
no circumstances should you get a second instance of j).
<br><br>
A certain amount of cleanup and factoring in the code involved with opening files was required
by this change.  As a result, <b>openFileInOtherFrame</b> now works with URLs, and you can open
URLs from the command line.
<br><br>
You should no longer get a null pointer exception when closing an HTTP buffer from the Buffer
List dialog.
<br><br>
</li>

<li>
<b>Feb 10 1999 9:25 AM</b>
<br><br>
Added <b>saveAs</b>, mapped by default to Ctrl Shift S and available on the File menu.
<br><br>
Added <b>toggleSaveAsUnicode</b>, available from the Execute Command dialog box (on the File
menu). <b>toggleSaveAsUnicode</b> allows you to specify whether the current buffer should be
saved in Unicode or ASCII.  You can load a normal ASCII file, for example, and then invoke
<b>toggleSaveAsUnicode</b>; subsequent saves (including <b>saveAs</b> and <b>saveCopy</b>)
will be in Unicode.  Or vice versa.  This is useful for converting files from ASCII to Unicode.
Or vice versa.  As its name suggests, <b>toggleSaveAsUnicode</b> is a toggle. "(Unicode)" will
appear in the title bar if the buffer is in Unicode mode.
<br><br>
It's now possible to open a zero-byte file or a non-existent URL without really bad things
happening.
<br><br>
</li>

<li>
<b>Feb 9 1999 9:06 AM</b>
<br><br>
A bit more work on the mode architecture.  C++ mode no longer shares Java mode's keymap.
<br><br>
Added the function <b>electricPound</b>, mapped by default to '#' in C++ mode.  If you use
<b>electricPound</b> to insert a '#' on a line containing only whitespace, the '#' will be
forced into the first column of the line.
<br><br>
Added the function <b>cppFindMatch</b>, mapped by default to Ctrl M in C++ mode.  This function
matches #if/#else/#elif/#endif as well as braces, brackets and parentheses.
<br><br>
Added the variable <b>Defaults.autoNewline</b>.  If this variable is <b>true</b>, <b>electricSemi</b>
and <b>electricBrace</b> will automatically insert a newline and move the caret to the proper
indentation point on the new line.  The auto-newline feature is off by default.  You can turn it on
(or off) with the function <b>toggleAutoNewline</b>, which is available from the Execute Command
dialog box (on the File menu).  If you really like auto-newline, you can set
<b>Defaults.autoNewline</b> to <b>true</b> in your extension class.
<br><br>
The filename completion code in the Open File dialog now properly handles strings starting with
a '\' under Windows.
<br><br>
Added a timer to <b>reactivate</b> so it will only do its work once per reactivation, even if
<b>windowActivated</b> and <b>focusGained</b> both get called (which is sometimes the case
under Linux).
<br><br>
Unicode files are no longer read-only; you can edit and save them like any other files.  They
are written out in Unicode, in little-endian byte order with the appropriate byte order mark.
<br><br>
</li>

<li>
<b>Feb 8 1999 12:24 PM</b>
<br><br>
Fixed an array index out of bounds bug in the new Buffer List dialog code.
<br><br>
<b>reactivate</b>, which checks for external modifications to j's buffers (and to their read-only
status) when you switch back to j from another app, is now invoked from <b>focusGained</b> and from
<b>windowActivated</b>.  It seems like <b>focusGained</b> gets called under Linux and
<b>windowActivated</b> gets called under Windows (but not vice versa).
<br><br>
</li>

<li>
<b>Feb 8 1999 8:35 AM</b>
<br><br>
The key mapping code has been cleaned up a bit, with the result that it is no longer necessary
to call <b>unmapKey</b> before re-mapping the same keystroke in your extension class.
<p>
There's an experimental change to the Buffer List dialog (mapped by default to Alt B). Now, only
the short name of the buffer's file is displayed in the list box. The directory containing the
selected file is shown in the "Directory" static text field above the list box, which is updated
dynamically as you scroll through the list. This change is intended to make the dialog more usable
when you're working on files in deeply nested directory structures; the filename will no longer get
pushed out past the right edge of the list box. Please let me know if you don't like the new
behavior.
<br><br>
The function <b>diredRenameFile</b>, added yesterday, has been replaced by <b>diredMoveFile</b>
(mapped by default to Alt M), which does basically the same thing, except that it's also possible to
specify a directory as the destination of the move.
As was the case with <b>diredRenameFile</b>, when a file is moved with <b>diredMoveFile</b>, if there
is a buffer associated with that file, the buffer is renamed accordingly.
<br><br>
I forgot to mention in yesterday's release notes that <b>diredRefresh</b> is now mapped by default
to F5 in dired mode.
<br><br>
</li>

<li>
<b>Feb 7 1999 10:44 AM</b>
<br><br>
A bit more architectural support has been added for modes (Java mode, HTML mode, dired mode, etc.).
In particular, menus can now be mode-specific.  Dired mode is the first mode to take advantage of
this; note that the menus are different when you're looking at a directory buffer.  In addition,
for non-directory buffers, menu choices that modify the buffer are now grayed out if the buffer
is read-only.
<br><br>
The function <b>diredRenameFile</b> has been added, mapped to Alt R in dired mode.  When a file
is renamed, if there is a buffer associated with that file, the buffer is renamed accordingly.
<br><br>
</li>

<li>
<b>Feb 5 1999 8:21 AM</b>
<br><br>
Bookmark support has been added. You get ten bookmarks. You can set them  using Alt 1 through
Alt 0 (reading left to right along the top row of your keyboard, same thing as Alt 0 through Alt 9)
and go back to them once they're set using Ctrl 1 through Ctrl 0 (Ctrl 0 through Ctrl 9).  These
keystrokes map to the functions <b>dropBookmark</b> and <b>gotoBookmark</b>, respectively.  At the
moment it won't work to map these functions to any other keystrokes (although it's OK to unmap the
keystrokes completely or use them for other things).  Bookmarks still work correctly even if you've
closed the buffer they refer to. If you delete a region of text that contains one or more bookmarks,
they will be moved just outside of the deleted region.  Bookmarks are not, at present, meticulously
adjusted after every edit, so they might not stay exactly where you put them, but in general they
should always stay on the right line. Bookmarks are not saved between sessions.
<br><br>
Directory buffers now display information about symbolic links on operating systems that support them.
<br><br>
</li>

<li>
<b>Feb 2 1999 9:32 AM</b>
<br><br>
<b>diredCopyFile</b> now automatically refreshes the directory listing.
<br><br>
<b>diredRefresh</b> now tries to keep the caret on the same line.
<br><br>
<b>indentLineOrRegion</b> now handles the following code correctly:
<pre>
        while (dwTotalBytes &lt; dwContentLength &amp;&amp;
               GetTickCount( ) - dwStart &lt; dwTimeout)
        {
            bRet = InternetReadFile(hRequest,
                                    pData,
                                    BUFSIZE,
                                    &amp;dwBytesRead);
        }
</pre>
</li>

<li>
<b>Feb 1 1999 7:13 PM</b>
<br><br>
If a selection was marked and the "Restrict changes to selected text" checkbox was
checked in the Replace dialog, the "Replace All" option in the Confirm Replacement dialog
did not properly limit the scope of the replacements to the selected text. Fixed.
<br><br>
</li>

<li>
<b>Feb 1 1999 1:43 PM</b>
<br><br>
Fixed a bug in Find In Files that caused an "Unsupported wild card pattern" error for every
pattern entered (Windows only).
<br><br>
Added <b>diredCopyFile</b>, mapped to Alt C in dired mode.
<br><br>
</li>

<li>
<a name="FindInFiles"></a>
<b>Jan 31 1999 10:16 PM</b>
<br><br>
Everything in the Find In Files dialog except regular expression support is now fully implemented.
You can enter multiple wild card patterns in the Files text field, separated by semicolons (it's ok to
leave spaces on either side of the semicolons if you want).  If you specify a directory, that directory
applies to all subsequent wild card patterns that don't include a directory specification, until the next
one that does. For example, the string
<pre>
        c:\foo\*.cpp; *.h; d:\bar\*.java; *.txt
</pre>
expands to:
<pre>
        c:\foo\*.cpp
        c:\foo\*.h
        d:\bar\*.java
        d:\bar\*.txt
</pre>
If you don't specify a directory at all, the editor's current directory is assumed. The editor's
current directory is the directory of the buffer you're looking at, or your home directory (which is C:\
for Windows users) if the buffer you're looking at doesn't have a directory.
<br><br>
Directory buffers now support speed search. You can just start typing the name of the file you're
looking for, and an Incremental Find dialog will magically appear; you don't have to use Ctrl F to
get started.  To support this new functionality, the dired functions that were previously mapped to
plain alphabetic characters have been moved to the corresponding Alt keys:
<pre>
        <b>diredSetFilter</b>    Alt F
        <b>diredCycleSortBy</b>  Alt S
        <b>diredRefresh</b>      Alt G
</pre>
<b>makeTagFile</b> (which is the same thing as "Rebuild Tag File" on the Search menu) now looks at
files with the following extensions:
<pre>
        *.java
        *.cpp
        *.h
        *.js
        *.htm
        *.html
</pre>
HTML files have only been added to the list in order to support tagging the JavaScript embedded within them.
Currently the tagging function is Java-specific, and it's only a fortunate coincidence that it works at
all with other languages.
<br><br>
The filename completion functionality hooked to the tab key in the Open File dialog is now
case-insensitive by default.  You can change this behavior by setting the variable
<b>Defaults.openFileCompletionsIgnoreCase</b> to <b>false</b> in your extension class.
<br><br>
</li>

<li>
<b>Jan 31 1999 9:37 AM</b>
<br><br>
Most of the functionality of the Replace dialog (actually, everything except regular expression
support) is now fully implemented. <b>replace</b> is now mapped by default to Ctrl R instead of
Ctrl H.
<br><br>
The dispatcher code now ignores events for threads other than the normal AWT event queue thread.
The effect of this is that dialog boxes should no longer hang intermittently when they're first invoked.
<br><br>
In Java, JavaScript and HTML modes, the tab key is now mapped by default to a new function,
<b>indentLineOrRegion</b>, which applies j's idea of correct indentation to the marked region (if there
is one) or the current line (if not).
<br><br>
<b>incrementalFind</b> is now mapped by default to Ctrl F (again).  Ctrl I didn't work out; the keystroke
just doesn't get through for some reason under Windows with Java 1.2.  Hitting Enter with nothing in the
Pattern edit box of the incremental find dialog now brings up the other (I hesitate to say "normal") find dialog.
<br><br>
The functions <b>slideIn</b> and <b>slideOut</b>, which move the selected block of lines either in or out
by the equivalent of one tab stop, are now mapped by default to Alt ] and Alt [, respectively.
<br><br>
The variables <b>styleDefault</b>, <b>styleKeyword</b>, <b>styleFunction</b> and <b>styleDirectory</b>
have been added to Defaults.java, so you can now turn off bold fonts or make everything bold if you
want to in your extension class.
<br><br>
</li>

<li>
<b>Jan 29 1999 8:41 AM</b>
<br><br>
<b>cyclePaste</b> now works better when using the system clipboard.  If the "Use System Clipboard"
option is on, the initial paste must always comes from the system clipboard, so you lose the
advantage of <b>cyclePaste</b>'s promotion feature.  If the pasted string is not in the kill ring,
it's added, so <b>cyclePaste</b> will have access to it in the future.  So after a initial paste
from the system clipboard, <b>cyclePaste</b> should work as expected.
<br><br>
All the color variables are now <b>public</b> and have been moved into Defaults.java, so it should
now be possible to customize your colors in your extension class.  Directory buffers are now
displayed using <b>Defaults.colorText</b> instead of <b>Color.black</b>, so you can make them
more readable by choosing an appropriate <b>colorText</b> when using a black background.
As part of the cleanup in this area, <b>Defaults.colorSelection</b> has been renamed to
<b>Defaults.colorSelectionText</b>, and <b>Defaults.colorCurrentLine</b> has been renamed to
<b>Defaults.colorCurrentLineBackground</b>.
<br><br>
</li>

<li>
<b>Jan 28 1999 8:05 AM</b>
<br><br>
We distinguish between kills and deletions. A kill copies its content to the kill ring; a deletion does not.
Generally, functions whose names begin with "delete" carry out deletions; functions whose names begin
with "kill" carry out kills.  The functions mapped by default to the backspace and delete keys carry out
deletions, not kills.
<br><br>
The functions <b>killWord</b> and <b>killPrevWord</b> have been renamed to <b>killWordRight</b> and
<b>killWordLeft</b>, respectively.
<br><br>
The functions <b>deleteWordRight</b> and <b>deleteWordLeft</b> have been added.  In accordance with the
naming convention outlined above, these new functions do not copy their content to the kill ring.
These functions are mapped by default to Ctrl Delete and Ctrl Backspace, respectively. This means that
these keystrokes, by default, no longer copy the text they delete to the kill ring.  If you prefer the
old behavior, you might want to remap these keys to <b>killWordLeft</b> and <b>killWordRight</b> in
your extension class (see pg.java for an example of how to do this).
<br><br>
The behavior of the existing function <b>delete</b>, mapped by default to the Delete key, has been
changed so that it does not copy its content to the kill ring (which it only ever did if a
selection was marked).
<br><br>
The behavior of <b>cyclePaste</b> has changed slightly.  If you use <b>cyclePaste</b> to paste something
other than the last string copied to the kill ring, the string actually pasted will be moved to the
head of the class (so to speak).  This means that in general, more useful strings will end up in more
easily accessible positions in the kill ring.
<br><br>
<b>killWordLeft</b>, formerly <b>killPrevWord</b>, now kills the selection, if there is a selection.
<br><br>
HistoryTextFields now select the text in the edit field when they receive focus.
<br><br>
The Open File Dialog now uses a HistoryTextField.  You can use the up and down arrow keys to navigate
through the history list when you want to re-open a recently opened file.
<br><br>
The "Use System Clipboard" setting on the Edit menu is now persisted from one session to the next.
<br><br>
The source distribution now includes the file pg.java, which is my own personal extension class, as an
example of a working extension class.  This class won't actually get loaded on your system unless you
have the line "extension=pg" in your ~/.j/prefs.
<br><br>
</li>

<li>
<b>Jan 27 1999 9:31 AM</b>
<br><br>
Renamed <b>yank</b> to <b>paste</b> for consistency with the Edit menu.
<br><br>
Added <b>cyclePaste</b>, mapped to Ctrl Shift V.  All deletions of more than a single character are copied to the kill ring.
<b>paste</b> inserts the last string deleted; <b>cyclePaste</b>, if and only if invoked IMMEDIATELY
after <b>paste</b>, replaces the pasted string with the next string in the kill ring.  The kill ring
by default holds the last 30 strings deleted.
<br><br>
Renamed <b>find</b> to <b>incrementalFind</b> and moved it from Ctrl F to Ctrl I.
<br><br>
Added an entirely new non-incremental <b>find</b>, mapped to Ctrl F, which supports searching for delimited strings ("Whole words only").
A string is delimited (for the purposes of <b>find</b>) if the character immediately before it and the character immediately
after it are not legal in a Java identifier; this criterion should work for C and C++ too if you
generally stick to ASCII.  (This is the way <b>findNextWord</b> and <b>findPrevWord</b> have always worked.)
Eventually this definition should be made mode-specific.
<br><br>
<b>findNextWord</b> and <b>findPrevWord</b>, mapped to Alt Down and Alt Up respectively, now
set things up so that <b>findNext</b> and <b>findPrev</b>, mapped to F3 (or Ctrl G) and Shift F3 respectively, can be used to continue the search,
in case your caret strays from the string in question or in case you want to switch buffers and search for
the same string.
<br><br>
The Find In Files dialog now uses HistoryTextFields instead of combo boxes.  As usual, the up and down
arrows may be used to navigate through the history.
<br><br>
All the color defaults are now <b>public</b> and in Defaults.java, so it's possible to customize them in an
extension class.
<br><br>
</li>

<li>
<b>Jan 26 1999 8:35 AM</b>
<br><br>
The Find Tag dialog has been remodeled to use a HistoryTextEdit.  You can use
the up and down arrow keys to navigate through the history list when you're in
the edit field.  In addition, there's now a check box that lets you open (or
re-use) another frame for the found tag.
<br><br>
<b>htmlFindMatch</b> now matches the same characters <b>findMatchingChar</b>
does, in addition to its HTML-specific functionality.
<br><br>
Removed the mapping added yesterday of <b>findPrev</b> to Ctrl Shift G (I had
forgotten that Ctrl Shift G was already used for <b>gotoFile</b>).
<b>findPrev</b> is just mapped to Shift F3 now.
<br><br>
Added functions <b>lowerCaseRegion</b> and <b>upperCaseRegion</b>, available
from the Edit menu.
<br><br>
You can now select a word by doubleclicking on it.
<br><br>
</li>

<li>
<b>Jan 25 1999 8:07 AM</b>
<br><br>
<b>htmlFindMatch</b> has been added, mapped to Ctrl M in HTML mode. Finds end
tag corresponding to start tag at dot or vice versa, ignoring comments and
handling nested tags correctly.
<br><br>
The old functions <b>findNext</b> and <b>findPrev</b>, which looked for a match
for the delimited token at dot, have been renamed to <b>findNextWord</b> and
<b>findPrevWord</b> respectively, and <b>findAgain</b> has been renamed to
<b>findNext</b>. All of this in order to introduce a new <b>findPrev</b>,
mapped to Ctrl Shift G and Shift F3, which repeats the current search (if any)
in a backwards direction.
<br><br>
</li>

<li>
<b>Jan 24 1999 10:42 AM</b>
<br><br>
The vertical scroll bar is now hooked up for active operations. It probably
doesn't work exactly the way you'd expect (on Linux, at least, clicking above
or below the knob scrolls the window by 10 lines instead of a full page), but
it's better than nothing, and the details will be ironed out in due course.
<br><br>
While hooking up the scroll bar, I found a trick that significantly improves
the scrolling performance of lightweight components. The key is to call
<b>copyBits</b> in the context of the nearest heavyweight ancestor of the
lightweight component you'd like to scroll. So scrolling is now line-by-line,
the way it should be, instead of half a screenful at a time.
<br><br>
Once a tag file is loaded, it is now cached until a different tag file is
needed, or until <b>makeTagFile</b> is invoked.
<br><br>
Finally, an architectural change: the <b>Buffer</b> object no longer has any
concept of <b>dot</b> or <b>mark</b>. The <b>View</b> object now has full
responsibility for preserving the state of buffers that are not currently
displayed in the frame.
<br><br>
</li>

<li>
<b>Jan 22 1999 9:47 AM</b>
<br><br>
There's now a mechanism to support arbitrary user extensions.  You can add a
line like this to ~/.j/prefs (which is C:\.j\prefs for Windows users):
<blockquote>
  <b>extension=SampleExtension</b>
</blockquote>
where "SampleExtension" is the name of a class you've written, compiled, and
placed in ~/.j or C:\.j. There should be a method in that class called
<b>public void run()</b>, and the class itself must be declared <b>public</b>.
If all these conditions are met, your class will be loaded when the editor
starts up and the <b>run</b> method will be invoked. A sample extension class
is provided (SampleExtension.java), which shows how to map a key, unmap a key,
and turn off current line highlighting.
<br><br>
One problem you are likely to run into with this is that any editor method or
member variable referenced in your extension class must be explicitly declared
<b>public</b> in the editor source; otherwise you'll get an
IllegalAccessException.  The short-term solution to this is to edit the editor
source and make the thing  <b>public</b>; the long-term solution is to tell me
about it so that I make sure it stays <b>public</b> in the future.
<br><br>
The easiest way to write your extension class is to develop and debug it in the
same directory where you've got the editor's .java and .class files; the loader
will pick it up from there, so you don't have to copy it into ~/.j every time
you compile it.  When you're done you should move it into ~/.j and delete any
extraneous copies.
<br><br>
If you do a paste when there's a selection marked, the selection is now
replaced with the pasted text, like any other insertion when there's a
selection marked..
<br><br>
Fixed the key mapping strategy to work around a bug in Linux/JDK 1.1.7 which
was preventing keystrokes without modifiers from being mapped correctly.
<br><br>
In directory buffers, directories are now sorted to the top of the list.
<br><br>
Removed the code to gray out certain filenames in directory buffers.  If this
is done at all, it needs to be user-configurable.
<br><br>
Added <b>selectPageUp</b>, <b>selectPageDown</b>, <b>selectBob</b> and
<b>selectEob</b>, with the normal key mappings (Shift PgUp, Shift PgDn, Shift
Ctrl Home, Shift Ctrl End).
<br><br>
</li>

<li>
<b>Jan 21 1999 10:07 AM</b>
<br><br>
In Dired mode, <b>diredRefresh</b> is now mapped to g, as in Emacs. (The
mapping to F5 is broken by the way menus are currently implemented, and refresh
needs to be mapped to something.)
<br><br>
<b>Editor.windowActivate</b> now checks each buffer to see whether or not it's
read only on disk and sets the buffer <b>isReadOnly</b> flag accordingly.
<br><br>
</li>

<li>
<b>Jan 21 1999 12:50 AM</b>
<br><br>
Fixed the infamous buffer doubling bug.  The code that automatically (and
silently) reloads an unmodified buffer when the corresponding file is changed
on disk by another program was clearing the <b>isLoaded</b> flag before it
actually re-read the buffer, but not setting it again when it was done. If the
buffer in question was subsequently re-activated, <b>activate</b> checked the
flag, thought it wasn't loaded, and loaded it again.
<br><br>
The process of fixing that bug exposed two more. <b>SystemBuffer.empty</b>
wasn't removing stored views that referenced the old contents of the emptied
buffer. Removing the stored views to correct that problem forced
<b>restoreView</b> to get dot and mark from the <b>Buffer</b> object instead,
and as it turned out, these parameters also referenced the old contents of the
emptied buffer.  So now on a reload dot is moved to the beginning of the buffer
and mark is set to <b>null</b>, which isn't exactly right, but it's safe. This
whole subject should be revisited; it's not good to have dot and mark stored in
three different places (editor, view, and buffer) under various circumstances.
<br><br>
</li>

<li>
<b>Jan 20 1999 9:27 AM</b>
<br><br>
<b>Region.toString</b> now uses '\n' as the line separator even on Windows.
This is necessary for system clipboard support to work correctly.
<br><br>
Added <b>diredDeleteFile</b>, mapped to the delete key in Dired mode.
<br><br>
Added <b>selectAll</b>, mapped to Ctrl A.
<br><br>
Copied the VK_KP_xxx virtual key codes from the JDK 1.2 version of
KeyEvent.java into KeyMap.java and set up redundant mappings so the cursor keys
on the numeric keypad will work on Solaris.
<br><br>
</li>

<li>
<b>Jan 19 1999 10:01 AM</b>
<br><br>
If the first two bytes of a file are 0xff and 0xfe (in either order), the file
is treated as containing Unicode text (0xfeff is the Unicode byte order mark).
For now the buffer is read only. This seems to work in the trivial case where
all the characters are ASCII anyway.
<br><br>
Rewrote <b>insertString</b> to handle the possibility that the line terminators
in the string being inserted might not be the native line terminator of the
platform. Needed for system clipboard support.
<br><br>
Paste (<b>yank</b>) is a bit smarter now about recognizing blocks of lines when
using the system clipboard.
<br><br>
</li>

<li>
<b>Jan 19 1999 4:27 AM</b>
<br><br>
You can now enter a string starting with "http://" in the Open File dialog to
view the source of the specified URL. This may have destabilized things a tad
(but only if you use the new functionality).
<br><br>
Completion of strings starting with "~" or ".." now works better in the Open
File dialog.
<br><br>
A bit of support for the system clipboard is in. Right now it's an either/or
thing: either you use the system clipboard or you use the kill buffer (the kill
buffer is the default). There's a checkbox on the Edit menu to toggle back and
forth. If you leave it in the off position things should work exactly as
before. In any case all cut/copied strings go to the kill buffer too. A bit of
conceptual cleanup is needed here...
<br><br>
The function <b>stamp</b> has been added, mapped (for traditional reasons) to
Shift F2.  It inserts a date/time string at the current position of the caret.
<br><br>
</li>

</ul>

</body>
</html>
